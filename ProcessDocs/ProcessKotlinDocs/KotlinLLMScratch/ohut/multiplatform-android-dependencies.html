<html>
 <head>
  <meta charset="utf-8"/>
  <title>
   Kotlin Documentation
  </title>
  <link href="style.css" rel="stylesheet"/>
 </head>
 <body>
  <div style="text-align: center; margin-bottom: 1em;">
   <a href="toc.html" style="font-size: 24px; text-decoration: none;">
    Menu
   </a>
  </div>
  <article class="article" data-shortcut-switcher="inactive">
   <h1 data-toc="multiplatform-android-dependencies" id="multiplatform-android-dependencies.md">
    Adding Android dependencies
   </h1>
   <p id="-wu3aki_2">
    The workflow for adding Android-specific dependencies to a Kotlin Multiplatform module is the same as it is for pure Android projects: declare the dependency in your Gradle file and import the project. After that, you can use this dependency in your Kotlin code.
   </p>
   <p id="-wu3aki_3">
    We recommend declaring Android dependencies in Kotlin Multiplatform projects by adding them to a specific Android source set. For that, update your
    <code class="code" id="-wu3aki_10">
     build.gradle(.kts)
    </code>
    file in the
    <code class="code" id="-wu3aki_11">
     shared
    </code>
    directory of your project:
   </p>
   <div class="tabs" data-anchors="[-wu3aki_12,-wu3aki_13]" data-group="build-script" id="-wu3aki_4">
    <div class="tabs__content" data-gtm="tab" data-sync-tabs="kotlin" data-title="Kotlin" id="-wu3aki_12">
     <div class="code-block" data-lang="kotlin" data-title="Kotlin" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
      sourceSets {
    androidMain.dependencies {
        implementation("com.example.android:app-magic:12.3")
    }
}
     </div>
    </div>
    <div class="tabs__content" data-gtm="tab" data-sync-tabs="groovy" data-title="Groovy" id="-wu3aki_13">
     <div class="code-block" data-lang="groovy" data-title="Groovy" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
      sourceSets {
    androidMain {
        dependencies {
            implementation 'com.example.android:app-magic:12.3'
        }
    }
}
     </div>
    </div>
   </div>
   <p id="-wu3aki_5">
    Moving what was a top-level dependency in an Android project to a specific source set in a multiplatform project might be difficult if the top-level dependency had a non-trivial configuration name. For example, to move a
    <code class="code" id="-wu3aki_16">
     debugImplementation
    </code>
    dependency from the top level of an Android project, you'll need to add an implementation dependency to the source set named
    <code class="code" id="-wu3aki_17">
     androidDebug
    </code>
    . To minimize the effort you have to put in to deal with migration problems like this, you can add a
    <code class="code" id="-wu3aki_18">
     dependencies {}
    </code>
    block inside the
    <code class="code" id="-wu3aki_19">
     androidTarget {}
    </code>
    block:
   </p>
   <div class="tabs" data-anchors="[-wu3aki_20,-wu3aki_21]" data-group="build-script" id="-wu3aki_6">
    <div class="tabs__content" data-gtm="tab" data-sync-tabs="kotlin" data-title="Kotlin" id="-wu3aki_20">
     <div class="code-block" data-lang="kotlin" data-title="Kotlin" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
      androidTarget {
    //...
    dependencies {
        implementation("com.example.android:app-magic:12.3")
    }
}
     </div>
    </div>
    <div class="tabs__content" data-gtm="tab" data-sync-tabs="groovy" data-title="Groovy" id="-wu3aki_21">
     <div class="code-block" data-lang="groovy" data-title="Groovy" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
      androidTarget {
    //...
    dependencies {
        implementation 'com.example.android:app-magic:12.3'
    }
}
     </div>
    </div>
   </div>
   <p id="-wu3aki_7">
    Dependencies declared here will be treated exactly the same as dependencies from the top-level block, but declaring them this way will also separate Android dependencies visually in your build script and make it less confusing.
   </p>
   <p id="-wu3aki_8">
    Putting dependencies into a standalone
    <code class="code" id="-wu3aki_24">
     dependencies {}
    </code>
    block at the end of the script, in a way that is idiomatic to Android projects, is also supported. However, we strongly recommend
    <span class="control" id="-wu3aki_25">
     against
    </span>
    doing this because configuring a build script with Android dependencies in the top-level block and other target dependencies in each source set is likely to cause confusion.
   </p>
   <section class="chapter">
    <h2 data-toc="what-s-next" id="what-s-next">
     What's next?
    </h2>
    <p id="-wu3aki_26">
     Check out other resources on adding dependencies in multiplatform projects and learn more about:
    </p>
    <ul class="list _bullet" id="-wu3aki_27">
     <li class="list__item" id="-wu3aki_28">
      <p id="-wu3aki_31">
       <a data-external="true" href="https://developer.android.com/studio/build/dependencies" id="-wu3aki_32" rel="noopener noreferrer" style="color: red;" target="_blank">
        Adding dependencies in the official Android documentation
       </a>
      </p>
     </li>
     <li class="list__item" id="-wu3aki_29">
      <p id="-wu3aki_33">
       <a data-tooltip="Every program requires a set of libraries to operate successfully. A Kotlin Multiplatform project can depend on multiplatform libraries that work for all target platforms, platform-specific libraries, and other multiplatform projects." href="multiplatform-add-dependencies.html" id="-wu3aki_34" style="color: blue;">
        Adding dependencies on multiplatform libraries or other multiplatform projects
       </a>
      </p>
     </li>
     <li class="list__item" id="-wu3aki_30">
      <p id="-wu3aki_35">
       <a data-tooltip="Apple SDK dependencies (such as Foundation or Core Bluetooth) are available as a set of prebuilt libraries in Kotlin Multiplatform projects. They do not require any additional configuration." href="multiplatform-ios-dependencies.html" id="-wu3aki_36" style="color: blue;">
        Adding iOS dependencies
       </a>
      </p>
     </li>
    </ul>
   </section>
   <div class="last-modified">
    19 April 2025
   </div>
   <div data-feedback-placeholder="true">
   </div>
  </article>
 </body>
</html>
