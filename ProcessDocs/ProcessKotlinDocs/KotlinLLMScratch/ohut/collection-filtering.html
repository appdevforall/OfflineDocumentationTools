<html>
 <head>
  <meta charset="utf-8"/>
  <title>
   Kotlin Documentation
  </title>
  <link href="style.css" rel="stylesheet"/>
 </head>
 <body>
  <div style="text-align: center; margin-bottom: 1em;">
   <a href="toc.html" style="font-size: 24px; text-decoration: none;">
    Menu
   </a>
  </div>
  <article class="article" data-shortcut-switcher="inactive">
   <h1 data-toc="collection-filtering" id="collection-filtering.md">
    Filtering collections
   </h1>
   <p id="z1op7u3_2">
    Filtering is one of the most popular tasks in collection processing. In Kotlin, filtering conditions are defined by
    <span class="emphasis" id="z1op7u3_7">
     predicates
    </span>
    – lambda functions that take a collection element and return a boolean value:
    <code class="code" id="z1op7u3_8">
     true
    </code>
    means that the given element matches the predicate,
    <code class="code" id="z1op7u3_9">
     false
    </code>
    means the opposite.
   </p>
   <p id="z1op7u3_3">
    The standard library contains a group of extension functions that let you filter collections in a single call. These functions leave the original collection unchanged, so they are available for both
    <a data-tooltip="The Kotlin Standard Library provides implementations for basic collection types: sets, lists, and maps. A pair of interfaces represent each collection type:" href="collections-overview.html#collection-types" id="z1op7u3_10" style="color: blue;">
     mutable and read-only
    </a>
    collections. To operate the filtering result, you should assign it to a variable or chain the functions after filtering.
   </p>
   <section class="chapter">
    <h2 data-toc="filter-by-predicate" id="filter-by-predicate">
     Filter by predicate
    </h2>
    <p id="z1op7u3_11">
     The basic filtering function is
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter.html" id="z1op7u3_18" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="z1op7u3_25">
       filter()
      </code>
     </a>
     . When called with a predicate,
     <code class="code" id="z1op7u3_19">
      filter()
     </code>
     returns the collection elements that match it. For both
     <code class="code" id="z1op7u3_20">
      List
     </code>
     and
     <code class="code" id="z1op7u3_21">
      Set
     </code>
     , the resulting collection is a
     <code class="code" id="z1op7u3_22">
      List
     </code>
     , for
     <code class="code" id="z1op7u3_23">
      Map
     </code>
     it's a
     <code class="code" id="z1op7u3_24">
      Map
     </code>
     as well.
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
     fun main() {
//sampleStart
    val numbers = listOf("one", "two", "three", "four")  
    val longerThan3 = numbers.filter { it.length &gt; 3 }
    println(longerThan3)

    val numbersMap = mapOf("key1" to 1, "key2" to 2, "key3" to 3, "key11" to 11)
    val filteredMap = numbersMap.filter { (key, value) -&gt; key.endsWith("1") &amp;&amp; value &gt; 10}
    println(filteredMap)
//sampleEnd
}
    </div>
    <p id="z1op7u3_13">
     The predicates in
     <code class="code" id="z1op7u3_26">
      filter()
     </code>
     can only check the values of the elements. If you want to use element positions in the filter, use
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-indexed.html" id="z1op7u3_27" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="z1op7u3_28">
       filterIndexed()
      </code>
     </a>
     . It takes a predicate with two arguments: the index and the value of an element.
    </p>
    <p id="z1op7u3_14">
     To filter collections by negative conditions, use
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-not.html" id="z1op7u3_29" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="z1op7u3_31">
       filterNot()
      </code>
     </a>
     . It returns a list of elements for which the predicate yields
     <code class="code" id="z1op7u3_30">
      false
     </code>
     .
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
     fun main() {
//sampleStart
    val numbers = listOf("one", "two", "three", "four")
    
    val filteredIdx = numbers.filterIndexed { index, s -&gt; (index != 0) &amp;&amp; (s.length &lt; 5)  }
    val filteredNot = numbers.filterNot { it.length &lt;= 3 }

    println(filteredIdx)
    println(filteredNot)
//sampleEnd
}
    </div>
    <p id="z1op7u3_16">
     There are also functions that narrow the element type by filtering elements of a given type:
    </p>
    <ul class="list _bullet" id="z1op7u3_17">
     <li class="list__item" id="z1op7u3_32">
      <p id="z1op7u3_34">
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-is-instance.html" id="z1op7u3_37" rel="noopener noreferrer" style="color: red;" target="_blank">
        <code class="code" id="z1op7u3_42">
         filterIsInstance()
        </code>
       </a>
       returns collection elements of a given type. Being called on a
       <code class="code" id="z1op7u3_38">
        List&lt;Any&gt;
       </code>
       ,
       <code class="code" id="z1op7u3_39">
        filterIsInstance&lt;T&gt;()
       </code>
       returns a
       <code class="code" id="z1op7u3_40">
        List&lt;T&gt;
       </code>
       , thus allowing you to call functions of the
       <code class="code" id="z1op7u3_41">
        T
       </code>
       type on its items.
      </p>
      <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
       fun main() {
//sampleStart
    val numbers = listOf(null, 1, "two", 3.0, "four")
    println("All String elements in upper case:")
    numbers.filterIsInstance&lt;String&gt;().forEach {
        println(it.uppercase())
    }
//sampleEnd
}
      </div>
      <p id="z1op7u3_36">
      </p>
     </li>
     <li class="list__item" id="z1op7u3_33">
      <p id="z1op7u3_43">
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-not-null.html" id="z1op7u3_46" rel="noopener noreferrer" style="color: red;" target="_blank">
        <code class="code" id="z1op7u3_50">
         filterNotNull()
        </code>
       </a>
       returns all non-nullable elements. Being called on a
       <code class="code" id="z1op7u3_47">
        List&lt;T?&gt;
       </code>
       ,
       <code class="code" id="z1op7u3_48">
        filterNotNull()
       </code>
       returns a
       <code class="code" id="z1op7u3_49">
        List&lt;T: Any&gt;
       </code>
       , thus allowing you to treat the elements as non-nullable objects.
      </p>
      <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
       fun main() {
//sampleStart
    val numbers = listOf(null, "one", "two", null)
    numbers.filterNotNull().forEach {
        println(it.length)   // length is unavailable for nullable Strings
    }
//sampleEnd
}
      </div>
      <p id="z1op7u3_45">
      </p>
     </li>
    </ul>
   </section>
   <section class="chapter">
    <h2 data-toc="partition" id="partition">
     Partition
    </h2>
    <p id="z1op7u3_51">
     Another filtering function –
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/partition.html" id="z1op7u3_53" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="z1op7u3_56">
       partition()
      </code>
     </a>
     – filters a collection by a predicate and keeps the elements that don't match it in a separate list. So, you have a
     <code class="code" id="z1op7u3_54">
      Pair
     </code>
     of
     <code class="code" id="z1op7u3_55">
      List
     </code>
     s as a return value: the first list containing elements that match the predicate and the second one containing everything else from the original collection.
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
     fun main() {
//sampleStart
    val numbers = listOf("one", "two", "three", "four")
    val (match, rest) = numbers.partition { it.length &gt; 3 }

    println(match)
    println(rest)
//sampleEnd
}
    </div>
   </section>
   <section class="chapter">
    <h2 data-toc="test-predicates" id="test-predicates">
     Test predicates
    </h2>
    <p id="z1op7u3_57">
     Finally, there are functions that simply test a predicate against collection elements:
    </p>
    <ul class="list _bullet" id="z1op7u3_58">
     <li class="list__item" id="z1op7u3_62">
      <p id="z1op7u3_65">
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/any.html" id="z1op7u3_66" rel="noopener noreferrer" style="color: red;" target="_blank">
        <code class="code" id="z1op7u3_68">
         any()
        </code>
       </a>
       returns
       <code class="code" id="z1op7u3_67">
        true
       </code>
       if at least one element matches the given predicate.
      </p>
     </li>
     <li class="list__item" id="z1op7u3_63">
      <p id="z1op7u3_69">
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/none.html" id="z1op7u3_70" rel="noopener noreferrer" style="color: red;" target="_blank">
        <code class="code" id="z1op7u3_72">
         none()
        </code>
       </a>
       returns
       <code class="code" id="z1op7u3_71">
        true
       </code>
       if none of the elements match the given predicate.
      </p>
     </li>
     <li class="list__item" id="z1op7u3_64">
      <p id="z1op7u3_73">
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/all.html" id="z1op7u3_74" rel="noopener noreferrer" style="color: red;" target="_blank">
        <code class="code" id="z1op7u3_79">
         all()
        </code>
       </a>
       returns
       <code class="code" id="z1op7u3_75">
        true
       </code>
       if all elements match the given predicate. Note that
       <code class="code" id="z1op7u3_76">
        all()
       </code>
       returns
       <code class="code" id="z1op7u3_77">
        true
       </code>
       when called with any valid predicate on an empty collection. Such behavior is known in logic as
       <span class="emphasis" id="z1op7u3_78">
        <a data-external="true" href="https://en.wikipedia.org/wiki/Vacuous_truth" id="z1op7u3_80" rel="noopener noreferrer" style="color: red;" target="_blank">
         vacuous truth
        </a>
       </span>
       .
      </p>
     </li>
    </ul>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
     fun main() {
//sampleStart
    val numbers = listOf("one", "two", "three", "four")

    println(numbers.any { it.endsWith("e") })
    println(numbers.none { it.endsWith("a") })
    println(numbers.all { it.endsWith("e") })

    println(emptyList&lt;Int&gt;().all { it &gt; 5 })   // vacuous truth
//sampleEnd
}
    </div>
    <p id="z1op7u3_60">
     <code class="code" id="z1op7u3_81">
      any()
     </code>
     and
     <code class="code" id="z1op7u3_82">
      none()
     </code>
     can also be used without a predicate: in this case they just check the collection emptiness.
     <code class="code" id="z1op7u3_83">
      any()
     </code>
     returns
     <code class="code" id="z1op7u3_84">
      true
     </code>
     if there are elements and
     <code class="code" id="z1op7u3_85">
      false
     </code>
     if there aren't;
     <code class="code" id="z1op7u3_86">
      none()
     </code>
     does the opposite.
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
     fun main() {
//sampleStart
    val numbers = listOf("one", "two", "three", "four")
    val empty = emptyList&lt;String&gt;()

    println(numbers.any())
    println(empty.any())
    
    println(numbers.none())
    println(empty.none())
//sampleEnd
}
    </div>
   </section>
   <div class="last-modified">
    19 April 2025
   </div>
   <div data-feedback-placeholder="true">
   </div>
  </article>
 </body>
</html>
