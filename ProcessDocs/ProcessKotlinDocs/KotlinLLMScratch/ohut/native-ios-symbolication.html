<html>
 <head>
  <meta charset="utf-8"/>
  <title>
   Kotlin Documentation
  </title>
  <link href="style.css" rel="stylesheet"/>
 </head>
 <body>
  <div style="text-align: center; margin-bottom: 1em;">
   <a href="toc.html" style="font-size: 24px; text-decoration: none;">
    Menu
   </a>
  </div>
  <article class="article" data-shortcut-switcher="inactive">
   <h1 data-toc="native-ios-symbolication" id="native-ios-symbolication.md">
    Symbolicating iOS crash reports
   </h1>
   <p id="-40uag7_2">
    Debugging an iOS application crash sometimes involves analyzing crash reports. More info about crash reports can be found in the
    <a data-external="true" href="https://developer.apple.com/library/archive/technotes/tn2151/_index.html" id="-40uag7_6" rel="noopener noreferrer" style="color: red;" target="_blank">
     Apple documentation
    </a>
    .
   </p>
   <p id="-40uag7_3">
    Crash reports generally require symbolication to become properly readable: symbolication turns machine code addresses into human-readable source locations. The document below describes some specific details of symbolicating crash reports from iOS applications using Kotlin.
   </p>
   <section class="chapter">
    <h2 data-toc="producing-dsym-for-release-kotlin-binaries" id="producing-dsym-for-release-kotlin-binaries">
     Producing .dSYM for release Kotlin binaries
    </h2>
    <p id="-40uag7_7">
     To symbolicate addresses in Kotlin code (e.g. for stack trace elements corresponding to Kotlin code)
     <code class="code" id="-40uag7_11">
      .dSYM
     </code>
     bundle for Kotlin code is required.
    </p>
    <p id="-40uag7_8">
     By default, Kotlin/Native compiler produces
     <code class="code" id="-40uag7_12">
      .dSYM
     </code>
     for release (i.e. optimized) binaries on Darwin platforms. This can be disabled with
     <code class="code" id="-40uag7_13">
      -Xadd-light-debug=disable
     </code>
     compiler flag. At the same time, this option is disabled by default for other platforms. To enable it, use the
     <code class="code" id="-40uag7_14">
      -Xadd-light-debug=enable
     </code>
     compiler option.
    </p>
    <div class="tabs" data-anchors="[-40uag7_15,-40uag7_16]" data-group="build-script" id="-40uag7_9">
     <div class="tabs__content" data-gtm="tab" data-sync-tabs="kotlin" data-title="Kotlin" id="-40uag7_15">
      <div class="code-block" data-lang="kotlin" data-title="Kotlin" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
       kotlin {
    targets.withType&lt;org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget&gt; {
        binaries.all {
            freeCompilerArgs += "-Xadd-light-debug={enable|disable}"
        }
    }
}
      </div>
     </div>
     <div class="tabs__content" data-gtm="tab" data-sync-tabs="groovy" data-title="Groovy" id="-40uag7_16">
      <div class="code-block" data-lang="groovy" data-title="Groovy" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
       kotlin {
    targets.withType(org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget) {
        binaries.all {
            freeCompilerArgs += "-Xadd-light-debug={enable|disable}"
        }
    }
}
      </div>
     </div>
    </div>
    <p id="-40uag7_10">
     In projects created from IntelliJ IDEA or AppCode templates these
     <code class="code" id="-40uag7_19">
      .dSYM
     </code>
     bundles are then discovered by Xcode automatically.
    </p>
   </section>
   <section class="chapter">
    <h2 data-toc="make-frameworks-static-when-using-rebuild-from-bitcode" id="make-frameworks-static-when-using-rebuild-from-bitcode">
     Make frameworks static when using rebuild from bitcode
    </h2>
    <p id="-40uag7_20">
     Rebuilding Kotlin-produced framework from bitcode invalidates the original
     <code class="code" id="-40uag7_23">
      .dSYM
     </code>
     . If it is performed locally, make sure the updated
     <code class="code" id="-40uag7_24">
      .dSYM
     </code>
     is used when symbolicating crash reports.
    </p>
    <p id="-40uag7_21">
     If rebuilding is performed on App Store side, then
     <code class="code" id="-40uag7_25">
      .dSYM
     </code>
     of rebuilt
     <span class="emphasis" id="-40uag7_26">
      dynamic
     </span>
     framework seems discarded and not downloadable from App Store Connect. In this case, it may be required to make the framework static.
    </p>
    <div class="tabs" data-anchors="[-40uag7_27,-40uag7_28]" data-group="build-script" id="-40uag7_22">
     <div class="tabs__content" data-gtm="tab" data-sync-tabs="kotlin" data-title="Kotlin" id="-40uag7_27">
      <div class="code-block" data-lang="kotlin" data-title="Kotlin" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
       kotlin {
    targets.withType&lt;org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget&gt; {
        binaries.withType&lt;org.jetbrains.kotlin.gradle.plugin.mpp.Framework&gt; {
            isStatic = true
        }
    }
}
      </div>
     </div>
     <div class="tabs__content" data-gtm="tab" data-sync-tabs="groovy" data-title="Groovy" id="-40uag7_28">
      <div class="code-block" data-lang="groovy" data-title="Groovy" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
       kotlin {
    targets.withType(org.jetbrains.kotlin.gradle.plugin.mpp.KotlinNativeTarget) {
        binaries.withType(org.jetbrains.kotlin.gradle.plugin.mpp.Framework) {
            isStatic = true
        }
    }
}
      </div>
     </div>
    </div>
   </section>
   <div class="last-modified">
    19 April 2025
   </div>
   <div data-feedback-placeholder="true">
   </div>
  </article>
 </body>
</html>
