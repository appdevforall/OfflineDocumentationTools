<html>
 <head>
  <meta charset="utf-8"/>
  <title>
   Kotlin Documentation
  </title>
  <link href="style.css" rel="stylesheet"/>
 </head>
 <body>
  <div style="text-align: center; margin-bottom: 1em;">
   <a href="toc.html" style="font-size: 24px; text-decoration: none;">
    Menu
   </a>
  </div>
  <article class="article" data-shortcut-switcher="inactive">
   <h1 data-toc="collection-aggregate" id="collection-aggregate.md">
    Aggregate operations
   </h1>
   <p id="wd0w3a_2">
    Kotlin collections contain functions for commonly used
    <span class="emphasis" id="wd0w3a_12">
     aggregate operations
    </span>
    – operations that return a single value based on the collection content. Most of them are well known and work the same way as they do in other languages:
   </p>
   <ul class="list _bullet" id="wd0w3a_3">
    <li class="list__item" id="wd0w3a_13">
     <p id="wd0w3a_17">
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/min-or-null.html" id="wd0w3a_18" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_21">
        minOrNull()
       </code>
      </a>
      and
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-or-null.html" id="wd0w3a_19" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_22">
        maxOrNull()
       </code>
      </a>
      return the smallest and the largest element respectively. On empty collections, they return
      <code class="code" id="wd0w3a_20">
       null
      </code>
      .
     </p>
    </li>
    <li class="list__item" id="wd0w3a_14">
     <p id="wd0w3a_23">
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/average.html" id="wd0w3a_24" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_25">
        average()
       </code>
      </a>
      returns the average value of elements in the collection of numbers.
     </p>
    </li>
    <li class="list__item" id="wd0w3a_15">
     <p id="wd0w3a_26">
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sum.html" id="wd0w3a_27" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_28">
        sum()
       </code>
      </a>
      returns the sum of elements in the collection of numbers.
     </p>
    </li>
    <li class="list__item" id="wd0w3a_16">
     <p id="wd0w3a_29">
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/count.html" id="wd0w3a_30" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_31">
        count()
       </code>
      </a>
      returns the number of elements in a collection.
     </p>
    </li>
   </ul>
   <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
    fun main() {
    val numbers = listOf(6, 42, 10, 4)

    println("Count: ${numbers.count()}")
    println("Max: ${numbers.maxOrNull()}")
    println("Min: ${numbers.minOrNull()}")
    println("Average: ${numbers.average()}")
    println("Sum: ${numbers.sum()}")
}
   </div>
   <p id="wd0w3a_5">
    There are also functions for retrieving the smallest and the largest elements by certain selector function or custom
    <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-comparator/index.html" id="wd0w3a_32" rel="noopener noreferrer" style="color: red;" target="_blank">
     <code class="code" id="wd0w3a_33">
      Comparator
     </code>
    </a>
    :
   </p>
   <ul class="list _bullet" id="wd0w3a_6">
    <li class="list__item" id="wd0w3a_34">
     <p id="wd0w3a_38">
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-by-or-null.html" id="wd0w3a_39" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_41">
        maxByOrNull()
       </code>
      </a>
      and
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/min-by-or-null.html" id="wd0w3a_40" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_42">
        minByOrNull()
       </code>
      </a>
      take a selector function and return the element for which it returns the largest or the smallest value.
     </p>
    </li>
    <li class="list__item" id="wd0w3a_35">
     <p id="wd0w3a_43">
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-with-or-null.html" id="wd0w3a_44" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_48">
        maxWithOrNull()
       </code>
      </a>
      and
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/min-with-or-null.html" id="wd0w3a_45" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_49">
        minWithOrNull()
       </code>
      </a>
      take a
      <code class="code" id="wd0w3a_46">
       Comparator
      </code>
      object and return the largest or smallest element according to that
      <code class="code" id="wd0w3a_47">
       Comparator
      </code>
      .
     </p>
    </li>
    <li class="list__item" id="wd0w3a_36">
     <p id="wd0w3a_50">
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-of-or-null.html" id="wd0w3a_51" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_53">
        maxOfOrNull()
       </code>
      </a>
      and
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/min-of-or-null.html" id="wd0w3a_52" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_54">
        minOfOrNull()
       </code>
      </a>
      take a selector function and return the largest or the smallest return value of the selector itself.
     </p>
    </li>
    <li class="list__item" id="wd0w3a_37">
     <p id="wd0w3a_55">
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-of-with-or-null.html" id="wd0w3a_56" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_60">
        maxOfWithOrNull()
       </code>
      </a>
      and
      <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/min-of-with-or-null.html" id="wd0w3a_57" rel="noopener noreferrer" style="color: red;" target="_blank">
       <code class="code" id="wd0w3a_61">
        minOfWithOrNull()
       </code>
      </a>
      take a
      <code class="code" id="wd0w3a_58">
       Comparator
      </code>
      object and return the largest or smallest selector return value according to that
      <code class="code" id="wd0w3a_59">
       Comparator
      </code>
      .
     </p>
    </li>
   </ul>
   <p id="wd0w3a_7">
    These functions return
    <code class="code" id="wd0w3a_62">
     null
    </code>
    on empty collections. There are also alternatives –
    <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-of.html" id="wd0w3a_63" rel="noopener noreferrer" style="color: red;" target="_blank">
     <code class="code" id="wd0w3a_68">
      maxOf
     </code>
    </a>
    ,
    <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/min-of.html" id="wd0w3a_64" rel="noopener noreferrer" style="color: red;" target="_blank">
     <code class="code" id="wd0w3a_69">
      minOf
     </code>
    </a>
    ,
    <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/max-of-with.html" id="wd0w3a_65" rel="noopener noreferrer" style="color: red;" target="_blank">
     <code class="code" id="wd0w3a_70">
      maxOfWith
     </code>
    </a>
    , and
    <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/min-of-with.html" id="wd0w3a_66" rel="noopener noreferrer" style="color: red;" target="_blank">
     <code class="code" id="wd0w3a_71">
      minOfWith
     </code>
    </a>
    – which do the same as their counterparts but throw a
    <code class="code" id="wd0w3a_67">
     NoSuchElementException
    </code>
    on empty collections.
   </p>
   <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
    fun main() {
//sampleStart
    val numbers = listOf(5, 42, 10, 4)
    val min3Remainder = numbers.minByOrNull { it % 3 }
    println(min3Remainder)

    val strings = listOf("one", "two", "three", "four")
    val longestString = strings.maxWithOrNull(compareBy { it.length })
    println(longestString)
//sampleEnd
}
   </div>
   <p id="wd0w3a_9">
    Besides regular
    <code class="code" id="wd0w3a_72">
     sum()
    </code>
    , there is an advanced summation function
    <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/sum-of.html" id="wd0w3a_73" rel="noopener noreferrer" style="color: red;" target="_blank">
     <code class="code" id="wd0w3a_81">
      sumOf()
     </code>
    </a>
    that takes a selector function and returns the sum of its application to all collection elements. Selector can return different numeric types:
    <code class="code" id="wd0w3a_74">
     Int
    </code>
    ,
    <code class="code" id="wd0w3a_75">
     Long
    </code>
    ,
    <code class="code" id="wd0w3a_76">
     Double
    </code>
    ,
    <code class="code" id="wd0w3a_77">
     UInt
    </code>
    , and
    <code class="code" id="wd0w3a_78">
     ULong
    </code>
    (also
    <code class="code" id="wd0w3a_79">
     BigInteger
    </code>
    and
    <code class="code" id="wd0w3a_80">
     BigDecimal
    </code>
    on the JVM).
   </p>
   <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.4" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
    fun main() {
//sampleStart
    val numbers = listOf(5, 42, 10, 4)
    println(numbers.sumOf { it * 2 })
    println(numbers.sumOf { it.toDouble() / 2 })
//sampleEnd
}
   </div>
   <section class="chapter">
    <h2 data-toc="fold-and-reduce" id="fold-and-reduce">
     Fold and reduce
    </h2>
    <p id="wd0w3a_82">
     For more specific cases, there are the functions
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce.html" id="wd0w3a_96" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_98">
       reduce()
      </code>
     </a>
     and
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold.html" id="wd0w3a_97" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_99">
       fold()
      </code>
     </a>
     that apply the provided operation to the collection elements sequentially and return the accumulated result. The operation takes two arguments: the previously accumulated value and the collection element.
    </p>
    <p id="wd0w3a_83">
     The difference between the two functions is that
     <code class="code" id="wd0w3a_100">
      fold()
     </code>
     takes an initial value and uses it as the accumulated value on the first step, whereas the first step of
     <code class="code" id="wd0w3a_101">
      reduce()
     </code>
     uses the first and the second elements as operation arguments on the first step.
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
     fun main() {
//sampleStart
    val numbers = listOf(5, 2, 10, 4)

    val simpleSum = numbers.reduce { sum, element -&gt; sum + element }
    println(simpleSum)
    val sumDoubled = numbers.fold(0) { sum, element -&gt; sum + element * 2 }
    println(sumDoubled)

    //incorrect: the first element isn't doubled in the result
    //val sumDoubledReduce = numbers.reduce { sum, element -&gt; sum + element * 2 } 
    //println(sumDoubledReduce)
//sampleEnd
}
    </div>
    <p id="wd0w3a_85">
     The example above shows the difference:
     <code class="code" id="wd0w3a_102">
      fold()
     </code>
     is used for calculating the sum of doubled elements. If you pass the same function to
     <code class="code" id="wd0w3a_103">
      reduce()
     </code>
     , it will return another result because it uses the list's first and second elements as arguments on the first step, so the first element won't be doubled.
    </p>
    <p id="wd0w3a_86">
     To apply a function to elements in the reverse order, use functions
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce-right.html" id="wd0w3a_104" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_108">
       reduceRight()
      </code>
     </a>
     and
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold-right.html" id="wd0w3a_105" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_109">
       foldRight()
      </code>
     </a>
     . They work in a way similar to
     <code class="code" id="wd0w3a_106">
      fold()
     </code>
     and
     <code class="code" id="wd0w3a_107">
      reduce()
     </code>
     but start from the last element and then continue to previous. Note that when folding or reducing right, the operation arguments change their order: first goes the element, and then the accumulated value.
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
     fun main() {
//sampleStart
    val numbers = listOf(5, 2, 10, 4)
    val sumDoubledRight = numbers.foldRight(0) { element, sum -&gt; sum + element * 2 }
    println(sumDoubledRight)
//sampleEnd
}
    </div>
    <p id="wd0w3a_88">
     You can also apply operations that take element indices as parameters. For this purpose, use functions
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce-indexed.html" id="wd0w3a_110" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_112">
       reduceIndexed()
      </code>
     </a>
     and
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold-indexed.html" id="wd0w3a_111" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_113">
       foldIndexed()
      </code>
     </a>
     passing element index as the first argument of the operation.
    </p>
    <p id="wd0w3a_89">
     Finally, there are functions that apply such operations to collection elements from right to left -
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce-right-indexed.html" id="wd0w3a_114" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_116">
       reduceRightIndexed()
      </code>
     </a>
     and
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold-right-indexed.html" id="wd0w3a_115" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_117">
       foldRightIndexed()
      </code>
     </a>
     .
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.3" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
     fun main() {
//sampleStart
    val numbers = listOf(5, 2, 10, 4)
    val sumEven = numbers.foldIndexed(0) { idx, sum, element -&gt; if (idx % 2 == 0) sum + element else sum }
    println(sumEven)

    val sumEvenRight = numbers.foldRightIndexed(0) { idx, element, sum -&gt; if (idx % 2 == 0) sum + element else sum }
    println(sumEvenRight)
//sampleEnd
}
    </div>
    <p id="wd0w3a_91">
     All reduce operations throw an exception on empty collections. To receive
     <code class="code" id="wd0w3a_118">
      null
     </code>
     instead, use their
     <code class="code" id="wd0w3a_119">
      *OrNull()
     </code>
     counterparts:
    </p>
    <ul class="list _bullet" id="wd0w3a_92">
     <li class="list__item" id="wd0w3a_120">
      <p id="wd0w3a_124">
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce-or-null.html" id="wd0w3a_125" rel="noopener noreferrer" style="color: red;" target="_blank">
        <code class="code" id="wd0w3a_126">
         reduceOrNull()
        </code>
       </a>
      </p>
     </li>
     <li class="list__item" id="wd0w3a_121">
      <p id="wd0w3a_127">
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce-right-or-null.html" id="wd0w3a_128" rel="noopener noreferrer" style="color: red;" target="_blank">
        <code class="code" id="wd0w3a_129">
         reduceRightOrNull()
        </code>
       </a>
      </p>
     </li>
     <li class="list__item" id="wd0w3a_122">
      <p id="wd0w3a_130">
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce-indexed-or-null.html" id="wd0w3a_131" rel="noopener noreferrer" style="color: red;" target="_blank">
        <code class="code" id="wd0w3a_132">
         reduceIndexedOrNull()
        </code>
       </a>
      </p>
     </li>
     <li class="list__item" id="wd0w3a_123">
      <p id="wd0w3a_133">
       <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reduce-right-indexed-or-null.html" id="wd0w3a_134" rel="noopener noreferrer" style="color: red;" target="_blank">
        <code class="code" id="wd0w3a_135">
         reduceRightIndexedOrNull()
        </code>
       </a>
      </p>
     </li>
    </ul>
    <p id="wd0w3a_93">
     For cases where you want to save intermediate accumulator values, there are functions
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/running-fold.html" id="wd0w3a_136" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_139">
       runningFold()
      </code>
     </a>
     (or its synonym
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/scan.html" id="wd0w3a_137" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_140">
       scan()
      </code>
     </a>
     ) and
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/running-reduce.html" id="wd0w3a_138" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_141">
       runningReduce()
      </code>
     </a>
     .
    </p>
    <div class="code-block" data-lang="kotlin" data-min-compiler-version="1.4" data-runnable="true" style="font-family: monospace; background: #f4f4f4; padding: 10px; overflow-x: auto; margin: 1em 0; display: block;">
     fun main() {
//sampleStart
    val numbers = listOf(0, 1, 2, 3, 4, 5)
    val runningReduceSum = numbers.runningReduce { sum, item -&gt; sum + item }
    val runningFoldSum = numbers.runningFold(10) { sum, item -&gt; sum + item }
//sampleEnd
    val transform = { index: Int, element: Int -&gt; "N = ${index + 1}: $element" }
    println(runningReduceSum.mapIndexed(transform).joinToString("\n", "Sum of first N elements with runningReduce:\n"))
    println(runningFoldSum.mapIndexed(transform).joinToString("\n", "Sum of first N elements with runningFold:\n"))
}
    </div>
    <p id="wd0w3a_95">
     If you need an index in the operation parameter, use
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/running-fold-indexed.html" id="wd0w3a_142" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_144">
       runningFoldIndexed()
      </code>
     </a>
     or
     <a data-external="true" href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/running-reduce-indexed.html" id="wd0w3a_143" rel="noopener noreferrer" style="color: red;" target="_blank">
      <code class="code" id="wd0w3a_145">
       runningReduceIndexed()
      </code>
     </a>
     .
    </p>
   </section>
   <div class="last-modified">
    19 April 2025
   </div>
   <div data-feedback-placeholder="true">
   </div>
  </article>
 </body>
</html>
