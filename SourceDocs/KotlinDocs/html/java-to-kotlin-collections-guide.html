<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-04-18T20:47:07.996824603"><title>Collections in Java and Kotlin | Kotlin</title><script type="application/json" id="virtual-toc-data">[{"id":"operations-that-are-the-same-in-java-and-kotlin","level":0,"title":"Operations that are the same in Java and Kotlin","anchor":"#operations-that-are-the-same-in-java-and-kotlin"},{"id":"operations-on-lists-sets-queues-and-deques","level":1,"title":"Operations on lists, sets, queues, and deques","anchor":"#operations-on-lists-sets-queues-and-deques"},{"id":"operations-on-maps","level":1,"title":"Operations on maps","anchor":"#operations-on-maps"},{"id":"operations-that-exist-only-for-lists","level":1,"title":"Operations that exist only for lists","anchor":"#operations-that-exist-only-for-lists"},{"id":"operations-that-differ-a-bit","level":0,"title":"Operations that differ a bit","anchor":"#operations-that-differ-a-bit"},{"id":"operations-on-any-collection-type","level":1,"title":"Operations on any collection type","anchor":"#operations-on-any-collection-type"},{"id":"operations-on-lists","level":1,"title":"Operations on lists","anchor":"#operations-on-lists"},{"id":"operations-that-don-t-exist-in-java-s-standard-library","level":0,"title":"Operations that don\u0027t exist in Java\u0027s standard library","anchor":"#operations-that-don-t-exist-in-java-s-standard-library"},{"id":"mutability","level":0,"title":"Mutability","anchor":"#mutability"},{"id":"covariance","level":0,"title":"Covariance","anchor":"#covariance"},{"id":"ranges-and-progressions","level":0,"title":"Ranges and progressions","anchor":"#ranges-and-progressions"},{"id":"comparison-by-several-criteria","level":0,"title":"Comparison by several criteria","anchor":"#comparison-by-several-criteria"},{"id":"sequences","level":0,"title":"Sequences","anchor":"#sequences"},{"id":"removal-of-elements-from-a-list","level":0,"title":"Removal of elements from a list","anchor":"#removal-of-elements-from-a-list"},{"id":"traverse-a-map","level":0,"title":"Traverse a map","anchor":"#traverse-a-map"},{"id":"get-the-first-and-the-last-items-of-a-possibly-empty-collection","level":0,"title":"Get the first and the last items of a possibly empty collection","anchor":"#get-the-first-and-the-last-items-of-a-possibly-empty-collection"},{"id":"create-a-set-from-a-list","level":0,"title":"Create a set from a list","anchor":"#create-a-set-from-a-list"},{"id":"group-elements","level":0,"title":"Group elements","anchor":"#group-elements"},{"id":"filter-elements","level":0,"title":"Filter elements","anchor":"#filter-elements"},{"id":"filter-elements-by-type","level":1,"title":"Filter elements by type","anchor":"#filter-elements-by-type"},{"id":"test-predicates","level":1,"title":"Test predicates","anchor":"#test-predicates"},{"id":"collection-transformation-operations","level":0,"title":"Collection transformation operations","anchor":"#collection-transformation-operations"},{"id":"zip-elements","level":1,"title":"Zip elements","anchor":"#zip-elements"},{"id":"associate-elements","level":1,"title":"Associate elements","anchor":"#associate-elements"},{"id":"what-s-next","level":0,"title":"What\u0027s next?","anchor":"#what-s-next"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="icon" type="image/png" sizes="32x32" href="writerside_32.png"><link rel="icon" type="image/png" sizes="64x64" href="writerside_64.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Collections in Java and Kotlin | Kotlin"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/java-to-kotlin-collections-guide.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Collections in Java and Kotlin | Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/java-to-kotlin-collections-guide.html#webpage",
    "url": "writerside-documentation/java-to-kotlin-collections-guide.html",
    "name": "Collections in Java and Kotlin | Kotlin",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Kotlin Help"
}</script><!-- End Schema.org --></head><body data-id="java-to-kotlin-collections-guide" data-main-title="Collections in Java and Kotlin" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Platforms///JVM///Java to Kotlin migration guides"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="java-to-kotlin-collections-guide" id="java-to-kotlin-collections-guide.md">Collections in Java and Kotlin</h1><p id="-3guad5_3"><span class="emphasis" id="-3guad5_23">Collections</span> are groups of a variable number of items (possibly zero) that are significant to the problem being solved and are commonly operated on. This guide explains and compares collection concepts and operations in Java and Kotlin. It will help you migrate from Java to Kotlin and write your code in the authentically Kotlin way.</p><p id="-3guad5_4">The first part of this guide contains a quick glossary of operations on the same collections in Java and Kotlin. It is divided into <a href="#operations-that-are-the-same-in-java-and-kotlin" id="-3guad5_24" data-tooltip="In Kotlin, there are many operations on collections that look exactly the same as their counterparts in Java.">operations that are the same</a> and <a href="#operations-that-don-t-exist-in-java-s-standard-library" id="-3guad5_25" data-tooltip="zip(), unzip() – transform a collection.">operations that exist only in Kotlin</a>. The second part of the guide, starting from <a href="#mutability" id="-3guad5_26" data-tooltip="In Java, there are mutable collections:">Mutability</a>, explains some of the differences by looking at specific cases.</p><p id="-3guad5_5">For an introduction to collections, see the <a href="collections-overview.html" id="-3guad5_27" data-tooltip="The Kotlin Standard Library provides a comprehensive set of tools for managing collections – groups of a variable number of items (possibly zero) that are significant to the problem being solved and are commonly operated on.">Collections overview</a> or watch this <a href="https://www.youtube.com/watch?v=F8jj7e-_jFA" id="-3guad5_28" data-external="true" rel="noopener noreferrer" target="_blank">video</a> by Sebastian Aigner, Kotlin Developer Advocate.</p><aside class="prompt" data-type="note" data-title="" id="-3guad5_6"><p id="-3guad5_29">All of the examples below use Java and Kotlin standard library APIs only.</p></aside><section class="chapter"><h2 id="operations-that-are-the-same-in-java-and-kotlin" data-toc="operations-that-are-the-same-in-java-and-kotlin">Operations that are the same in Java and Kotlin</h2><p id="-3guad5_30">In Kotlin, there are many operations on collections that look exactly the same as their counterparts in Java.</p><section class="chapter"><h3 id="operations-on-lists-sets-queues-and-deques" data-toc="operations-on-lists-sets-queues-and-deques">Operations on lists, sets, queues, and deques</h3><div class="table-wrapper"><table class="wide" id="-3guad5_34"><thead><tr class="ijRowHead" id="-3guad5_35"><th id="-3guad5_44"><p>Description</p></th><th id="-3guad5_45"><p>Common operations</p></th><th id="-3guad5_46"><p>More Kotlin alternatives</p></th></tr></thead><tbody><tr id="-3guad5_36"><td id="-3guad5_47"><p>Add an element or elements</p></td><td id="-3guad5_48"><p><code class="code" id="-3guad5_50">add()</code>, <code class="code" id="-3guad5_51">addAll()</code></p></td><td id="-3guad5_49"><p>Use the <a href="collection-plus-minus.html" id="-3guad5_52" data-tooltip="In Kotlin, plus (+) and minus (-) operators are defined for collections. They take a collection as the first operand; the second operand can be either an element or another collection. The return value is a new read-only collection:"><code class="code" id="-3guad5_55">plusAssign</code> (<code class="code" id="-3guad5_56">+=</code>) operator</a>: <code class="code" id="-3guad5_53">collection += element</code>, <code class="code" id="-3guad5_54">collection += anotherCollection</code>.</p></td></tr><tr id="-3guad5_37"><td id="-3guad5_57"><p>Check whether a collection contains an element or elements</p></td><td id="-3guad5_58"><p><code class="code" id="-3guad5_60">contains()</code>, <code class="code" id="-3guad5_61">containsAll()</code></p></td><td id="-3guad5_59"><p>Use the <a href="collection-elements.html#check-element-existence" id="-3guad5_62" data-tooltip="To check the presence of an element in a collection, use the contains() function. It returns true if there is a collection element that equals() the function argument. You can call contains() in the operator form with the in keyword."><code class="code" id="-3guad5_65">in</code> keyword</a> to call <code class="code" id="-3guad5_63">contains()</code> in the operator form: <code class="code" id="-3guad5_64">element in collection</code>.</p></td></tr><tr id="-3guad5_38"><td id="-3guad5_66"><p>Check whether a collection is empty</p></td><td id="-3guad5_67"><p><code class="code" id="-3guad5_69">isEmpty()</code></p></td><td id="-3guad5_68"><p>Use <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/is-not-empty.html" id="-3guad5_70" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_71">isNotEmpty()</code></a> to check whether a collection is not empty.</p></td></tr><tr id="-3guad5_39"><td id="-3guad5_72"><p>Remove under a certain condition</p></td><td id="-3guad5_73"><p><code class="code" id="-3guad5_75">removeIf()</code></p></td><td id="-3guad5_74"></td></tr><tr id="-3guad5_40"><td id="-3guad5_76"><p>Leave only selected elements</p></td><td id="-3guad5_77"><p><code class="code" id="-3guad5_79">retainAll()</code></p></td><td id="-3guad5_78"></td></tr><tr id="-3guad5_41"><td id="-3guad5_80"><p>Remove all elements from a collection</p></td><td id="-3guad5_81"><p><code class="code" id="-3guad5_83">clear()</code></p></td><td id="-3guad5_82"></td></tr><tr id="-3guad5_42"><td id="-3guad5_84"><p>Get a stream from a collection</p></td><td id="-3guad5_85"><p><code class="code" id="-3guad5_87">stream()</code></p></td><td id="-3guad5_86"><p>Kotlin has its own way to process streams: <a href="#sequences" id="-3guad5_88" data-tooltip="In Java, you can generate a sequence of numbers this way:">sequences</a> and methods like <a href="collection-filtering.html" id="-3guad5_89" data-tooltip="Filtering is one of the most popular tasks in collection processing. In Kotlin, filtering conditions are defined by predicates – lambda functions that take a collection element and return a boolean value: true means that the given element matches the predicate, false means the…"><code class="code" id="-3guad5_91">map()</code></a> and <a href="#filter-elements" id="-3guad5_90" data-tooltip="In Java, to filter elements from a collection, you need to use the Stream API. The Stream API has intermediate and terminal operations. filter() is an intermediate operation, which returns a stream. To receive a collection as the output, you need to use a terminal operation, like…"><code class="code" id="-3guad5_92">filter()</code></a>.</p></td></tr><tr id="-3guad5_43"><td id="-3guad5_93"><p>Get an iterator from a collection</p></td><td id="-3guad5_94"><p><code class="code" id="-3guad5_96">iterator()</code></p></td><td id="-3guad5_95"></td></tr></tbody></table></div></section><section class="chapter"><h3 id="operations-on-maps" data-toc="operations-on-maps">Operations on maps</h3><div class="table-wrapper"><table class="wide" id="-3guad5_97"><thead><tr class="ijRowHead" id="-3guad5_98"><th id="-3guad5_107"><p>Description</p></th><th id="-3guad5_108"><p>Common operations</p></th><th id="-3guad5_109"><p>More Kotlin alternatives</p></th></tr></thead><tbody><tr id="-3guad5_99"><td id="-3guad5_110"><p>Add an element or elements</p></td><td id="-3guad5_111"><p><code class="code" id="-3guad5_113">put()</code>, <code class="code" id="-3guad5_114">putAll()</code>, <code class="code" id="-3guad5_115">putIfAbsent()</code></p></td><td id="-3guad5_112"><p>In Kotlin, the assignment <code class="code" id="-3guad5_116">map[key] = value</code> behaves the same as <code class="code" id="-3guad5_117">put(key, value)</code>. Also, you may use the <a href="collection-plus-minus.html" id="-3guad5_118" data-tooltip="In Kotlin, plus (+) and minus (-) operators are defined for collections. They take a collection as the first operand; the second operand can be either an element or another collection. The return value is a new read-only collection:"><code class="code" id="-3guad5_121">plusAssign</code> (<code class="code" id="-3guad5_122">+=</code>) operator</a>: <code class="code" id="-3guad5_119">map += Pair(key, value)</code> or <code class="code" id="-3guad5_120">map += anotherMap</code>.</p></td></tr><tr id="-3guad5_100"><td id="-3guad5_123"><p>Replace an element or elements</p></td><td id="-3guad5_124"><p><code class="code" id="-3guad5_126">put()</code>, <code class="code" id="-3guad5_127">replace()</code>, <code class="code" id="-3guad5_128">replaceAll()</code></p></td><td id="-3guad5_125"><p>Use the indexing operator <code class="code" id="-3guad5_129">map[key] = value</code> instead of <code class="code" id="-3guad5_130">put()</code> and <code class="code" id="-3guad5_131">replace()</code>.</p></td></tr><tr id="-3guad5_101"><td id="-3guad5_132"><p>Get an element</p></td><td id="-3guad5_133"><p><code class="code" id="-3guad5_135">get()</code></p></td><td id="-3guad5_134"><p>Use the indexing operator to get an element: <code class="code" id="-3guad5_136">map[index]</code>.</p></td></tr><tr id="-3guad5_102"><td id="-3guad5_137"><p>Check whether a map contains an element or elements</p></td><td id="-3guad5_138"><p><code class="code" id="-3guad5_140">containsKey()</code>, <code class="code" id="-3guad5_141">containsValue()</code></p></td><td id="-3guad5_139"><p>Use the <a href="collection-elements.html#check-element-existence" id="-3guad5_142" data-tooltip="To check the presence of an element in a collection, use the contains() function. It returns true if there is a collection element that equals() the function argument. You can call contains() in the operator form with the in keyword."><code class="code" id="-3guad5_145">in</code> keyword</a> to call <code class="code" id="-3guad5_143">contains()</code> in the operator form: <code class="code" id="-3guad5_144">element in map</code>.</p></td></tr><tr id="-3guad5_103"><td id="-3guad5_146"><p>Check whether a map is empty</p></td><td id="-3guad5_147"><p><code class="code" id="-3guad5_149">isEmpty()</code></p></td><td id="-3guad5_148"><p>Use <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/is-not-empty.html" id="-3guad5_150" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_151">isNotEmpty()</code></a> to check whether a map is not empty.</p></td></tr><tr id="-3guad5_104"><td id="-3guad5_152"><p>Remove an element</p></td><td id="-3guad5_153"><p><code class="code" id="-3guad5_155">remove(key)</code>, <code class="code" id="-3guad5_156">remove(key, value)</code></p></td><td id="-3guad5_154"><p>Use the <a href="collection-plus-minus.html" id="-3guad5_157" data-tooltip="In Kotlin, plus (+) and minus (-) operators are defined for collections. They take a collection as the first operand; the second operand can be either an element or another collection. The return value is a new read-only collection:"><code class="code" id="-3guad5_159">minusAssign</code> (<code class="code" id="-3guad5_160">-=</code>) operator</a>: <code class="code" id="-3guad5_158">map -= key</code>.</p></td></tr><tr id="-3guad5_105"><td id="-3guad5_161"><p>Remove all elements from a map</p></td><td id="-3guad5_162"><p><code class="code" id="-3guad5_164">clear()</code></p></td><td id="-3guad5_163"></td></tr><tr id="-3guad5_106"><td id="-3guad5_165"><p>Get a stream from a map</p></td><td id="-3guad5_166"><p><code class="code" id="-3guad5_168">stream()</code> on entries, keys, or values</p></td><td id="-3guad5_167"></td></tr></tbody></table></div></section><section class="chapter"><h3 id="operations-that-exist-only-for-lists" data-toc="operations-that-exist-only-for-lists">Operations that exist only for lists</h3><div class="table-wrapper"><table class="wide" id="-3guad5_169"><thead><tr class="ijRowHead" id="-3guad5_170"><th id="-3guad5_176"><p>Description</p></th><th id="-3guad5_177"><p>Common operations</p></th><th id="-3guad5_178"><p>More Kotlin alternatives</p></th></tr></thead><tbody><tr id="-3guad5_171"><td id="-3guad5_179"><p>Get an index of an element</p></td><td id="-3guad5_180"><p><code class="code" id="-3guad5_182">indexOf()</code></p></td><td id="-3guad5_181"></td></tr><tr id="-3guad5_172"><td id="-3guad5_183"><p>Get the last index of an element</p></td><td id="-3guad5_184"><p><code class="code" id="-3guad5_186">lastIndexOf()</code></p></td><td id="-3guad5_185"></td></tr><tr id="-3guad5_173"><td id="-3guad5_187"><p>Get an element</p></td><td id="-3guad5_188"><p><code class="code" id="-3guad5_190">get()</code></p></td><td id="-3guad5_189"><p>Use the indexing operator to get an element: <code class="code" id="-3guad5_191">list[index]</code>.</p></td></tr><tr id="-3guad5_174"><td id="-3guad5_192"><p>Take a sublist</p></td><td id="-3guad5_193"><p><code class="code" id="-3guad5_195">subList()</code></p></td><td id="-3guad5_194"></td></tr><tr id="-3guad5_175"><td id="-3guad5_196"><p>Replace an element or elements</p></td><td id="-3guad5_197"><p><code class="code" id="-3guad5_199">set()</code>, <code class="code" id="-3guad5_200">replaceAll()</code></p></td><td id="-3guad5_198"><p>Use the indexing operator instead of <code class="code" id="-3guad5_201">set()</code>: <code class="code" id="-3guad5_202">list[index] = value</code>.</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="operations-that-differ-a-bit" data-toc="operations-that-differ-a-bit">Operations that differ a bit</h2><section class="chapter"><h3 id="operations-on-any-collection-type" data-toc="operations-on-any-collection-type">Operations on any collection type</h3><div class="table-wrapper"><table class="wide" id="-3guad5_205"><thead><tr class="ijRowHead" id="-3guad5_207"><th id="-3guad5_221"><p>Description</p></th><th id="-3guad5_222"><p>Java</p></th><th id="-3guad5_223"><p>Kotlin</p></th></tr></thead><tbody><tr id="-3guad5_208"><td id="-3guad5_224"><p>Get a collection's size</p></td><td id="-3guad5_225"><p><code class="code" id="-3guad5_227">size()</code></p></td><td id="-3guad5_226"><p><code class="code" id="-3guad5_228">count()</code>, <code class="code" id="-3guad5_229">size</code></p></td></tr><tr id="-3guad5_209"><td id="-3guad5_230"><p>Get flat access to nested collection elements</p></td><td id="-3guad5_231"><p><code class="code" id="-3guad5_233">collectionOfCollections.forEach(flatCollection::addAll)</code> or <code class="code" id="-3guad5_234">collectionOfCollections.stream().flatMap().collect()</code></p></td><td id="-3guad5_232"><p><a href="collection-transformations.html#flatten" id="-3guad5_235" data-tooltip="If you operate nested collections, you may find the standard library functions that provide flat access to nested collection elements useful."><code class="code" id="-3guad5_237">flatten()</code></a> or <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/flat-map.html" id="-3guad5_236" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_238">flatMap()</code></a></p></td></tr><tr id="-3guad5_210"><td id="-3guad5_239"><p>Apply the given function to every element</p></td><td id="-3guad5_240"><p><code class="code" id="-3guad5_242">stream().map().collect()</code></p></td><td id="-3guad5_241"><p><a href="collection-filtering.html" id="-3guad5_243" data-tooltip="Filtering is one of the most popular tasks in collection processing. In Kotlin, filtering conditions are defined by predicates – lambda functions that take a collection element and return a boolean value: true means that the given element matches the predicate, false means the…"><code class="code" id="-3guad5_244">map()</code></a></p></td></tr><tr id="-3guad5_211"><td id="-3guad5_245"><p>Apply the provided operation to collection elements sequentially and return the accumulated result</p></td><td id="-3guad5_246"><p><code class="code" id="-3guad5_248">stream().reduce()</code></p></td><td id="-3guad5_247"><p><a href="collection-aggregate.html#fold-and-reduce" id="-3guad5_249" data-tooltip="For more specific cases, there are the functions reduce() and fold() that apply the provided operation to the collection elements sequentially and return the accumulated result. The operation takes two arguments: the previously accumulated value and the collection element."><code class="code" id="-3guad5_250">reduce()</code>, <code class="code" id="-3guad5_251">fold()</code></a></p></td></tr><tr id="-3guad5_212"><td id="-3guad5_252"><p>Group elements by a classifier and count them</p></td><td id="-3guad5_253"><p><code class="code" id="-3guad5_255">stream().collect(Collectors.groupingBy(classifier, counting()))</code></p></td><td id="-3guad5_254"><p><a href="collection-grouping.html" id="-3guad5_256" data-tooltip="The Kotlin standard library provides extension functions for grouping collection elements. The basic function groupBy() takes a lambda function and returns a Map. In this map, each key is the lambda result, and the corresponding value is the List of elements on which this result is…"><code class="code" id="-3guad5_257">eachCount()</code></a></p></td></tr><tr id="-3guad5_213"><td id="-3guad5_258"><p>Filter by a condition</p></td><td id="-3guad5_259"><p><code class="code" id="-3guad5_261">stream().filter().collect()</code></p></td><td id="-3guad5_260"><p><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter.html" id="-3guad5_262" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_263">filter()</code></a></p></td></tr><tr id="-3guad5_214"><td id="-3guad5_264"><p>Check whether collection elements satisfy a condition</p></td><td id="-3guad5_265"><p><code class="code" id="-3guad5_267">stream().noneMatch()</code>, <code class="code" id="-3guad5_268">stream().anyMatch()</code>, <code class="code" id="-3guad5_269">stream().allMatch()</code></p></td><td id="-3guad5_266"><p><a href="collection-filtering.html" id="-3guad5_270" data-tooltip="Filtering is one of the most popular tasks in collection processing. In Kotlin, filtering conditions are defined by predicates – lambda functions that take a collection element and return a boolean value: true means that the given element matches the predicate, false means the…"><code class="code" id="-3guad5_271">none()</code>, <code class="code" id="-3guad5_272">any()</code>, <code class="code" id="-3guad5_273">all()</code></a></p></td></tr><tr id="-3guad5_215"><td id="-3guad5_274"><p>Sort elements</p></td><td id="-3guad5_275"><p><code class="code" id="-3guad5_277">stream().sorted().collect()</code></p></td><td id="-3guad5_276"><p><a href="collection-ordering.html#natural-order" id="-3guad5_278" data-tooltip="The basic functions sorted() and sortedDescending() return elements of a collection sorted into ascending and descending sequence according to their natural order. These functions apply to collections of Comparable elements."><code class="code" id="-3guad5_279">sorted()</code></a></p></td></tr><tr id="-3guad5_216"><td id="-3guad5_280"><p>Take the first N elements</p></td><td id="-3guad5_281"><p><code class="code" id="-3guad5_283">stream().limit(N).collect()</code></p></td><td id="-3guad5_282"><p><a href="collection-parts.html#take-and-drop" id="-3guad5_284" data-tooltip="To get the specified number of elements starting from the first, use the take() function. For getting the last elements, use takeLast(). When called with a number larger than the collection size, both functions return the whole collection."><code class="code" id="-3guad5_285">take(N)</code></a></p></td></tr><tr id="-3guad5_217"><td id="-3guad5_286"><p>Take elements with a predicate</p></td><td id="-3guad5_287"><p><code class="code" id="-3guad5_289">stream().takeWhile().collect()</code></p></td><td id="-3guad5_288"><p><a href="collection-parts.html#take-and-drop" id="-3guad5_290" data-tooltip="To get the specified number of elements starting from the first, use the take() function. For getting the last elements, use takeLast(). When called with a number larger than the collection size, both functions return the whole collection."><code class="code" id="-3guad5_291">takeWhile()</code></a></p></td></tr><tr id="-3guad5_218"><td id="-3guad5_292"><p>Skip the first N elements</p></td><td id="-3guad5_293"><p><code class="code" id="-3guad5_295">stream().skip(N).collect()</code></p></td><td id="-3guad5_294"><p><a href="collection-parts.html#take-and-drop" id="-3guad5_296" data-tooltip="To get the specified number of elements starting from the first, use the take() function. For getting the last elements, use takeLast(). When called with a number larger than the collection size, both functions return the whole collection."><code class="code" id="-3guad5_297">drop(N)</code></a></p></td></tr><tr id="-3guad5_219"><td id="-3guad5_298"><p>Skip elements with a predicate</p></td><td id="-3guad5_299"><p><code class="code" id="-3guad5_301">stream().dropWhile().collect()</code></p></td><td id="-3guad5_300"><p><a href="collection-parts.html#take-and-drop" id="-3guad5_302" data-tooltip="To get the specified number of elements starting from the first, use the take() function. For getting the last elements, use takeLast(). When called with a number larger than the collection size, both functions return the whole collection."><code class="code" id="-3guad5_303">dropWhile()</code></a></p></td></tr><tr id="-3guad5_220"><td id="-3guad5_304"><p>Build maps from collection elements and certain values associated with them</p></td><td id="-3guad5_305"><p><code class="code" id="-3guad5_307">stream().collect(toMap(keyMapper, valueMapper))</code></p></td><td id="-3guad5_306"><p><a href="collection-transformations.html#associate" id="-3guad5_308" data-tooltip="Association transformations allow building maps from the collection elements and certain values associated with them. In different association types, the elements can be either keys or values in the association map."><code class="code" id="-3guad5_309">associate()</code></a></p></td></tr></tbody></table></div><p id="-3guad5_206">To perform all of the operations listed above on maps, you first need to get an <code class="code" id="-3guad5_310">entrySet</code> of a map.</p></section><section class="chapter"><h3 id="operations-on-lists" data-toc="operations-on-lists">Operations on lists</h3><div class="table-wrapper"><table class="wide" id="-3guad5_311"><thead><tr class="ijRowHead" id="-3guad5_312"><th id="-3guad5_318"><p>Description</p></th><th id="-3guad5_319"><p>Java</p></th><th id="-3guad5_320"><p>Kotlin</p></th></tr></thead><tbody><tr id="-3guad5_313"><td id="-3guad5_321"><p>Sort a list into natural order</p></td><td id="-3guad5_322"><p><code class="code" id="-3guad5_324">sort(null)</code></p></td><td id="-3guad5_323"><p><code class="code" id="-3guad5_325">sort()</code></p></td></tr><tr id="-3guad5_314"><td id="-3guad5_326"><p>Sort a list into descending order</p></td><td id="-3guad5_327"><p><code class="code" id="-3guad5_329">sort(comparator)</code></p></td><td id="-3guad5_328"><p><code class="code" id="-3guad5_330">sortDescending()</code></p></td></tr><tr id="-3guad5_315"><td id="-3guad5_331"><p>Remove an element from a list</p></td><td id="-3guad5_332"><p><code class="code" id="-3guad5_334">remove(index)</code>, <code class="code" id="-3guad5_335">remove(element)</code></p></td><td id="-3guad5_333"><p><code class="code" id="-3guad5_336">removeAt(index)</code>, <code class="code" id="-3guad5_337">remove(element)</code> or <a href="collection-plus-minus.html" id="-3guad5_338" data-tooltip="In Kotlin, plus (+) and minus (-) operators are defined for collections. They take a collection as the first operand; the second operand can be either an element or another collection. The return value is a new read-only collection:"><code class="code" id="-3guad5_339">collection -= element</code></a></p></td></tr><tr id="-3guad5_316"><td id="-3guad5_340"><p>Fill all elements of a list with a certain value</p></td><td id="-3guad5_341"><p><code class="code" id="-3guad5_343">Collections.fill()</code></p></td><td id="-3guad5_342"><p><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fill.html" id="-3guad5_344" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_345">fill()</code></a></p></td></tr><tr id="-3guad5_317"><td id="-3guad5_346"><p>Get unique elements from a list</p></td><td id="-3guad5_347"><p><code class="code" id="-3guad5_349">stream().distinct().toList()</code></p></td><td id="-3guad5_348"><p><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/distinct.html" id="-3guad5_350" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_351">distinct()</code></a></p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="operations-that-don-t-exist-in-java-s-standard-library" data-toc="operations-that-don-t-exist-in-java-s-standard-library">Operations that don't exist in Java's standard library</h2><ul class="list _bullet" id="-3guad5_352"><li class="list__item" id="-3guad5_355"><p id="-3guad5_360"><a href="collection-transformations.html" id="-3guad5_361" data-tooltip="The Kotlin standard library provides a set of extension functions for collection transformations. These functions build new collections from existing ones based on the transformation rules provided. In this page, we'll give an overview of the available collection transformation…"><code class="code" id="-3guad5_362">zip()</code>, <code class="code" id="-3guad5_363">unzip()</code></a> &ndash; transform a collection.</p></li><li class="list__item" id="-3guad5_356"><p id="-3guad5_364"><a href="collection-grouping.html" id="-3guad5_365" data-tooltip="The Kotlin standard library provides extension functions for grouping collection elements. The basic function groupBy() takes a lambda function and returns a Map. In this map, each key is the lambda result, and the corresponding value is the List of elements on which this result is…"><code class="code" id="-3guad5_366">aggregate()</code></a> &ndash; group by a condition.</p></li><li class="list__item" id="-3guad5_357"><p id="-3guad5_367"><a href="collection-parts.html#take-and-drop" id="-3guad5_368" data-tooltip="To get the specified number of elements starting from the first, use the take() function. For getting the last elements, use takeLast(). When called with a number larger than the collection size, both functions return the whole collection."><code class="code" id="-3guad5_369">takeLast()</code>, <code class="code" id="-3guad5_370">takeLastWhile()</code>, <code class="code" id="-3guad5_371">dropLast()</code>, <code class="code" id="-3guad5_372">dropLastWhile()</code></a> &ndash; take or drop elements by a predicate.</p></li><li class="list__item" id="-3guad5_358"><p id="-3guad5_373"><a href="collection-parts.html" id="-3guad5_374" data-tooltip="The Kotlin standard library contains extension functions for retrieving parts of a collection. These functions provide a variety of ways to select elements for the result collection: listing their positions explicitly, specifying the result size, and others."><code class="code" id="-3guad5_375">slice()</code>, <code class="code" id="-3guad5_376">chunked()</code>, <code class="code" id="-3guad5_377">windowed()</code></a> &ndash; retrieve collection parts.</p></li><li class="list__item" id="-3guad5_359"><p id="-3guad5_378"><a href="collection-plus-minus.html" id="-3guad5_379" data-tooltip="In Kotlin, plus (+) and minus (-) operators are defined for collections. They take a collection as the first operand; the second operand can be either an element or another collection. The return value is a new read-only collection:">Plus (<code class="code" id="-3guad5_380">+</code>) and minus (<code class="code" id="-3guad5_381">-</code>) operators</a> &ndash; add or remove elements.</p></li></ul><p id="-3guad5_353">If you want to take a deep dive into <code class="code" id="-3guad5_382">zip()</code>, <code class="code" id="-3guad5_383">chunked()</code>, <code class="code" id="-3guad5_384">windowed()</code>, and some other operations, watch this video by Sebastian Aigner about advanced collection operations in Kotlin:</p><div class="video-player" id="-3guad5_354"><object class="article__bordered-element" width="560" height="315" data-theme="light" type="application/x-shockwave-flash" data="https://www.youtube.com/v/N4CpLxGJlq0?color2=FBE9EC&amp;rel=0&amp;hd=1&amp;autoplay=0&amp;version=3&amp;modestbranding=1&amp;fs=1"></object></div></section><section class="chapter"><h2 id="mutability" data-toc="mutability">Mutability</h2><p id="-3guad5_385">In Java, there are mutable collections:</p><div class="code-block" data-lang="java" id="mutability-java">
// Java
// This list is mutable!
public List&lt;Customer&gt; getCustomers() { ... }
</div><p id="-3guad5_387">Partially mutable ones:</p><div class="code-block" data-lang="java" id="mutability-partly-java">
// Java
List&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);
numbers.add(&quot;five&quot;); // Fails in runtime with `UnsupportedOperationException`
</div><p id="-3guad5_389">And immutable ones:</p><div class="code-block" data-lang="java" id="immutable-java">
// Java
List&lt;String&gt; numbers = new LinkedList&lt;&gt;();
// This list is immutable!
List&lt;String&gt; immutableCollection = Collections.unmodifiableList(numbers);
immutableCollection.add(&quot;five&quot;); // Fails in runtime with `UnsupportedOperationException`
</div><p id="-3guad5_391">If you write the last two pieces of code in IntelliJ IDEA, the IDE will warn you that you're trying to modify an immutable object. This code will compile and fail in runtime with <code class="code" id="-3guad5_395">UnsupportedOperationException</code>. You can't tell whether a collection is mutable by looking at its type.</p><p id="-3guad5_392">Unlike in Java, in Kotlin you explicitly declare mutable or read-only collections depending on your needs. If you try to modify a read-only collection, the code won't compile:</p><div class="code-block" data-lang="kotlin" id="mutability-kotlin">
// Kotlin
val numbers = mutableListOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;)
numbers.add(&quot;five&quot;)            // This is OK
val immutableNumbers = listOf(&quot;one&quot;, &quot;two&quot;)
//immutableNumbers.add(&quot;five&quot;) // Compilation error - Unresolved reference: add
</div><p id="-3guad5_394">Read more about immutability on the <a href="coding-conventions.html#immutability" id="-3guad5_396" data-tooltip="Prefer using immutable data to mutable. Always declare local variables and properties as val rather than var if they are not modified after initialization.">Kotlin coding conventions</a> page.</p></section><section class="chapter"><h2 id="covariance" data-toc="covariance">Covariance</h2><p id="-3guad5_397">In Java, you can't pass a collection with a descendant type to a function that takes a collection of the ancestor type. For example, if <code class="code" id="-3guad5_402">Rectangle</code> extends <code class="code" id="-3guad5_403">Shape</code>, you can't pass a collection of <code class="code" id="-3guad5_404">Rectangle</code> elements to a function that takes a collection of <code class="code" id="-3guad5_405">Shape</code> elements. To make the code compilable, use the <code class="code" id="-3guad5_406">? extends Shape</code> type so the function can take collections with any inheritors of <code class="code" id="-3guad5_407">Shape</code>:</p><div class="code-block" data-lang="java" id="covariance-java">
// Java
class Shape {}

class Rectangle extends Shape {}

public void doSthWithShapes(List&lt;? extends Shape&gt; shapes) {
/* If using just List&lt;Shape&gt;, the code won't compile when calling
this function with the List&lt;Rectangle&gt; as the argument as below */
}

public void main() {
    var rectangles = List.of(new Rectangle(), new Rectangle());
    doSthWithShapes(rectangles);
}
</div><p id="-3guad5_399">In Kotlin, read-only collection types are <a href="generics.html#variance" id="-3guad5_408" data-tooltip="One of the trickiest aspects of Java's type system is the wildcard types (see Java Generics FAQ). Kotlin doesn't have these. Instead, Kotlin has declaration-site variance and type projections.">covariant</a>. This means that if a <code class="code" id="-3guad5_409">Rectangle</code> class inherits from the <code class="code" id="-3guad5_410">Shape</code> class, you can use the type <code class="code" id="-3guad5_411">List&lt;Rectangle&gt;</code> anywhere the <code class="code" id="-3guad5_412">List&lt;Shape&gt;</code> type is required. In other words, the collection types have the same subtyping relationship as the element types. Maps are covariant on the value type, but not on the key type. Mutable collections aren't covariant &ndash; this would lead to runtime failures.</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="covariance-kotlin">
// Kotlin
open class Shape(val name: String)

class Rectangle(private val rectangleName: String) : Shape(rectangleName)

fun doSthWithShapes(shapes: List&lt;Shape&gt;) {
    println(&quot;The shapes are: ${shapes.joinToString { it.name }}&quot;)
}

fun main() {
    val rectangles = listOf(Rectangle(&quot;rhombus&quot;), Rectangle(&quot;parallelepiped&quot;))
    doSthWithShapes(rectangles)
}
</div><p id="-3guad5_401">Read more about <a href="collections-overview.html#collection-types" id="-3guad5_413" data-tooltip="The Kotlin Standard Library provides implementations for basic collection types: sets, lists, and maps. A pair of interfaces represent each collection type:">collection types</a> here.</p></section><section class="chapter"><h2 id="ranges-and-progressions" data-toc="ranges-and-progressions">Ranges and progressions</h2><p id="-3guad5_414">In Kotlin, you can create intervals using <a href="ranges.html" id="-3guad5_420" data-tooltip="Ranges and progressions define sequences of values in Kotlin, supporting range operators, iteration, custom step values, and arithmetic progressions.">ranges</a>. For example, <code class="code" id="-3guad5_421">Version(1, 11)..Version(1, 30)</code> includes all of the versions from <code class="code" id="-3guad5_422">1.11</code> to <code class="code" id="-3guad5_423">1.30</code>. You can check that your version is in the range by using the <code class="code" id="-3guad5_424">in</code> operator: <code class="code" id="-3guad5_425">Version(0, 9) in versionRange</code>.</p><p id="-3guad5_415">In Java, you need to manually check whether a <code class="code" id="-3guad5_426">Version</code> fits both bounds:</p><div class="code-block" data-lang="java" id="ranges-java">
// Java
class Version implements Comparable&lt;Version&gt; {

    int major;
    int minor;

    Version(int major, int minor) {
        this.major = major;
        this.minor = minor;
    }

    @Override
    public int compareTo(Version o) {
        if (this.major != o.major) {
            return this.major - o.major;
        }
        return this.minor - o.minor;
    }
}

public void compareVersions() {
    var minVersion = new Version(1, 11);
    var maxVersion = new Version(1, 31);

   System.out.println(
           versionIsInRange(new Version(0, 9), minVersion, maxVersion));
   System.out.println(
           versionIsInRange(new Version(1, 20), minVersion, maxVersion));
}

public Boolean versionIsInRange(Version versionToCheck, Version minVersion, 
                                Version maxVersion) {
    return versionToCheck.compareTo(minVersion) &gt;= 0 
            &amp;&amp; versionToCheck.compareTo(maxVersion) &lt;= 0;
}
</div><p id="-3guad5_417">In Kotlin, you operate with a range as a whole object. You don't need to create two variables and compare a <code class="code" id="-3guad5_427">Version</code> with them:</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="ranges-kotlin">
// Kotlin
class Version(val major: Int, val minor: Int): Comparable&lt;Version&gt; {
    override fun compareTo(other: Version): Int {
        if (this.major != other.major) {
            return this.major - other.major
        }
        return this.minor - other.minor
    }
}

fun main() {
    val versionRange = Version(1, 11)..Version(1, 30)

    println(Version(0, 9) in versionRange)
    println(Version(1, 20) in versionRange)
}
</div><p id="-3guad5_419">As soon as you need to exclude one of the bounds, like to check whether a version is greater than or equal to (<code class="code" id="-3guad5_428">&gt;=</code>) the minimum version and less than (<code class="code" id="-3guad5_429">&lt;</code>) the maximum version, these inclusive ranges won't help.</p></section><section class="chapter"><h2 id="comparison-by-several-criteria" data-toc="comparison-by-several-criteria">Comparison by several criteria</h2><p id="-3guad5_430">In Java, to compare objects by several criteria, you may use the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-" id="-3guad5_434" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_437">comparing()</code></a> and <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#thenComparing-java.util.Comparator-" id="-3guad5_435" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_438">thenComparingX()</code></a> functions from the <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html" id="-3guad5_436" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_439">Comparator</code></a> interface. For example, to compare people by their name and age:</p><div class="code-block" data-lang="java" id="comparison-java">
class Person implements Comparable&lt;Person&gt; {
    String name;
    int age;

    public String getName() {
        return name;
    }

    public int getAge() {
        return age;
    }

    Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    @Override
    public String toString() {
        return this.name + &quot; &quot; + age;
    }
}

public void comparePersons() {
    var persons = List.of(new Person(&quot;Jack&quot;, 35), new Person(&quot;David&quot;, 30), 
            new Person(&quot;Jack&quot;, 25));
    System.out.println(persons.stream().sorted(Comparator
            .comparing(Person::getName)
            .thenComparingInt(Person::getAge)).collect(toList()));
}
</div><p id="-3guad5_432">In Kotlin, you just enumerate which fields you want to compare:</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="comparison-kotlin">
data class Person(
    val name: String,
    val age: Int
)

fun main() {
    val persons = listOf(Person(&quot;Jack&quot;, 35), Person(&quot;David&quot;, 30), 
        Person(&quot;Jack&quot;, 25))
    println(persons.sortedWith(compareBy(Person::name, Person::age)))
}
</div></section><section class="chapter"><h2 id="sequences" data-toc="sequences">Sequences</h2><p id="-3guad5_440">In Java, you can generate a sequence of numbers this way:</p><div class="code-block" data-lang="java" id="sequences-java">
// Java
int sum = IntStream.iterate(1, e -&gt; e + 3)
    .limit(10).sum();
System.out.println(sum); // Prints 145
</div><p id="-3guad5_442">In Kotlin, use <span class="emphasis" id="-3guad5_445"><a href="sequences.html" id="-3guad5_446" data-tooltip="Along with collections, the Kotlin standard library contains another type – sequences (Sequence&lt;T&gt;). Unlike collections, sequences don't contain elements, they produce them while iterating. Sequences offer the same functions as Iterable but implement another approach to…">sequences</a></span>. Multi-step processing of sequences is executed lazily when possible &ndash; actual computing happens only when the result of the whole processing chain is requested.</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="sequences-kotlin">
fun main() {
//sampleStart
    // Kotlin
    val sum = generateSequence(1) {
        it + 3
    }.take(10).sum()
    println(sum) // Prints 145
//sampleEnd
}
</div><p id="-3guad5_444">Sequences may reduce the number of steps that are needed to perform some filtering operations. See the <a href="sequences.html#sequence-processing-example" id="-3guad5_447" data-tooltip="Let's take a look at the difference between Iterable and Sequence with an example.">sequence processing example</a>, which shows the difference between <code class="code" id="-3guad5_448">Iterable</code> and <code class="code" id="-3guad5_449">Sequence</code>.</p></section><section class="chapter"><h2 id="removal-of-elements-from-a-list" data-toc="removal-of-elements-from-a-list">Removal of elements from a list</h2><p id="-3guad5_450">In Java, the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#remove(int)" id="-3guad5_455" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_456">remove()</code></a> function accepts an index of an element to remove.</p><p id="-3guad5_451">When removing an integer element, use the <code class="code" id="-3guad5_457">Integer.valueOf()</code> function as the argument for the <code class="code" id="-3guad5_458">remove()</code> function:</p><div class="code-block" data-lang="java" id="remove-elements-java">
// Java
public void remove() {
    var numbers = new ArrayList&lt;&gt;();
    numbers.add(1);
    numbers.add(2);
    numbers.add(3);
    numbers.add(1);
    numbers.remove(1); // This removes by index
    System.out.println(numbers); // [1, 3, 1]
    numbers.remove(Integer.valueOf(1));
    System.out.println(numbers); // [3, 1]
}
</div><p id="-3guad5_453">In Kotlin, there are two types of element removal: by index with <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/remove-at.html" id="-3guad5_459" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_461">removeAt()</code></a> and by value with <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/remove.html" id="-3guad5_460" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_462">remove()</code></a>.</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="remove-elements-kotlin">
fun main() {
//sampleStart
    // Kotlin
    val numbers = mutableListOf(1, 2, 3, 1)
    numbers.removeAt(0)
    println(numbers) // [2, 3, 1]
    numbers.remove(1)
    println(numbers) // [2, 3]
//sampleEnd
}
</div></section><section class="chapter"><h2 id="traverse-a-map" data-toc="traverse-a-map">Traverse a map</h2><p id="-3guad5_463">In Java, you can traverse a map via <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)" id="-3guad5_467" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_468">forEach</code></a>:</p><div class="code-block" data-lang="java" id="traverse-map-java">
// Java
numbers.forEach((k,v) -&gt; System.out.println(&quot;Key = &quot; + k + &quot;, Value = &quot; + v));
</div><p id="-3guad5_465">In Kotlin, use a <code class="code" id="-3guad5_469">for</code> loop or a <code class="code" id="-3guad5_470">forEach</code>, similar to Java's <code class="code" id="-3guad5_471">forEach</code>, to traverse a map:</p><div class="code-block" data-lang="kotlin" id="traverse-map-kotlin">
// Kotlin
for ((k, v) in numbers) {
    println(&quot;Key = $k, Value = $v&quot;)
}
// Or
numbers.forEach { (k, v) -&gt; println(&quot;Key = $k, Value = $v&quot;) }
</div></section><section class="chapter"><h2 id="get-the-first-and-the-last-items-of-a-possibly-empty-collection" data-toc="get-the-first-and-the-last-items-of-a-possibly-empty-collection">Get the first and the last items of a possibly empty collection</h2><p id="-3guad5_472">In Java, you can safely get the first and the last items by checking the size of the collection and using indices:</p><div class="code-block" data-lang="java" id="list-get-first-last-java">
// Java
var list = new ArrayList&lt;&gt;();
//...
if (list.size() &gt; 0) {
    System.out.println(list.get(0));
    System.out.println(list.get(list.size() - 1));
}
</div><p id="-3guad5_474">You can also use the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html#getFirst()" id="-3guad5_478" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_481">getFirst()</code></a> and <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html#getLast()" id="-3guad5_479" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_482">getLast()</code></a> functions for <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Deque.html" id="-3guad5_480" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_483">Deque</code></a> and its inheritors:</p><div class="code-block" data-lang="java" id="deque-get-first-last-java">
// Java
var deque = new ArrayDeque&lt;&gt;();
//...
if (deque.size() &gt; 0) {
    System.out.println(deque.getFirst());
    System.out.println(deque.getLast());
}
</div><p id="-3guad5_476">In Kotlin, there are the special functions <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/first-or-null.html" id="-3guad5_484" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_488">firstOrNull()</code></a> and <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/last-or-null.html" id="-3guad5_485" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_489">lastOrNull()</code></a>. Using the <a href="null-safety.html#elvis-operator" id="-3guad5_486" data-tooltip="When working with nullable types, you can check for null and provide an alternative value. For example, if b is not null, access b.length. Otherwise, return an alternative value:"><code class="code" id="-3guad5_490">Elvis operator</code></a>, you can perform further actions right away depending on the result of a function. For example, <code class="code" id="-3guad5_487">firstOrNull()</code>:</p><div class="code-block" data-lang="kotlin" id="get-first-last-kotlin">
// Kotlin
val emails = listOf&lt;String&gt;() // Might be empty
val theOldestEmail = emails.firstOrNull() ?: &quot;&quot;
val theFreshestEmail = emails.lastOrNull() ?: &quot;&quot;
</div></section><section class="chapter"><h2 id="create-a-set-from-a-list" data-toc="create-a-set-from-a-list">Create a set from a list</h2><p id="-3guad5_491">In Java, to create a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html" id="-3guad5_495" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_498">Set</code></a> from a <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" id="-3guad5_496" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_499">List</code></a>, you can use the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#copyOf(java.util.Collection)" id="-3guad5_497" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_500">Set.copyOf</code></a> function:</p><div class="code-block" data-lang="java" id="list-to-set-java">
// Java
public void listToSet() {
    var sourceList = List.of(1, 2, 3, 1);
    var copySet = Set.copyOf(sourceList);
    System.out.println(copySet);
}
</div><p id="-3guad5_493">In Kotlin, use the function <code class="code" id="-3guad5_501">toSet()</code>:</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="list-to-set-kotlin">
fun main() {
//sampleStart
    // Kotlin
    val sourceList = listOf(1, 2, 3, 1)
    val copySet = sourceList.toSet()
    println(copySet)
//sampleEnd
}
</div></section><section class="chapter"><h2 id="group-elements" data-toc="group-elements">Group elements</h2><p id="-3guad5_502">In Java, you can group elements with the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html" id="-3guad5_506" data-external="true" rel="noopener noreferrer" target="_blank">Collectors</a> function <code class="code" id="-3guad5_507">groupingBy()</code>:</p><div class="code-block" data-lang="java" id="group-elements-java">
// Java
public void analyzeLogs() {
    var requests = List.of(
        new Request(&quot;https://kotlinlang.org/docs/home.html&quot;, 200),
        new Request(&quot;https://kotlinlang.org/docs/home.html&quot;, 400),
        new Request(&quot;https://kotlinlang.org/docs/comparison-to-java.html&quot;, 200)
    );
    var urlsAndRequests = requests.stream().collect(
            Collectors.groupingBy(Request::getUrl));
    System.out.println(urlsAndRequests);
}
</div><p id="-3guad5_504">In Kotlin, use the function <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html" id="-3guad5_508" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_509">groupBy()</code></a>:</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="group-elements-kotlin">
data class Request(
    val url: String,
    val responseCode: Int
)

fun main() {
//sampleStart
    // Kotlin
    val requests = listOf(
        Request(&quot;https://kotlinlang.org/docs/home.html&quot;, 200),
        Request(&quot;https://kotlinlang.org/docs/home.html&quot;, 400),
        Request(&quot;https://kotlinlang.org/docs/comparison-to-java.html&quot;, 200)
    )
    println(requests.groupBy(Request::url))
//sampleEnd
}
</div></section><section class="chapter"><h2 id="filter-elements" data-toc="filter-elements">Filter elements</h2><p id="-3guad5_510">In Java, to filter elements from a collection, you need to use the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html" id="-3guad5_517" data-external="true" rel="noopener noreferrer" target="_blank">Stream API</a>. The Stream API has <code class="code" id="-3guad5_518">intermediate</code> and <code class="code" id="-3guad5_519">terminal</code> operations. <code class="code" id="-3guad5_520">filter()</code> is an intermediate operation, which returns a stream. To receive a collection as the output, you need to use a terminal operation, like <code class="code" id="-3guad5_521">collect()</code>. For example, to leave only those pairs whose keys end with <code class="code" id="-3guad5_522">1</code> and whose values are greater than <code class="code" id="-3guad5_523">10</code>:</p><div class="code-block" data-lang="java" id="filter-elements-java">
// Java
public void filterEndsWith() {
    var numbers = Map.of(&quot;key1&quot;, 1, &quot;key2&quot;, 2, &quot;key3&quot;, 3, &quot;key11&quot;, 11);
    var filteredNumbers = numbers.entrySet().stream()
        .filter(entry -&gt; entry.getKey().endsWith(&quot;1&quot;) &amp;&amp; entry.getValue() &gt; 10)
        .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));
    System.out.println(filteredNumbers);
}
</div><p id="-3guad5_512">In Kotlin, filtering is built into collections, and <code class="code" id="-3guad5_524">filter()</code> returns the same collection type that was filtered. So, all you need to write is the <code class="code" id="-3guad5_525">filter()</code> and its predicate:</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="filter-elements-kotlin">
fun main() {
//sampleStart
    // Kotlin
    val numbers = mapOf(&quot;key1&quot; to 1, &quot;key2&quot; to 2, &quot;key3&quot; to 3, &quot;key11&quot; to 11)
    val filteredNumbers = numbers.filter { (key, value) -&gt; key.endsWith(&quot;1&quot;) &amp;&amp; value &gt; 10 }
    println(filteredNumbers)
//sampleEnd
}
</div><p id="-3guad5_514">Learn more about <a href="map-operations.html#filter" id="-3guad5_526" data-tooltip="You can filter maps with the filter() function as well as other collections. When calling filter() on a map, pass to it a predicate with a Pair as an argument. This enables you to use both the key and the value in the filtering predicate.">filtering maps</a> here.</p><section class="chapter"><h3 id="filter-elements-by-type" data-toc="filter-elements-by-type">Filter elements by type</h3><p id="-3guad5_527">In Java, to filter elements by type and perform actions on them, you need to check their types with the <a href="https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html" id="-3guad5_531" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_532">instanceof</code></a> operator and then do the type cast:</p><div class="code-block" data-lang="java" id="filter-by-type-java">
// Java
public void objectIsInstance() {
    var numbers = new ArrayList&lt;&gt;();
    numbers.add(null);
    numbers.add(1);
    numbers.add(&quot;two&quot;);
    numbers.add(3.0);
    numbers.add(&quot;four&quot;);
    System.out.println(&quot;All String elements in upper case:&quot;);
    numbers.stream().filter(it -&gt; it instanceof String)
        .forEach( it -&gt; System.out.println(((String) it).toUpperCase()));
}
</div><p id="-3guad5_529">In Kotlin, you just call <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-is-instance.html" id="-3guad5_533" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_535">filterIsInstance&lt;NEEDED_TYPE&gt;()</code></a> on your collection, and the type cast is done by <a href="typecasts.html#smart-casts" id="-3guad5_534" data-tooltip="In most cases, you don't need to use explicit cast operators because the compiler automatically casts objects for you. This is called smart-casting. The compiler tracks the type checks and explicit casts for immutable values and inserts implicit (safe) casts automatically when…">Smart casts</a>:</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="filter-by-type-kotlin">
// Kotlin
fun main() {
//sampleStart
    // Kotlin
    val numbers = listOf(null, 1, &quot;two&quot;, 3.0, &quot;four&quot;)
    println(&quot;All String elements in upper case:&quot;)
    numbers.filterIsInstance&lt;String&gt;().forEach {
        println(it.uppercase())
    }
//sampleEnd
}
</div></section><section class="chapter"><h3 id="test-predicates" data-toc="test-predicates">Test predicates</h3><p id="-3guad5_536">Some tasks require you to check whether all, none, or any elements satisfy a condition. In Java, you can do all of these checks via the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html" id="-3guad5_541" data-external="true" rel="noopener noreferrer" target="_blank">Stream API</a> functions <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#allMatch(java.util.function.Predicate)" id="-3guad5_542" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_545">allMatch()</code></a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#noneMatch(java.util.function.Predicate)" id="-3guad5_543" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_546">noneMatch()</code></a>, and <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)" id="-3guad5_544" data-external="true" rel="noopener noreferrer" target="_blank"><code class="code" id="-3guad5_547">anyMatch()</code></a>:</p><div class="code-block" data-lang="java" id="test-predicates-java">
// Java
public void testPredicates() {
    var numbers = List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);
    System.out.println(numbers.stream().noneMatch(it -&gt; it.endsWith(&quot;e&quot;))); // false
    System.out.println(numbers.stream().anyMatch(it -&gt; it.endsWith(&quot;e&quot;))); // true
    System.out.println(numbers.stream().allMatch(it -&gt; it.endsWith(&quot;e&quot;))); // false
}
</div><p id="-3guad5_538">In Kotlin, the <a href="extensions.html" id="-3guad5_548" data-tooltip="Kotlin provides the ability to extend a class or an interface with new functionality without having to inherit from the class or use design patterns such as Decorator. This is done via special declarations called extensions.">extension functions</a> <code class="code" id="-3guad5_549">none()</code>, <code class="code" id="-3guad5_550">any()</code>, and <code class="code" id="-3guad5_551">all()</code> are available for every <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterable/#kotlin.collections.Iterable" id="-3guad5_552" data-external="true" rel="noopener noreferrer" target="_blank">Iterable</a> object:</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="test-predicates-kotlin">
fun main() {
//sampleStart
// Kotlin
    val numbers = listOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;)
    println(numbers.none { it.endsWith(&quot;e&quot;) })
    println(numbers.any { it.endsWith(&quot;e&quot;) })
    println(numbers.all { it.endsWith(&quot;e&quot;) })
//sampleEnd
}
</div><p id="-3guad5_540">Learn more about <a href="collection-filtering.html#test-predicates" id="-3guad5_553" data-tooltip="Finally, there are functions that simply test a predicate against collection elements:">test predicates</a>.</p></section></section><section class="chapter"><h2 id="collection-transformation-operations" data-toc="collection-transformation-operations">Collection transformation operations</h2><section class="chapter"><h3 id="zip-elements" data-toc="zip-elements">Zip elements</h3><p id="-3guad5_556">In Java, you can make pairs from elements with the same positions in two collections by iterating simultaneously over them:</p><div class="code-block" data-lang="java" id="zip-elements-java">
// Java
public void zip() {
    var colors = List.of(&quot;red&quot;, &quot;brown&quot;);
    var animals = List.of(&quot;fox&quot;, &quot;bear&quot;, &quot;wolf&quot;);

    for (int i = 0; i &lt; Math.min(colors.size(), animals.size()); i++) {
        String animal = animals.get(i);
        System.out.println(&quot;The &quot; + animal.substring(0, 1).toUpperCase()
               + animal.substring(1) + &quot; is &quot; + colors.get(i));
   }
}
</div><p id="-3guad5_558">If you want to do something more complex than just printing pairs of elements into the output, you can use <a href="https://blogs.oracle.com/javamagazine/post/records-come-to-java" id="-3guad5_563" data-external="true" rel="noopener noreferrer" target="_blank">Records</a>. In the example above, the record would be <code class="code" id="-3guad5_564">record AnimalDescription(String animal, String color) {}</code>.</p><p id="-3guad5_559">In Kotlin, use the <a href="collection-transformations.html#zip" id="-3guad5_565" data-tooltip="Zipping transformation is building pairs from elements with the same positions in both collections. In the Kotlin standard library, this is done by the zip() extension function."><code class="code" id="-3guad5_566">zip()</code></a> function to do the same thing:</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="zip-elements-kotlin">
fun main() {
//sampleStart
    // Kotlin
    val colors = listOf(&quot;red&quot;, &quot;brown&quot;)
    val animals = listOf(&quot;fox&quot;, &quot;bear&quot;, &quot;wolf&quot;)

    println(colors.zip(animals) { color, animal -&gt; 
        &quot;The ${animal.replaceFirstChar { it.uppercase() }} is $color&quot; })
//sampleEnd
}
</div><p id="-3guad5_561"><code class="code" id="-3guad5_567">zip()</code> returns the List of <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-pair/" id="-3guad5_568" data-external="true" rel="noopener noreferrer" target="_blank">Pair</a> objects.</p><aside class="prompt" data-type="note" data-title="" id="-3guad5_562"><p id="-3guad5_569">If collections have different sizes, the result of <code class="code" id="-3guad5_570">zip()</code> is the smaller size. The last elements of the larger collection are not included in the result.</p></aside></section><section class="chapter"><h3 id="associate-elements" data-toc="associate-elements">Associate elements</h3><p id="-3guad5_571">In Java, you can use the <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html" id="-3guad5_575" data-external="true" rel="noopener noreferrer" target="_blank">Stream API</a> to associate elements with characteristics:</p><div class="code-block" data-lang="java" id="associate-elements-java">
// Java
public void associate() {
    var numbers = List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;);
    var wordAndLength = numbers.stream()
        .collect(toMap(number -&gt; number, String::length));
    System.out.println(wordAndLength);
}
</div><p id="-3guad5_573">In Kotlin, use the <a href="collection-transformations.html#associate" id="-3guad5_576" data-tooltip="Association transformations allow building maps from the collection elements and certain values associated with them. In different association types, the elements can be either keys or values in the association map."><code class="code" id="-3guad5_577">associate()</code></a> function:</p><div class="code-block" data-lang="kotlin" data-runnable="true" id="associate-elements-kotlin">
fun main() {
//sampleStart
    // Kotlin
    val numbers = listOf(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;four&quot;)
    println(numbers.associateWith { it.length })
//sampleEnd
}
</div></section></section><section class="chapter"><h2 id="what-s-next" data-toc="what-s-next">What's next?</h2><ul class="list _bullet" id="-3guad5_578"><li class="list__item" id="-3guad5_580"><p id="-3guad5_584">Visit <a href="koans.html" id="-3guad5_585" data-tooltip="Kotlin Koans are a series of exercises designed primarily for Java developers, to help you become familiar with the Kotlin syntax. Each exercise is created as a failing unit test, and your job is to make it pass. You can complete the Kotlin Koans tasks in one of the following ways:">Kotlin Koans</a> &ndash; complete exercises to learn Kotlin syntax. Each exercise is created as a failing unit test and your job is to make it pass.</p></li><li class="list__item" id="-3guad5_581"><p id="-3guad5_586">Look through other <a href="idioms.html" id="-3guad5_587" data-tooltip="A collection of random and frequently used idioms in Kotlin. If you have a favorite idiom, contribute it by sending a pull request.">Kotlin idioms</a>.</p></li><li class="list__item" id="-3guad5_582"><p id="-3guad5_588">Learn how to convert existing Java code to Kotlin with the <a href="mixing-java-kotlin-intellij.html#converting-an-existing-java-file-to-kotlin-with-j2k" id="-3guad5_589" data-tooltip="The Kotlin plugin also bundles a Java to Kotlin converter (J2K) that automatically converts Java files to Kotlin. To use J2K on a file, click Convert Java File to Kotlin File in its context menu or in the Code menu of IntelliJ IDEA.">Java to Kotlin converter</a>.</p></li><li class="list__item" id="-3guad5_583"><p id="-3guad5_590">Discover <a href="collections-overview.html" id="-3guad5_591" data-tooltip="The Kotlin Standard Library provides a comprehensive set of tools for managing collections – groups of a variable number of items (possibly zero) that are significant to the problem being solved and are commonly operated on.">collections in Kotlin</a>.</p></li></ul><p id="-3guad5_579">If you have a favorite idiom, we invite you to share it by sending a pull request.</p></section><div class="last-modified">19 April 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="java-to-kotlin-idioms-strings.html" class="navigation-links__prev">Strings in Java and Kotlin</a><a href="java-to-kotlin-nullability-guide.html" class="navigation-links__next">Nullability in Java and Kotlin</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>