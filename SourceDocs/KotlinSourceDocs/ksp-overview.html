<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-04-23T13:00:00.485857444"><title>Kotlin Symbol Processing API | Kotlin</title><script type="application/json" id="virtual-toc-data">[{"id":"overview","level":0,"title":"Overview","anchor":"#overview"},{"id":"how-ksp-looks-at-source-files","level":0,"title":"How KSP looks at source files","anchor":"#how-ksp-looks-at-source-files"},{"id":"symbolprocessorprovider-the-entry-point","level":0,"title":"SymbolProcessorProvider: the entry point","anchor":"#symbolprocessorprovider-the-entry-point"},{"id":"resources","level":0,"title":"Resources","anchor":"#resources"},{"id":"supported-libraries","level":0,"title":"Supported libraries","anchor":"#supported-libraries"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="icon" type="image/png" sizes="32x32" href="writerside_32.png"><link rel="icon" type="image/png" sizes="64x64" href="writerside_64.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Kotlin Symbol Processing API | Kotlin"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/ksp-overview.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Kotlin Symbol Processing API | Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/ksp-overview.html#webpage",
    "url": "writerside-documentation/ksp-overview.html",
    "name": "Kotlin Symbol Processing API | Kotlin",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Kotlin Help"
}</script><!-- End Schema.org --></head><body data-id="ksp-overview" data-main-title="Kotlin Symbol Processing API" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Compiler and plugins///Kotlin Symbol Processing API"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="ksp-overview" id="ksp-overview.md">Kotlin Symbol Processing API</h1><p id="-tlxnax_2">Kotlin Symbol Processing (<span class="emphasis" id="-tlxnax_9">KSP</span>) is an API that you can use to develop lightweight compiler plugins. KSP provides a simplified compiler plugin API that leverages the power of Kotlin while keeping the learning curve at a minimum. Compared to <a href="kapt.html" id="-tlxnax_10" data-tooltip="kapt is in maintenance mode. We are keeping it up-to-date with recent Kotlin and Java releases but have no plans to implement new features. Please use the Kotlin Symbol Processing API (KSP) for annotation processing. See the list of libraries supported by KSP.">kapt</a>, annotation processors that use KSP can run up to two times faster.</p><ul class="list _bullet" id="-tlxnax_3"><li class="list__item" id="-tlxnax_11"><p id="-tlxnax_13">To learn more about how KSP compares to kapt, check out <a href="ksp-why-ksp.html" id="-tlxnax_14" data-tooltip="Compiler plugins are powerful metaprogramming tools that can greatly enhance how you write code. Compiler plugins call compilers directly as libraries to analyze and edit input programs. These plugins can also generate output for various uses. For example, they can generate…">why KSP</a>.</p></li><li class="list__item" id="-tlxnax_12"><p id="-tlxnax_15">To get started writing a KSP processor, take a look at the <a href="ksp-quickstart.html" id="-tlxnax_16" data-tooltip="For a quick start, you can create your own processor or get a sample one.">KSP quickstart</a>.</p></li></ul><section class="chapter"><h2 id="overview" data-toc="overview">Overview</h2><p id="-tlxnax_17">The KSP API processes Kotlin programs idiomatically. KSP understands Kotlin-specific features, such as extension functions, declaration-site variance, and local functions. It also models types explicitly and provides basic type checking, such as equivalence and assign-compatibility.</p><p id="-tlxnax_18">The API models Kotlin program structures at the symbol level according to <a href="https://kotlinlang.org/docs/reference/grammar.html" id="-tlxnax_25" data-external="true" rel="noopener noreferrer" target="_blank">Kotlin grammar</a>. When KSP-based plugins process source programs, constructs like classes, class members, functions, and associated parameters are accessible for the processors, while things like <code class="code" id="-tlxnax_26">if</code> blocks and <code class="code" id="-tlxnax_27">for</code> loops are not.</p><p id="-tlxnax_19">Conceptually, KSP is similar to <a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-type/" id="-tlxnax_28" data-external="true" rel="noopener noreferrer" target="_blank">KType</a> in Kotlin reflection. The API allows processors to navigate from class declarations to corresponding types with specific type arguments and vice-versa. You can also substitute type arguments, specify variances, apply star projections, and mark nullabilities of types.</p><p id="-tlxnax_20">Another way to think of KSP is as a preprocessor framework of Kotlin programs. By considering KSP-based plugins as <span class="emphasis" id="-tlxnax_29">symbol processors</span>, or simply <span class="emphasis" id="-tlxnax_30">processors</span>, the data flow in a compilation can be described in the following steps:</p><ol class="list _decimal" id="-tlxnax_21" type="1"><li class="list__item" id="-tlxnax_31"><p id="-tlxnax_34">Processors read and analyze source programs and resources.</p></li><li class="list__item" id="-tlxnax_32"><p id="-tlxnax_35">Processors generate code or other forms of output.</p></li><li class="list__item" id="-tlxnax_33"><p id="-tlxnax_36">The Kotlin compiler compiles the source programs together with the generated code.</p></li></ol><p id="-tlxnax_22">Unlike a full-fledged compiler plugin, processors cannot modify the code. A compiler plugin that changes language semantics can sometimes be very confusing. KSP avoids that by treating the source programs as read-only.</p><p id="-tlxnax_23">You can also get an overview of KSP in this video:</p><div class="video-player" id="-tlxnax_24"><object class="article__bordered-element" width="560" height="315" data-theme="light" type="application/x-shockwave-flash" data="https://www.youtube.com/v/bv-VyGM3HCY?color2=FBE9EC&amp;rel=0&amp;hd=1&amp;autoplay=0&amp;version=3&amp;modestbranding=1&amp;fs=1"></object></div></section><section class="chapter"><h2 id="how-ksp-looks-at-source-files" data-toc="how-ksp-looks-at-source-files">How KSP looks at source files</h2><p id="-tlxnax_37">Most processors navigate through the various program structures of the input source code. Before diving into usage of the API, let's see at how a file might look from KSP's point of view:</p><div class="code-block" data-lang="none">
KSFile
  packageName: KSName
  fileName: String
  annotations: List&lt;KSAnnotation&gt;  (File annotations)
  declarations: List&lt;KSDeclaration&gt;
    KSClassDeclaration // class, interface, object
      simpleName: KSName
      qualifiedName: KSName
      containingFile: String
      typeParameters: KSTypeParameter
      parentDeclaration: KSDeclaration
      classKind: ClassKind
      primaryConstructor: KSFunctionDeclaration
      superTypes: List&lt;KSTypeReference&gt;
      // contains inner classes, member functions, properties, etc.
      declarations: List&lt;KSDeclaration&gt;
    KSFunctionDeclaration // top level function
      simpleName: KSName
      qualifiedName: KSName
      containingFile: String
      typeParameters: KSTypeParameter
      parentDeclaration: KSDeclaration
      functionKind: FunctionKind
      extensionReceiver: KSTypeReference?
      returnType: KSTypeReference
      parameters: List&lt;KSValueParameter&gt;
      // contains local classes, local functions, local variables, etc.
      declarations: List&lt;KSDeclaration&gt;
    KSPropertyDeclaration // global variable
      simpleName: KSName
      qualifiedName: KSName
      containingFile: String
      typeParameters: KSTypeParameter
      parentDeclaration: KSDeclaration
      extensionReceiver: KSTypeReference?
      type: KSTypeReference
      getter: KSPropertyGetter
        returnType: KSTypeReference
      setter: KSPropertySetter
        parameter: KSValueParameter
</div><p id="-tlxnax_39">This view lists common things that are declared in the file: classes, functions, properties, and so on.</p></section><section class="chapter"><h2 id="symbolprocessorprovider-the-entry-point" data-toc="symbolprocessorprovider-the-entry-point">SymbolProcessorProvider: the entry point</h2><p id="-tlxnax_40">KSP expects an implementation of the <code class="code" id="-tlxnax_46">SymbolProcessorProvider</code> interface to instantiate <code class="code" id="-tlxnax_47">SymbolProcessor</code>:</p><div class="code-block" data-lang="kotlin">
interface SymbolProcessorProvider {
    fun create(environment: SymbolProcessorEnvironment): SymbolProcessor
}
</div><p id="-tlxnax_42">While <code class="code" id="-tlxnax_48">SymbolProcessor</code> is defined as:</p><div class="code-block" data-lang="kotlin">
interface SymbolProcessor {
    fun process(resolver: Resolver): List&lt;KSAnnotated&gt; // Let's focus on this
    fun finish() {}
    fun onError() {}
}
</div><p id="-tlxnax_44">A <code class="code" id="-tlxnax_49">Resolver</code> provides <code class="code" id="-tlxnax_50">SymbolProcessor</code> with access to compiler details such as symbols. A processor that finds all top-level functions and non-local functions in top-level classes might look something like the following:</p><div class="code-block" data-lang="kotlin">
class HelloFunctionFinderProcessor : SymbolProcessor() {
    // ...
    val functions = mutableListOf&lt;KSClassDeclaration&gt;()
    val visitor = FindFunctionsVisitor()

    override fun process(resolver: Resolver) {
        resolver.getAllFiles().forEach { it.accept(visitor, Unit) }
    }

    inner class FindFunctionsVisitor : KSVisitorVoid() {
        override fun visitClassDeclaration(classDeclaration: KSClassDeclaration, data: Unit) {
            classDeclaration.getDeclaredFunctions().forEach { it.accept(this, Unit) }
        }

        override fun visitFunctionDeclaration(function: KSFunctionDeclaration, data: Unit) {
            functions.add(function)
        }

        override fun visitFile(file: KSFile, data: Unit) {
            file.declarations.forEach { it.accept(this, Unit) }
        }
    }
    // ...
    
    class Provider : SymbolProcessorProvider {
        override fun create(environment: SymbolProcessorEnvironment): SymbolProcessor = TODO()
    }
}
</div></section><section class="chapter"><h2 id="resources" data-toc="resources">Resources</h2><ul class="list _bullet" id="-tlxnax_51"><li class="list__item" id="-tlxnax_52"><p id="-tlxnax_62"><a href="ksp-quickstart.html" id="-tlxnax_63" data-tooltip="For a quick start, you can create your own processor or get a sample one.">Quickstart</a></p></li><li class="list__item" id="-tlxnax_53"><p id="-tlxnax_64"><a href="ksp-why-ksp.html" id="-tlxnax_65" data-tooltip="Compiler plugins are powerful metaprogramming tools that can greatly enhance how you write code. Compiler plugins call compilers directly as libraries to analyze and edit input programs. These plugins can also generate output for various uses. For example, they can generate…">Why use KSP?</a></p></li><li class="list__item" id="-tlxnax_54"><p id="-tlxnax_66"><a href="ksp-examples.html" id="-tlxnax_67" data-tooltip="fun KSClassDeclaration.getDeclaredFunctions(): Sequence&lt;KSFunctionDeclaration&gt; = declarations.filterIsInstance&lt;KSFunctionDeclaration&gt;() fun KSDeclaration.isLocal(): Boolean = parentDeclaration != null &amp;&amp; parentDeclaration !is KSClassDeclaration fun…">Examples</a></p></li><li class="list__item" id="-tlxnax_55"><p id="-tlxnax_68"><a href="ksp-additional-details.html" id="-tlxnax_69" data-tooltip="You can find the API definition in the KSP GitHub repository. The diagram shows an overview of how Kotlin is modeled in KSP:">How KSP models Kotlin code</a></p></li><li class="list__item" id="-tlxnax_56"><p id="-tlxnax_70"><a href="ksp-reference.html" id="-tlxnax_71" data-tooltip="KSP requires explicit type resolution, so some functionalities in Java can only be carried out by KSType and the corresponding elements before resolution.">Reference for Java annotation processor authors</a></p></li><li class="list__item" id="-tlxnax_57"><p id="-tlxnax_72"><a href="ksp-incremental.html" id="-tlxnax_73" data-tooltip="Incremental processing is a processing technique that avoids re-processing of sources as much as possible. The primary goal of incremental processing is to reduce the turn-around time of a typical change-compile-test cycle. For general information, see Wikipedia's article on…">Incremental processing notes</a></p></li><li class="list__item" id="-tlxnax_58"><p id="-tlxnax_74"><a href="ksp-multi-round.html" id="-tlxnax_75" data-tooltip="KSP supports multiple round processing, or processing files over multiple rounds. It means that subsequent rounds use an output from previous rounds as additional input.">Multiple round processing notes</a></p></li><li class="list__item" id="-tlxnax_59"><p id="-tlxnax_76"><a href="ksp-multiplatform.html" id="-tlxnax_77" data-tooltip="For a quick start, see a sample Kotlin Multiplatform project defining a KSP processor.">KSP on multiplatform projects</a></p></li><li class="list__item" id="-tlxnax_60"><p id="-tlxnax_78"><a href="ksp-command-line.html" id="-tlxnax_79" data-tooltip="KSP is a Kotlin compiler plugin and needs to run with Kotlin compiler. Download and extract them.">Running KSP from command line</a></p></li><li class="list__item" id="-tlxnax_61"><p id="-tlxnax_80"><a href="ksp-faq.html" id="-tlxnax_81" data-tooltip="KSP has several advantages over kapt:">FAQ</a></p></li></ul></section><section class="chapter"><h2 id="supported-libraries" data-toc="supported-libraries">Supported libraries</h2><p id="-tlxnax_82">The table includes a list of popular libraries on Android and their various stages of support for KSP:</p><div class="table-wrapper"><table class="wide" id="-tlxnax_83"><thead><tr class="ijRowHead" id="-tlxnax_84"><th id="-tlxnax_107"><p>Library</p></th><th id="-tlxnax_108"><p>Status</p></th></tr></thead><tbody><tr id="-tlxnax_85"><td id="-tlxnax_109"><p>Room</p></td><td id="-tlxnax_110"><p><a href="https://developer.android.com/jetpack/androidx/releases/room#2.3.0-beta02" id="-tlxnax_111" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_86"><td id="-tlxnax_112"><p>Moshi</p></td><td id="-tlxnax_113"><p><a href="https://github.com/square/moshi/" id="-tlxnax_114" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_87"><td id="-tlxnax_115"><p>RxHttp</p></td><td id="-tlxnax_116"><p><a href="https://github.com/liujingxing/rxhttp" id="-tlxnax_117" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_88"><td id="-tlxnax_118"><p>Kotshi</p></td><td id="-tlxnax_119"><p><a href="https://github.com/ansman/kotshi" id="-tlxnax_120" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_89"><td id="-tlxnax_121"><p>Lyricist</p></td><td id="-tlxnax_122"><p><a href="https://github.com/adrielcafe/lyricist" id="-tlxnax_123" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_90"><td id="-tlxnax_124"><p>Lich SavedState</p></td><td id="-tlxnax_125"><p><a href="https://github.com/line/lich/tree/master/savedstate" id="-tlxnax_126" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_91"><td id="-tlxnax_127"><p>gRPC Dekorator</p></td><td id="-tlxnax_128"><p><a href="https://github.com/mottljan/grpc-dekorator" id="-tlxnax_129" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_92"><td id="-tlxnax_130"><p>EasyAdapter</p></td><td id="-tlxnax_131"><p><a href="https://github.com/AmrDeveloper/EasyAdapter" id="-tlxnax_132" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_93"><td id="-tlxnax_133"><p>Koin Annotations</p></td><td id="-tlxnax_134"><p><a href="https://github.com/InsertKoinIO/koin-annotations" id="-tlxnax_135" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_94"><td id="-tlxnax_136"><p>Glide</p></td><td id="-tlxnax_137"><p><a href="https://github.com/bumptech/glide" id="-tlxnax_138" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_95"><td id="-tlxnax_139"><p>Micronaut</p></td><td id="-tlxnax_140"><p><a href="https://micronaut.io/2023/07/14/micronaut-framework-4-0-0-released/" id="-tlxnax_141" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_96"><td id="-tlxnax_142"><p>Epoxy</p></td><td id="-tlxnax_143"><p><a href="https://github.com/airbnb/epoxy" id="-tlxnax_144" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_97"><td id="-tlxnax_145"><p>Paris</p></td><td id="-tlxnax_146"><p><a href="https://github.com/airbnb/paris" id="-tlxnax_147" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_98"><td id="-tlxnax_148"><p>Auto Dagger</p></td><td id="-tlxnax_149"><p><a href="https://github.com/ansman/auto-dagger" id="-tlxnax_150" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_99"><td id="-tlxnax_151"><p>SealedX</p></td><td id="-tlxnax_152"><p><a href="https://github.com/skydoves/sealedx" id="-tlxnax_153" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_100"><td id="-tlxnax_154"><p>Ktorfit</p></td><td id="-tlxnax_155"><p><a href="https://github.com/Foso/Ktorfit" id="-tlxnax_156" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_101"><td id="-tlxnax_157"><p>Mockative</p></td><td id="-tlxnax_158"><p><a href="https://github.com/mockative/mockative" id="-tlxnax_159" data-external="true" rel="noopener noreferrer" target="_blank">Officially supported</a></p></td></tr><tr id="-tlxnax_102"><td id="-tlxnax_160"><p>DeeplinkDispatch</p></td><td id="-tlxnax_161"><p><a href="https://github.com/airbnb/DeepLinkDispatch/pull/323" id="-tlxnax_162" data-external="true" rel="noopener noreferrer" target="_blank">Supported via airbnb/DeepLinkDispatch#323</a></p></td></tr><tr id="-tlxnax_103"><td id="-tlxnax_163"><p>Dagger</p></td><td id="-tlxnax_164"><p><a href="https://dagger.dev/dev-guide/ksp" id="-tlxnax_165" data-external="true" rel="noopener noreferrer" target="_blank">Alpha</a></p></td></tr><tr id="-tlxnax_104"><td id="-tlxnax_166"><p>Motif</p></td><td id="-tlxnax_167"><p><a href="https://github.com/uber/motif" id="-tlxnax_168" data-external="true" rel="noopener noreferrer" target="_blank">Alpha</a></p></td></tr><tr id="-tlxnax_105"><td id="-tlxnax_169"><p>Hilt</p></td><td id="-tlxnax_170"><p><a href="https://dagger.dev/dev-guide/ksp" id="-tlxnax_171" data-external="true" rel="noopener noreferrer" target="_blank">In progress</a></p></td></tr><tr id="-tlxnax_106"><td id="-tlxnax_172"><p>Auto Factory</p></td><td id="-tlxnax_173"><p><a href="https://github.com/google/auto/issues/982" id="-tlxnax_174" data-external="true" rel="noopener noreferrer" target="_blank">Not yet supported</a></p></td></tr></tbody></table></div></section><div class="last-modified">21 April 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="compose-compiler-options.html" class="navigation-links__prev">Compose compiler options DSL</a><a href="ksp-quickstart.html" class="navigation-links__next">KSP quickstart</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>