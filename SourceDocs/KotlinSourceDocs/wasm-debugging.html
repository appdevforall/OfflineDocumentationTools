<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-04-23T13:00:00.194561968"><title>Debug Kotlin/Wasm code | Kotlin</title><script type="application/json" id="virtual-toc-data">[{"id":"before-you-start","level":0,"title":"Before you start","anchor":"#before-you-start"},{"id":"open-the-project-in-intellij-idea","level":0,"title":"Open the project in IntelliJ IDEA","anchor":"#open-the-project-in-intellij-idea"},{"id":"run-the-application","level":0,"title":"Run the application","anchor":"#run-the-application"},{"id":"debug-in-your-browser","level":0,"title":"Debug in your browser","anchor":"#debug-in-your-browser"},{"id":"configure-your-browser-for-debugging","level":1,"title":"Configure your browser for debugging","anchor":"#configure-your-browser-for-debugging"},{"id":"debug-your-kotlin-wasm-application","level":1,"title":"Debug your Kotlin/Wasm application","anchor":"#debug-your-kotlin-wasm-application"},{"id":"leave-feedback","level":0,"title":"Leave feedback","anchor":"#leave-feedback"},{"id":"what-s-next","level":0,"title":"What\u0027s next?","anchor":"#what-s-next"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="icon" type="image/png" sizes="32x32" href="writerside_32.png"><link rel="icon" type="image/png" sizes="64x64" href="writerside_64.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Debug Kotlin/Wasm code | Kotlin"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/wasm-debugging.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Debug Kotlin/Wasm code | Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/wasm-debugging.html#webpage",
    "url": "writerside-documentation/wasm-debugging.html",
    "name": "Debug Kotlin/Wasm code | Kotlin",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Kotlin Help"
}</script><!-- End Schema.org --></head><body data-id="wasm-debugging" data-main-title="Debug Kotlin/Wasm code" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Platforms///WebAssembly (Wasm)"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="wasm-debugging" id="wasm-debugging.md">Debug Kotlin/Wasm code</h1><aside class="prompt" data-type="note" data-title="" id="yra60w_2"><p id="yra60w_10">Kotlin/Wasm is <a href="components-stability.html" id="yra60w_11" data-tooltip="The Kotlin language and toolset are divided into many components such as the compilers for the JVM, JS and Native targets, the Standard Library, various accompanying tools and so on. Many of these components were officially released as Stable, which means that they were evolved in aâ€¦">Alpha</a>. It may be changed at any time.</p></aside><p id="yra60w_3">This tutorial demonstrates how to use your browser to debug your <a href="https://www.jetbrains.com/lp/compose-multiplatform/" id="yra60w_12" data-external="true" rel="noopener noreferrer" target="_blank">Compose Multiplatform</a> application built with Kotlin/Wasm.</p><section class="chapter"><h2 id="before-you-start" data-toc="before-you-start">Before you start</h2><p id="yra60w_13">Create a project using the Kotlin Multiplatform wizard:</p><ol class="list _decimal" id="yra60w_14" type="1"><li class="list__item" id="yra60w_16"><p id="yra60w_20">Open the <a href="https://kmp.jetbrains.com/#newProject" id="yra60w_21" data-external="true" rel="noopener noreferrer" target="_blank">Kotlin Multiplatform wizard</a>.</p></li><li class="list__item" id="yra60w_17"><p id="yra60w_22">On the <span class="control" id="yra60w_25">New Project</span> tab, change the project name and ID to your preference. In this tutorial, we set the name to &quot;WasmDemo&quot; and the ID to &quot;wasm.project.demo&quot;.</p><aside class="prompt" data-type="tip" data-title="" id="yra60w_23"><p id="yra60w_26">These are the name and ID of the project directory. You can also leave them as they are.</p></aside><p id="yra60w_24"></p></li><li class="list__item" id="yra60w_18"><p id="yra60w_27">Select the <span class="control" id="yra60w_28">Web</span> option. Make sure that no other options are selected.</p></li><li class="list__item" id="yra60w_19"><p id="yra60w_29">Click the <span class="control" id="yra60w_30">Download</span> button and unpack the resulting archive.</p></li></ol><figure id="yra60w_15"><img alt="Kotlin Multiplatform wizard" src="images/wasm-compose-web-wizard.png" title="Kotlin Multiplatform wizard" width="400" height="581"></figure></section><section class="chapter"><h2 id="open-the-project-in-intellij-idea" data-toc="open-the-project-in-intellij-idea">Open the project in IntelliJ IDEA</h2><ol class="list _decimal" id="yra60w_31" type="1"><li class="list__item" id="yra60w_32"><p id="yra60w_35">Download and install the latest version of <a href="https://www.jetbrains.com/idea/" id="yra60w_36" data-external="true" rel="noopener noreferrer" target="_blank">IntelliJ IDEA</a>.</p></li><li class="list__item" id="yra60w_33"><p id="yra60w_37">On the Welcome screen of IntelliJ IDEA, click <span class="control" id="yra60w_38">Open</span> or select <span class="control" id="yra60w_39">File | Open</span> in the menu bar.</p></li><li class="list__item" id="yra60w_34"><p id="yra60w_40">Navigate to the unpacked &quot;WasmDemo&quot; folder and click <span class="control" id="yra60w_41">Open</span>.</p></li></ol></section><section class="chapter"><h2 id="run-the-application" data-toc="run-the-application">Run the application</h2><ol class="list _decimal" id="yra60w_42" type="1"><li class="list__item" id="yra60w_43"><p id="yra60w_46">In IntelliJ IDEA, open the <span class="control" id="yra60w_49">Gradle</span> tool window by selecting <span class="control" id="yra60w_50">View</span> | <span class="control" id="yra60w_51">Tool Windows</span> | <span class="control" id="yra60w_52">Gradle</span>.</p><aside class="prompt" data-type="note" data-title="" id="yra60w_47"><p id="yra60w_53">You need at least Java 11 as your Gradle JVM for the tasks to load successfully.</p></aside><p id="yra60w_48"></p></li><li class="list__item" id="yra60w_44"><p id="yra60w_54">In <span class="control" id="yra60w_58">composeApp</span> | <span class="control" id="yra60w_59">Tasks</span> | <span class="control" id="yra60w_60">kotlin browser</span>, select and run the <span class="control" id="yra60w_61">wasmJsBrowserDevelopmentRun</span> task.</p><figure id="yra60w_55"><img alt="Run the Gradle task" src="images/wasm-gradle-task-window.png" title="Run the Gradle task" width="550" height="345"></figure><p id="yra60w_56">Alternatively, you can run the following command in the terminal from the <code class="code" id="yra60w_62">WasmDemo</code> root directory:</p><div class="code-block" data-lang="bash">
./gradlew wasmJsBrowserDevelopmentRun
</div></li><li class="list__item" id="yra60w_45"><p id="yra60w_63">Once the application starts, open the following URL in your browser:</p><div class="code-block" data-lang="bash">
http://localhost:8080/
</div><aside class="prompt" data-type="tip" data-title="" id="yra60w_65"><p id="yra60w_71">The port number can vary because the 8080 port may be unavailable. You can find the actual port number printed in the Gradle build console.</p></aside><p id="yra60w_66"></p><p id="yra60w_67">You see a &quot;Click me!&quot; button. Click it:</p><figure id="yra60w_68"><img alt="Click me" src="images/wasm-composeapp-browser-clickme.png" title="Click me" width="550" height="348"></figure><p id="yra60w_69">Now you see the Compose Multiplatform logo:</p><figure id="yra60w_70"><img alt="Compose app in browser" src="images/wasm-composeapp-browser.png" title="Compose app in browser" width="550" height="518"></figure></li></ol></section><section class="chapter"><h2 id="debug-in-your-browser" data-toc="debug-in-your-browser">Debug in your browser</h2><aside class="prompt" data-type="note" data-title="" id="yra60w_72"><p id="yra60w_77">Currently, debugging is only available in your browser. In the future, you will be able to debug your code in <a href="https://youtrack.jetbrains.com/issue/KT-64683/Kotlin-Wasm-debugging-in-IntelliJ-IDEA" id="yra60w_78" data-external="true" rel="noopener noreferrer" target="_blank">IntelliJ IDEA</a>.</p></aside><p id="yra60w_73">You can debug this Compose Multiplatform application in your browser out of the box, without additional configurations.</p><p id="yra60w_74">However, for other projects, you may need to configure additional settings in your Gradle build file. For more information about how to configure your browser for debugging, expand the next section.</p><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="configure-your-browser-for-debugging" data-toc="configure-your-browser-for-debugging">Configure your browser for debugging</h3></div><div class="collapse__content"><section class="chapter"><h4 id="enable-access-to-project-s-sources" data-toc="enable-access-to-project-s-sources">Enable access to project's sources</h4><p id="yra60w_81">By default, browsers can't access some of the project's sources necessary for debugging. To provide access, you can configure the Webpack DevServer to serve these sources. In the <code class="code" id="yra60w_89">ComposeApp</code> directory, add the following code snippets to your <code class="code" id="yra60w_90">build.gradle.kts</code> file.</p><p id="yra60w_82">Add this import as a top-level declaration:</p><div class="code-block" data-lang="kotlin">
import org.jetbrains.kotlin.gradle.targets.js.webpack.KotlinWebpackConfig
</div><p id="yra60w_84">Add this code snippet inside the <code class="code" id="yra60w_91">commonWebpackConfig{}</code> block, located in the <code class="code" id="yra60w_92">wasmJs{}</code> target DSL and <code class="code" id="yra60w_93">browser{}</code> platform DSL within <code class="code" id="yra60w_94">kotlin{}</code>:</p><div class="code-block" data-lang="kotlin">
devServer = (devServer ?: KotlinWebpackConfig.DevServer()).apply {
    static = (static ?: mutableListOf()).apply {
        // Serve sources to debug inside browser
        add(project.rootDir.path)
        add(project.projectDir.path)
    }
}
</div><p id="yra60w_86">The resulting code block looks like this:</p><div class="code-collapse" data-lang="kotlin" data-is-expanded="false" data-synopsis="kotlin {">
kotlin {
    @OptIn(ExperimentalWasmDsl::class)
    wasmJs {
        moduleName = &quot;composeApp&quot;
        browser {
            commonWebpackConfig {
                outputFileName = &quot;composeApp.js&quot;
                devServer = (devServer ?: KotlinWebpackConfig.DevServer()).apply {
                    static = (static ?: mutableListOf()).apply { 
                        // Serve sources to debug inside browser
                        add(project.rootDir.path)
                        add(project.projectDir.path)
                    }
                } 
            }
        }
    }
}
</div><aside class="prompt" data-type="note" data-title="" id="yra60w_88"><p id="yra60w_95">Currently, you can't debug library sources. <a href="https://youtrack.jetbrains.com/issue/KT-64685" id="yra60w_96" data-external="true" rel="noopener noreferrer" target="_blank">We will support this in the future</a>.</p></aside></section><section class="chapter"><h4 id="use-custom-formatters" data-toc="use-custom-formatters">Use custom formatters</h4><p id="yra60w_97">Custom formatters help display and locate variable values in a more user-friendly and comprehensible manner when debugging Kotlin/Wasm code.</p><p id="yra60w_98">Custom formatters are enabled by default in development builds, so you don't need additional Gradle configurations.</p><p id="yra60w_99">This feature is supported in Firefox and Chromium-based browsers as it uses the <a href="https://firefox-source-docs.mozilla.org/devtools-user/custom_formatters/index.html" id="yra60w_105" data-external="true" rel="noopener noreferrer" target="_blank">custom formatters API</a>.</p><p id="yra60w_100">To use this feature, ensure that custom formatters are enabled in your browser's developer tools:</p><ul class="list _bullet" id="yra60w_101"><li class="list__item" id="yra60w_106"><p id="yra60w_108">In Chrome DevTools, find the custom formatters checkbox in <span class="control" id="yra60w_110">Settings | Preferences | Console</span>:</p><figure id="yra60w_109"><img alt="Enable custom formatters in Chrome" src="images/wasm-custom-formatters-chrome.png" title="Enable custom formatters in Chrome" width="400" height="410"></figure></li><li class="list__item" id="yra60w_107"><p id="yra60w_111">In Firefox DevTools, find the custom formatters checkbox in <span class="control" id="yra60w_113">Settings | Advanced settings</span>:</p><figure id="yra60w_112"><img alt="Enable custom formatters in Firefox" src="images/wasm-custom-formatters-firefox.png" title="Enable custom formatters in Firefox" width="400" height="309"></figure></li></ul><p id="yra60w_102">Custom formatters work for Kotlin/Wasm development builds. If you have specific requirements for production builds, you need to adjust your Gradle configuration accordingly. Add the following compiler option to the <code class="code" id="yra60w_114">wasmJs {}</code> block:</p><div class="code-block" data-lang="kotlin">
// build.gradle.kts
kotlin {
    wasmJs {
        // ...

        compilerOptions {
            freeCompilerArgs.add(&quot;-Xwasm-debugger-custom-formatters&quot;)
        }
    }
}
</div><p id="yra60w_104">After enabling custom formatters, you can continue with the debugging tutorial.</p></section></div></div></section><section class="chapter"><h3 id="debug-your-kotlin-wasm-application" data-toc="debug-your-kotlin-wasm-application">Debug your Kotlin/Wasm application</h3><aside class="prompt" data-type="tip" data-title="" id="yra60w_115"><p id="yra60w_117">This tutorial uses the Chrome browser, but you should be able to follow these steps with other browsers. For more information, see <a href="wasm-troubleshooting.html#browser-versions" id="yra60w_118" data-tooltip="To run applications built with Kotlin/Wasm in a browser, you need a browser version supporting the new WebAssembly garbage collection (WasmGC) feature. Check if the browser version supports the new WasmGC by default or if you need to make changes to the environment.">Browser versions</a>.</p></aside><ol class="list _decimal" id="yra60w_116" type="1"><li class="list__item" id="yra60w_119"><p id="yra60w_127">In the browser window of the application, right-click and select the <span class="control" id="yra60w_128">Inspect</span> action to access developer tools. Alternatively, you can use the <span class="control" id="yra60w_129">F12</span> shortcut or select <span class="control" id="yra60w_130">View</span> | <span class="control" id="yra60w_131">Developer</span> | <span class="control" id="yra60w_132">Developer Tools</span>.</p></li><li class="list__item" id="yra60w_120"><p id="yra60w_133">Switch to the <span class="control" id="yra60w_134">Sources</span> tab and select the Kotlin file to debug. In this tutorial, we'll work with the <code class="code" id="yra60w_135">Greeting.kt</code> file.</p></li><li class="list__item" id="yra60w_121"><p id="yra60w_136">Click on the line numbers to set breakpoints on the code that you want to inspect. Only the lines with darker numbers can have breakpoints.</p><figure id="yra60w_137"><img alt="Set breakpoints" src="images/wasm-breakpoints.png" title="Set breakpoints" width="600" height="226"></figure></li><li class="list__item" id="yra60w_122"><p id="yra60w_138">Click on the <span class="control" id="yra60w_139">Click me!</span> button to interact with the application. This action triggers the execution of the code, and the debugger pauses when the execution reaches a breakpoint.</p></li><li class="list__item" id="yra60w_123"><p id="yra60w_140">In the debugging pane, use the debugging control buttons to inspect variables and code execution at the breakpoints:</p><ul class="list _bullet" id="yra60w_141"><li class="list__item" id="yra60w_143"><p id="yra60w_146"><img alt="Step into" src="images/wasm-step-into.png" class="inline-icon-" title="Step into" id="yra60w_147" width="30" height="30"> Step into to investigate a function more deeply.</p></li><li class="list__item" id="yra60w_144"><p id="yra60w_148"><img alt="Step over" src="images/wasm-step-over.png" class="inline-icon-" title="Step over" id="yra60w_149" width="30" height="30"> Step over to execute the current line and pause on the next line.</p></li><li class="list__item" id="yra60w_145"><p id="yra60w_150"><img alt="Step out" src="images/wasm-step-out.png" class="inline-icon-" title="Step out" id="yra60w_151" width="30" height="29"> Step out to execute the code until it exits the current function.</p></li></ul><figure id="yra60w_142"><img alt="Debug controls" src="images/wasm-debug-controls.png" title="Debug controls" width="600" height="349"></figure></li><li class="list__item" id="yra60w_124"><p id="yra60w_152">Check the <span class="control" id="yra60w_155">Call stack</span> and <span class="control" id="yra60w_156">Scope</span> panes to trace the sequence of function calls and pinpoint the location of any errors.</p><figure id="yra60w_153"><img alt="Check call stack" src="images/wasm-debug-scope.png" title="Check call stack" width="550" height="507"></figure><p id="yra60w_154">For an improved visualization of the variable values, see <span class="emphasis" id="yra60w_157">Use custom formatters</span> within the <a href="#configure-your-browser-for-debugging" id="yra60w_158" data-tooltip="By default, browsers can't access some of the project's sources necessary for debugging. To provide access, you can configure the Webpack DevServer to serve these sources. In the ComposeApp directory, add the following code snippets to your build.gradle.kts file.">Configure your browser for debugging</a> section.</p></li><li class="list__item" id="yra60w_125"><p id="yra60w_159">Make changes to your code and <a href="#run-the-application" id="yra60w_160" data-tooltip="In IntelliJ IDEA, open the Gradle tool window by selecting View | Tool Windows | Gradle.">run the application</a> again to verify that everything works as expected.</p></li><li class="list__item" id="yra60w_126"><p id="yra60w_161">Click on the line numbers with breakpoints to remove the breakpoints.</p></li></ol></section></section><section class="chapter"><h2 id="leave-feedback" data-toc="leave-feedback">Leave feedback</h2><p id="yra60w_162">We would appreciate any feedback you may have on your debugging experience!</p><ul class="list _bullet" id="yra60w_163"><li class="list__item" id="yra60w_164"><p id="yra60w_166"><img alt="Slack" src="images/slack.svg" class="inline-icon-" title="Slack" id="yra60w_167" width="25" height="25"> Slack: <a href="https://surveys.jetbrains.com/s3/kotlin-slack-sign-up" id="yra60w_168" data-external="true" rel="noopener noreferrer" target="_blank">get a Slack invite</a> and provide your feedback directly to the developers in our <a href="https://kotlinlang.slack.com/archives/CDFP59223" id="yra60w_169" data-external="true" rel="noopener noreferrer" target="_blank">#webassembly</a> channel.</p></li><li class="list__item" id="yra60w_165"><p id="yra60w_170">Provide your feedback in <a href="https://youtrack.jetbrains.com/issue/KT-56492" id="yra60w_171" data-external="true" rel="noopener noreferrer" target="_blank">YouTrack</a>.</p></li></ul></section><section class="chapter"><h2 id="what-s-next" data-toc="what-s-next">What's next?</h2><ul class="list _bullet" id="yra60w_172"><li class="list__item" id="yra60w_173"><p id="yra60w_175">See Kotlin/Wasm debugging in action in this <a href="https://www.youtube.com/watch?v=t3FUWfJWrjU&amp;t=2703s" id="yra60w_176" data-external="true" rel="noopener noreferrer" target="_blank">YouTube video</a>.</p></li><li class="list__item" id="yra60w_174"><p id="yra60w_177">Try the Kotlin/Wasm examples from our <code class="code" id="yra60w_179">kotlin-wasm-examples</code> repository:</p><ul class="list _bullet" id="yra60w_178"><li class="list__item" id="yra60w_180"><p id="yra60w_185"><a href="https://github.com/Kotlin/kotlin-wasm-examples/tree/main/compose-imageviewer" id="yra60w_186" data-external="true" rel="noopener noreferrer" target="_blank">Compose image viewer</a></p></li><li class="list__item" id="yra60w_181"><p id="yra60w_187"><a href="https://github.com/Kotlin/kotlin-wasm-examples/tree/main/compose-jetsnack" id="yra60w_188" data-external="true" rel="noopener noreferrer" target="_blank">Jetsnack application</a></p></li><li class="list__item" id="yra60w_182"><p id="yra60w_189"><a href="https://github.com/Kotlin/kotlin-wasm-examples/tree/main/nodejs-example" id="yra60w_190" data-external="true" rel="noopener noreferrer" target="_blank">Node.js example</a></p></li><li class="list__item" id="yra60w_183"><p id="yra60w_191"><a href="https://github.com/Kotlin/kotlin-wasm-examples/tree/main/wasi-example" id="yra60w_192" data-external="true" rel="noopener noreferrer" target="_blank">WASI example</a></p></li><li class="list__item" id="yra60w_184"><p id="yra60w_193"><a href="https://github.com/Kotlin/kotlin-wasm-examples/tree/main/compose-example" id="yra60w_194" data-external="true" rel="noopener noreferrer" target="_blank">Compose example</a></p></li></ul></li></ul></section><div class="last-modified">21 April 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="wasm-wasi.html" class="navigation-links__prev">Get started with Kotlin/Wasm and WASI</a><a href="wasm-js-interop.html" class="navigation-links__next">Interoperability with JavaScript</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>