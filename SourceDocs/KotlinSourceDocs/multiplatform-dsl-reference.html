<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-04-23T13:00:00.18431849"><title>Multiplatform Gradle DSL reference | Kotlin</title><script type="application/json" id="virtual-toc-data">[{"id":"id-and-version","level":0,"title":"Id and version","anchor":"#id-and-version"},{"id":"top-level-blocks","level":0,"title":"Top-level blocks","anchor":"#top-level-blocks"},{"id":"targets","level":0,"title":"Targets","anchor":"#targets"},{"id":"common-target-configuration","level":1,"title":"Common target configuration","anchor":"#common-target-configuration"},{"id":"web-targets","level":1,"title":"Web targets","anchor":"#web-targets"},{"id":"native-targets","level":1,"title":"Native targets","anchor":"#native-targets"},{"id":"android-targets","level":1,"title":"Android targets","anchor":"#android-targets"},{"id":"source-sets","level":0,"title":"Source sets","anchor":"#source-sets"},{"id":"predefined-source-sets","level":1,"title":"Predefined source sets","anchor":"#predefined-source-sets"},{"id":"custom-source-sets","level":1,"title":"Custom source sets","anchor":"#custom-source-sets"},{"id":"source-set-parameters","level":1,"title":"Source set parameters","anchor":"#source-set-parameters"},{"id":"compilations","level":0,"title":"Compilations","anchor":"#compilations"},{"id":"predefined-compilations","level":1,"title":"Predefined compilations","anchor":"#predefined-compilations"},{"id":"custom-compilations","level":1,"title":"Custom compilations","anchor":"#custom-compilations"},{"id":"compilation-parameters","level":1,"title":"Compilation parameters","anchor":"#compilation-parameters"},{"id":"compiler-options","level":0,"title":"Compiler options","anchor":"#compiler-options"},{"id":"extension-level","level":1,"title":"Extension level","anchor":"#extension-level"},{"id":"target-level","level":1,"title":"Target level","anchor":"#target-level"},{"id":"compilation-unit-level","level":1,"title":"Compilation unit level","anchor":"#compilation-unit-level"},{"id":"dependencies","level":0,"title":"Dependencies","anchor":"#dependencies"},{"id":"language-settings","level":0,"title":"Language settings","anchor":"#language-settings"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="icon" type="image/png" sizes="32x32" href="writerside_32.png"><link rel="icon" type="image/png" sizes="64x64" href="writerside_64.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Multiplatform Gradle DSL reference | Kotlin"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/multiplatform-dsl-reference.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Multiplatform Gradle DSL reference | Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/multiplatform-dsl-reference.html#webpage",
    "url": "writerside-documentation/multiplatform-dsl-reference.html",
    "name": "Multiplatform Gradle DSL reference | Kotlin",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Kotlin Help"
}</script><!-- End Schema.org --></head><body data-id="multiplatform-dsl-reference" data-main-title="Multiplatform Gradle DSL reference" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Multiplatform development///Reference"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="multiplatform-dsl-reference" id="multiplatform-dsl-reference.md">Multiplatform Gradle DSL reference</h1><p id="-e8i94l_2">The Kotlin Multiplatform Gradle plugin is a tool for creating Kotlin Multiplatform projects. Here we provide a reference of its contents; use it as a reminder when writing Gradle build scripts for Kotlin Multiplatform projects. Learn the <a href="multiplatform-intro.html" id="-e8i94l_11" data-tooltip="Support for multiplatform programming is one of Kotlin's key benefits. It reduces time spent writing and maintaining the same code for different platforms while retaining the flexibility and benefits of native programming.">concepts of Kotlin Multiplatform projects, how to create and configure them</a>.</p><section class="chapter"><h2 id="id-and-version" data-toc="id-and-version">Id and version</h2><p id="-e8i94l_12">The fully qualified name of the Kotlin Multiplatform Gradle plugin is <code class="code" id="-e8i94l_14">org.jetbrains.kotlin.multiplatform</code>. If you use the Kotlin Gradle DSL, you can apply the plugin with <code class="code" id="-e8i94l_15">kotlin(&quot;multiplatform&quot;)</code>. The plugin versions match the Kotlin release versions. The most recent version is 2.1.20.</p><div class="tabs" id="-e8i94l_13" data-group="build-script" data-anchors="[-e8i94l_16,-e8i94l_17]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_16" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
plugins {
    kotlin(&quot;multiplatform&quot;) version &quot;2.1.20&quot;
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_17" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
plugins {
    id 'org.jetbrains.kotlin.multiplatform' version '2.1.20'
}
</div></div></div></section><section class="chapter"><h2 id="top-level-blocks" data-toc="top-level-blocks">Top-level blocks</h2><p id="-e8i94l_20"><code class="code" id="-e8i94l_22">kotlin {}</code> is the top-level block for multiplatform project configuration in the Gradle build script. Inside <code class="code" id="-e8i94l_23">kotlin {}</code>, you can write the following blocks:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_21"><thead><tr class="ijRowHead" id="-e8i94l_24"><th id="-e8i94l_29"><p><span class="control" id="-e8i94l_31">Block</span></p></th><th id="-e8i94l_30"><p><span class="control" id="-e8i94l_32">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_25"><td id="-e8i94l_33"><p><span class="emphasis" id="-e8i94l_35">&lt;targetName&gt;</span></p></td><td id="-e8i94l_34"><p>Declares a particular target of a project. The names of available targets are listed in the <a href="#targets" id="-e8i94l_36" data-tooltip="A target is a part of the build responsible for compiling, testing, and packaging a piece of software aimed at one of the supported platforms. Kotlin provides targets for each platform, so you can instruct Kotlin to compile code for that specific target. Learn more about setting up…">Targets</a> section.</p></td></tr><tr id="-e8i94l_26"><td id="-e8i94l_37"><p><code class="code" id="-e8i94l_39">targets</code></p></td><td id="-e8i94l_38"><p>Lists all targets of the project.</p></td></tr><tr id="-e8i94l_27"><td id="-e8i94l_40"><p><code class="code" id="-e8i94l_42">sourceSets</code></p></td><td id="-e8i94l_41"><p>Configures predefined and declares custom <a href="#source-sets" id="-e8i94l_43" data-tooltip="The sourceSets {} block describes source sets of the project. A source set contains Kotlin source files that participate in compilations together, along with their resources, dependencies, and language settings.">source sets</a> of the project.</p></td></tr><tr id="-e8i94l_28"><td id="-e8i94l_44"><p><code class="code" id="-e8i94l_46">compilerOptions</code></p></td><td id="-e8i94l_45"><p>Specifies common extension-level <a href="#compiler-options" id="-e8i94l_47" data-tooltip="You can configure compiler options in your projects at three different levels:">compiler options</a> that are used as defaults for all targets and shared source sets.</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="targets" data-toc="targets">Targets</h2><p id="-e8i94l_48">A <span class="emphasis" id="-e8i94l_61">target</span> is a part of the build responsible for compiling, testing, and packaging a piece of software aimed at one of the supported platforms. Kotlin provides targets for each platform, so you can instruct Kotlin to compile code for that specific target. Learn more about <a href="multiplatform-discover-project.html#targets" id="-e8i94l_62" data-tooltip="Targets define the platforms to which Kotlin compiles the common code. These could be, for example, the JVM, JS, Android, iOS, or Linux. The previous example compiled the common code to the JVM and native targets.">setting up targets</a>.</p><p id="-e8i94l_49">Each target can have one or more <a href="#compilations" id="-e8i94l_63" data-tooltip="A target can have one or more compilations, for example, for production or testing. There are predefined compilations that are added automatically upon target creation. You can additionally create custom compilations.">compilations</a>. In addition to default compilations for test and production purposes, you can <a href="multiplatform-configure-compilations.html#create-a-custom-compilation" id="-e8i94l_64" data-tooltip="If you need to compile something other than production code and unit tests, for example, integration or performance tests, create a custom compilation.">create custom compilations</a>.</p><p id="-e8i94l_50">The targets of a multiplatform project are described in the corresponding blocks inside <code class="code" id="-e8i94l_65">kotlin {}</code>, for example, <code class="code" id="-e8i94l_66">jvm</code>, <code class="code" id="-e8i94l_67">androidTarget</code>, <code class="code" id="-e8i94l_68">iosArm64</code>. The complete list of available targets is the following:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_51"><thead><tr class="ijRowHead" id="-e8i94l_69"><th id="-e8i94l_76"><p>Target platform</p></th><th id="-e8i94l_77"><p>Target</p></th><th id="-e8i94l_78"><p>Comments</p></th></tr></thead><tbody><tr id="-e8i94l_70"><td id="-e8i94l_79"><p>Kotlin/JVM</p></td><td id="-e8i94l_80"><p><code class="code" id="-e8i94l_82">jvm</code></p></td><td id="-e8i94l_81"></td></tr><tr id="-e8i94l_71"><td id="-e8i94l_83" rowspan="2"><p>Kotlin/Wasm</p></td><td id="-e8i94l_84"><p><code class="code" id="-e8i94l_86">wasmJs</code></p></td><td id="-e8i94l_85"><p>Use it if you plan to run your projects in the JavaScript runtime.</p></td></tr><tr id="-e8i94l_72"><td id="-e8i94l_87"><p><code class="code" id="-e8i94l_89">wasmWasi</code></p></td><td id="-e8i94l_88"><p>Use it if you need support for the <a href="https://github.com/WebAssembly/WASI" id="-e8i94l_90" data-external="true" rel="noopener noreferrer" target="_blank">WASI</a> system interface.</p></td></tr><tr id="-e8i94l_73"><td id="-e8i94l_91"><p>Kotlin/JS</p></td><td id="-e8i94l_92"><p><code class="code" id="-e8i94l_94">js</code></p></td><td id="-e8i94l_93"><p id="-e8i94l_95">Select the execution environment:</p><ul class="list _bullet" id="-e8i94l_96"><li class="list__item" id="-e8i94l_98"><p><code class="code" id="-e8i94l_100">browser {}</code> for applications running in the browser.</p></li><li class="list__item" id="-e8i94l_99"><p><code class="code" id="-e8i94l_101">nodejs {}</code> for applications running on Node.js.</p></li></ul><p id="-e8i94l_97">Learn more in <a href="js-project-setup.html#execution-environments" id="-e8i94l_102" data-tooltip="Kotlin/JS projects can target two different execution environments:">Setting up a Kotlin/JS project</a>.</p></td></tr><tr id="-e8i94l_74"><td id="-e8i94l_103"><p>Kotlin/Native</p></td><td id="-e8i94l_104"></td><td id="-e8i94l_105"><p id="-e8i94l_106">Learn about currently supported targets for the macOS, Linux, and Windows hosts in <a href="native-target-support.html" id="-e8i94l_107" data-tooltip="The Kotlin/Native compiler supports a great number of different targets, though it is hard to provide the same level of support for all of them. This document describes which targets Kotlin/Native supports and breaks them into several tiers depending on how well the compiler…">Kotlin/Native target support</a>.</p></td></tr><tr id="-e8i94l_75"><td id="-e8i94l_108"><p>Android applications and libraries</p></td><td id="-e8i94l_109"><p><code class="code" id="-e8i94l_111">androidTarget</code></p></td><td id="-e8i94l_110"><p id="-e8i94l_112">Manually apply an Android Gradle plugin: <code class="code" id="-e8i94l_114">com.android.application</code> or <code class="code" id="-e8i94l_115">com.android.library</code>.</p><p id="-e8i94l_113">You can only create one Android target per Gradle subproject.</p></td></tr></tbody></table></div><aside class="prompt" data-type="note" data-title="" id="-e8i94l_52"><p id="-e8i94l_116">A target that is not supported by the current host is ignored during building and, therefore, not published.</p></aside><div class="code-block" data-lang="groovy">
kotlin {
    jvm()
    iosArm64()
    macosX64()
    js().browser()
}
</div><p id="-e8i94l_54">The configuration of a target can include two parts:</p><ul class="list _bullet" id="-e8i94l_55"><li class="list__item" id="-e8i94l_117"><p id="-e8i94l_119"><a href="#common-target-configuration" id="-e8i94l_120" data-tooltip="In any target block, you can use the following declarations:">Common configuration</a> available for all targets.</p></li><li class="list__item" id="-e8i94l_118"><p id="-e8i94l_121">Target-specific configuration.</p></li></ul><p id="-e8i94l_56">Each target can have one or more <a href="#compilations" id="-e8i94l_122" data-tooltip="A target can have one or more compilations, for example, for production or testing. There are predefined compilations that are added automatically upon target creation. You can additionally create custom compilations.">compilations</a>.</p><section class="chapter"><h3 id="common-target-configuration" data-toc="common-target-configuration">Common target configuration</h3><p id="-e8i94l_123">In any target block, you can use the following declarations:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_124"><thead><tr class="ijRowHead" id="-e8i94l_125"><th id="-e8i94l_130"><p><span class="control" id="-e8i94l_132">Name</span></p></th><th id="-e8i94l_131"><p><span class="control" id="-e8i94l_133">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_126"><td id="-e8i94l_134"><p><code class="code" id="-e8i94l_136">platformType</code></p></td><td id="-e8i94l_135"><p>The Kotlin platform for this target. Available values: <code class="code" id="-e8i94l_137">jvm</code>, <code class="code" id="-e8i94l_138">androidJvm</code>, <code class="code" id="-e8i94l_139">js</code>, <code class="code" id="-e8i94l_140">wasm</code>, <code class="code" id="-e8i94l_141">native</code>, <code class="code" id="-e8i94l_142">common</code>.</p></td></tr><tr id="-e8i94l_127"><td id="-e8i94l_143"><p><code class="code" id="-e8i94l_145">artifactsTaskName</code></p></td><td id="-e8i94l_144"><p>The name of the task that builds the resulting artifacts of this target.</p></td></tr><tr id="-e8i94l_128"><td id="-e8i94l_146"><p><code class="code" id="-e8i94l_148">components</code></p></td><td id="-e8i94l_147"><p>Components used to set up Gradle publications.</p></td></tr><tr id="-e8i94l_129"><td id="-e8i94l_149"><p><code class="code" id="-e8i94l_151">compilerOptions</code></p></td><td id="-e8i94l_150"><p><a href="#compiler-options" id="-e8i94l_152" data-tooltip="You can configure compiler options in your projects at three different levels:">Compiler options</a> used for the target. This declaration overrides any <code class="code" id="-e8i94l_153">compilerOptions {}</code> configured at <a href="#top-level-blocks" id="-e8i94l_154" data-tooltip="kotlin {} is the top-level block for multiplatform project configuration in the Gradle build script. Inside kotlin {}, you can write the following blocks:">top level</a>.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="web-targets" data-toc="web-targets">Web targets</h3><p id="-e8i94l_155">The <code class="code" id="-e8i94l_163">js {}</code> block describes the configuration of Kotlin/JS targets, and the <code class="code" id="-e8i94l_164">wasmJs {}</code> block describes the configuration of Kotlin/Wasm targets interoperable with JavaScript. They can contain one of two blocks depending on the target execution environment:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_156"><thead><tr class="ijRowHead" id="-e8i94l_165"><th id="-e8i94l_168"><p><span class="control" id="-e8i94l_170">Name</span></p></th><th id="-e8i94l_169"><p><span class="control" id="-e8i94l_171">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_166"><td id="-e8i94l_172"><p><a href="#browser" id="-e8i94l_174" data-tooltip="browser {} can contain the following configuration blocks:"><code class="code" id="-e8i94l_175">browser</code></a></p></td><td id="-e8i94l_173"><p>Configuration of the browser target.</p></td></tr><tr id="-e8i94l_167"><td id="-e8i94l_176"><p><a href="#node-js" id="-e8i94l_178" data-tooltip="nodejs {} can contain configurations of test and run tasks:"><code class="code" id="-e8i94l_179">nodejs</code></a></p></td><td id="-e8i94l_177"><p>Configuration of the Node.js target.</p></td></tr></tbody></table></div><p id="-e8i94l_157">Learn more about <a href="js-project-setup.html" id="-e8i94l_180" data-tooltip="Kotlin/JS projects use Gradle as a build system. To let developers easily manage their Kotlin/JS projects, we offer the kotlin.multiplatform Gradle plugin that provides project configuration tools together with helper tasks for automating routines typical for JavaScript development.">configuring Kotlin/JS projects</a>.</p><p id="-e8i94l_158">A separate <code class="code" id="-e8i94l_181">wasmWasi {}</code> block describes the configuration of Kotlin/Wasm targets that support the WASI system interface. Here, only the <a href="#node-js" id="-e8i94l_182" data-tooltip="nodejs {} can contain configurations of test and run tasks:"><code class="code" id="-e8i94l_183">nodejs</code></a> execution environment is available:</p><div class="code-block" data-lang="kotlin">
kotlin {
    wasmWasi {
        nodejs()
        binaries.executable()
    }
}
</div><p id="-e8i94l_160">All the web targets, <code class="code" id="-e8i94l_184">js</code>, <code class="code" id="-e8i94l_185">wasmJs</code>, and <code class="code" id="-e8i94l_186">wasmWasi</code>, also support the <code class="code" id="-e8i94l_187">binaries.executable()</code> call. It explicitly instructs the Kotlin compiler to emit executable files. For more information, see <a href="js-project-setup.html#execution-environments" id="-e8i94l_188" data-tooltip="Kotlin/JS projects can target two different execution environments:">Execution environments</a> in the Kotlin/JS documentation.</p><section class="chapter"><h4 id="browser" data-toc="browser">Browser</h4><p id="-e8i94l_189"><code class="code" id="-e8i94l_192">browser {}</code> can contain the following configuration blocks:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_190"><thead><tr class="ijRowHead" id="-e8i94l_193"><th id="-e8i94l_198"><p><span class="control" id="-e8i94l_200">Name</span></p></th><th id="-e8i94l_199"><p><span class="control" id="-e8i94l_201">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_194"><td id="-e8i94l_202"><p><code class="code" id="-e8i94l_204">testRuns</code></p></td><td id="-e8i94l_203"><p>Configuration of test execution.</p></td></tr><tr id="-e8i94l_195"><td id="-e8i94l_205"><p><code class="code" id="-e8i94l_207">runTask</code></p></td><td id="-e8i94l_206"><p>Configuration of project running.</p></td></tr><tr id="-e8i94l_196"><td id="-e8i94l_208"><p><code class="code" id="-e8i94l_210">webpackTask</code></p></td><td id="-e8i94l_209"><p>Configuration of project bundling with <a href="https://webpack.js.org/" id="-e8i94l_211" data-external="true" rel="noopener noreferrer" target="_blank">Webpack</a>.</p></td></tr><tr id="-e8i94l_197"><td id="-e8i94l_212"><p><code class="code" id="-e8i94l_214">distribution</code></p></td><td id="-e8i94l_213"><p>Path to output files.</p></td></tr></tbody></table></div><div class="code-block" data-lang="kotlin">
kotlin {
    js().browser {
        webpackTask { /* ... */ }
        testRuns { /* ... */ }
        distribution {
            directory = File(&quot;$projectDir/customdir/&quot;)
        }
    }
}
</div></section><section class="chapter"><h4 id="node-js" data-toc="node-js">Node.js</h4><p id="-e8i94l_215"><code class="code" id="-e8i94l_218">nodejs {}</code> can contain configurations of test and run tasks:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_216"><thead><tr class="ijRowHead" id="-e8i94l_219"><th id="-e8i94l_222"><p><span class="control" id="-e8i94l_224">Name</span></p></th><th id="-e8i94l_223"><p><span class="control" id="-e8i94l_225">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_220"><td id="-e8i94l_226"><p><code class="code" id="-e8i94l_228">testRuns</code></p></td><td id="-e8i94l_227"><p>Configuration of test execution.</p></td></tr><tr id="-e8i94l_221"><td id="-e8i94l_229"><p><code class="code" id="-e8i94l_231">runTask</code></p></td><td id="-e8i94l_230"><p>Configuration of project running.</p></td></tr></tbody></table></div><div class="code-block" data-lang="kotlin">
kotlin {
    js().nodejs {
        runTask { /* ... */ }
        testRuns { /* ... */ }
    }
}
</div></section></section><section class="chapter"><h3 id="native-targets" data-toc="native-targets">Native targets</h3><p id="-e8i94l_232">For native targets, the following specific blocks are available:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_233"><thead><tr class="ijRowHead" id="-e8i94l_236"><th id="-e8i94l_239"><p><span class="control" id="-e8i94l_241">Name</span></p></th><th id="-e8i94l_240"><p><span class="control" id="-e8i94l_242">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_237"><td id="-e8i94l_243"><p><code class="code" id="-e8i94l_245">binaries</code></p></td><td id="-e8i94l_244"><p>Configuration of <a href="#binaries" id="-e8i94l_246" data-tooltip="There are the following kinds of binaries:">binaries</a> to produce.</p></td></tr><tr id="-e8i94l_238"><td id="-e8i94l_247"><p><code class="code" id="-e8i94l_249">cinterops</code></p></td><td id="-e8i94l_248"><p>Configuration of <a href="#cinterops" id="-e8i94l_250" data-tooltip="cinterops is a collection of descriptions for interop with native libraries. To provide an interop with a library, add an entry to cinterops and define its parameters:">interop with C libraries</a>.</p></td></tr></tbody></table></div><section class="chapter"><h4 id="binaries" data-toc="binaries">Binaries</h4><p id="-e8i94l_251">There are the following kinds of binaries:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_252"><thead><tr class="ijRowHead" id="-e8i94l_258"><th id="-e8i94l_264"><p><span class="control" id="-e8i94l_266">Name</span></p></th><th id="-e8i94l_265"><p><span class="control" id="-e8i94l_267">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_259"><td id="-e8i94l_268"><p><code class="code" id="-e8i94l_270">executable</code></p></td><td id="-e8i94l_269"><p>Product executable.</p></td></tr><tr id="-e8i94l_260"><td id="-e8i94l_271"><p><code class="code" id="-e8i94l_273">test</code></p></td><td id="-e8i94l_272"><p>Test executable.</p></td></tr><tr id="-e8i94l_261"><td id="-e8i94l_274"><p><code class="code" id="-e8i94l_276">sharedLib</code></p></td><td id="-e8i94l_275"><p>Shared library.</p></td></tr><tr id="-e8i94l_262"><td id="-e8i94l_277"><p><code class="code" id="-e8i94l_279">staticLib</code></p></td><td id="-e8i94l_278"><p>Static library.</p></td></tr><tr id="-e8i94l_263"><td id="-e8i94l_280"><p><code class="code" id="-e8i94l_282">framework</code></p></td><td id="-e8i94l_281"><p>Objective-C framework.</p></td></tr></tbody></table></div><div class="code-block" data-lang="kotlin">
kotlin {
    linuxX64 { // Use your target instead.
        binaries {
            executable {
                // Binary configuration.
            }
        }
    }
}
</div><p id="-e8i94l_254">For binary configuration, the following parameters are available:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_255"><thead><tr class="ijRowHead" id="-e8i94l_283"><th id="-e8i94l_292"><p><span class="control" id="-e8i94l_294">Name</span></p></th><th id="-e8i94l_293"><p><span class="control" id="-e8i94l_295">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_284"><td id="-e8i94l_296"><p><code class="code" id="-e8i94l_298">compilation</code></p></td><td id="-e8i94l_297"><p>The compilation from which the binary is built. By default, <code class="code" id="-e8i94l_299">test</code> binaries are based on the <code class="code" id="-e8i94l_300">test</code> compilation while other binaries - on the <code class="code" id="-e8i94l_301">main</code> compilation.</p></td></tr><tr id="-e8i94l_285"><td id="-e8i94l_302"><p><code class="code" id="-e8i94l_304">linkerOpts</code></p></td><td id="-e8i94l_303"><p>Options passed to a system linker during binary building.</p></td></tr><tr id="-e8i94l_286"><td id="-e8i94l_305"><p><code class="code" id="-e8i94l_307">baseName</code></p></td><td id="-e8i94l_306"><p>Custom base name for the output file. The final file name will be formed by adding system-dependent prefix and postfix to this base name.</p></td></tr><tr id="-e8i94l_287"><td id="-e8i94l_308"><p><code class="code" id="-e8i94l_310">entryPoint</code></p></td><td id="-e8i94l_309"><p>The entry point function for executable binaries. By default, it's <code class="code" id="-e8i94l_311">main()</code> in the root package.</p></td></tr><tr id="-e8i94l_288"><td id="-e8i94l_312"><p><code class="code" id="-e8i94l_314">outputFile</code></p></td><td id="-e8i94l_313"><p>Access to the output file.</p></td></tr><tr id="-e8i94l_289"><td id="-e8i94l_315"><p><code class="code" id="-e8i94l_317">linkTask</code></p></td><td id="-e8i94l_316"><p>Access to the link task.</p></td></tr><tr id="-e8i94l_290"><td id="-e8i94l_318"><p><code class="code" id="-e8i94l_320">runTask</code></p></td><td id="-e8i94l_319"><p>Access to the run task for executable binaries. For targets other than <code class="code" id="-e8i94l_321">linuxX64</code>, <code class="code" id="-e8i94l_322">macosX64</code>, or <code class="code" id="-e8i94l_323">mingwX64</code> the value is <code class="code" id="-e8i94l_324">null</code>.</p></td></tr><tr id="-e8i94l_291"><td id="-e8i94l_325"><p><code class="code" id="-e8i94l_327">isStatic</code></p></td><td id="-e8i94l_326"><p>For Objective-C frameworks. Includes a static library instead of a dynamic one.</p></td></tr></tbody></table></div><div class="tabs" id="-e8i94l_256" data-group="build-script" data-anchors="[-e8i94l_328,-e8i94l_329]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_328" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
binaries {
    executable(&quot;my_executable&quot;, listOf(RELEASE)) {
        // Build a binary on the basis of the test compilation.
        compilation = compilations[&quot;test&quot;]

        // Custom command line options for the linker.
        linkerOpts = mutableListOf(&quot;-L/lib/search/path&quot;, &quot;-L/another/search/path&quot;, &quot;-lmylib&quot;)

        // Base name for the output file.
        baseName = &quot;foo&quot;

        // Custom entry point function.
        entryPoint = &quot;org.example.main&quot;

        // Accessing the output file.
        println(&quot;Executable path: ${outputFile.absolutePath}&quot;)

        // Accessing the link task.
        linkTask.dependsOn(additionalPreprocessingTask)

        // Accessing the run task.
        // Note that the runTask is null for non-host platforms.
        runTask?.dependsOn(prepareForRun)
    }

    framework(&quot;my_framework&quot; listOf(RELEASE)) {
        // Include a static library instead of a dynamic one into the framework.
        isStatic = true
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_329" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
binaries {
    executable('my_executable', [RELEASE]) {
        // Build a binary on the basis of the test compilation.
        compilation = compilations.test

        // Custom command line options for the linker.
        linkerOpts = ['-L/lib/search/path', '-L/another/search/path', '-lmylib']

        // Base name for the output file.
        baseName = 'foo'

        // Custom entry point function.
        entryPoint = 'org.example.main'

        // Accessing the output file.
        println(&quot;Executable path: ${outputFile.absolutePath}&quot;)

        // Accessing the link task.
        linkTask.dependsOn(additionalPreprocessingTask)

        // Accessing the run task.
        // Note that the runTask is null for non-host platforms.
        runTask?.dependsOn(prepareForRun)
    }

    framework('my_framework' [RELEASE]) {
        // Include a static library instead of a dynamic one into the framework.
        isStatic = true
    }
}
</div></div></div><p id="-e8i94l_257">Learn more about <a href="multiplatform-build-native-binaries.html" id="-e8i94l_332" data-tooltip="By default, a Kotlin/Native target is compiled down to a *.klib library artifact, which can be consumed by Kotlin/Native itself as a dependency but cannot be executed or used as a native library.">building native binaries</a>.</p></section><section class="chapter"><h4 id="cinterops" data-toc="cinterops">CInterops</h4><p id="-e8i94l_333"><code class="code" id="-e8i94l_337">cinterops</code> is a collection of descriptions for interop with native libraries. To provide an interop with a library, add an entry to <code class="code" id="-e8i94l_338">cinterops</code> and define its parameters:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_334"><thead><tr class="ijRowHead" id="-e8i94l_339"><th id="-e8i94l_346"><p><span class="control" id="-e8i94l_348">Name</span></p></th><th id="-e8i94l_347"><p><span class="control" id="-e8i94l_349">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_340"><td id="-e8i94l_350"><p><code class="code" id="-e8i94l_352">definitionFile</code></p></td><td id="-e8i94l_351"><p>The <code class="code" id="-e8i94l_353">.def</code> file describing the native API.</p></td></tr><tr id="-e8i94l_341"><td id="-e8i94l_354"><p><code class="code" id="-e8i94l_356">packageName</code></p></td><td id="-e8i94l_355"><p>Package prefix for the generated Kotlin API.</p></td></tr><tr id="-e8i94l_342"><td id="-e8i94l_357"><p><code class="code" id="-e8i94l_359">compilerOpts</code></p></td><td id="-e8i94l_358"><p>Options to pass to the compiler by the cinterop tool.</p></td></tr><tr id="-e8i94l_343"><td id="-e8i94l_360"><p><code class="code" id="-e8i94l_362">includeDirs</code></p></td><td id="-e8i94l_361"><p>Directories to look for headers.</p></td></tr><tr id="-e8i94l_344"><td id="-e8i94l_363"><p><code class="code" id="-e8i94l_365">header</code></p></td><td id="-e8i94l_364"><p>Header to be included in the bindings.</p></td></tr><tr id="-e8i94l_345"><td id="-e8i94l_366"><p><code class="code" id="-e8i94l_368">headers</code></p></td><td id="-e8i94l_367"><p>The list of headers to be included in the bindings.</p></td></tr></tbody></table></div><div class="tabs" id="-e8i94l_335" data-group="build-script" data-anchors="[-e8i94l_369,-e8i94l_370]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_369" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    linuxX64 { // Replace with a target you need.
        compilations.getByName(&quot;main&quot;) {
            val myInterop by cinterops.creating {
                // Def-file describing the native API.
                // The default path is src/nativeInterop/cinterop/&lt;interop-name&gt;.def
                definitionFile.set(project.file(&quot;def-file.def&quot;))

                // Package to place the Kotlin API generated.
                packageName(&quot;org.sample&quot;)

                // Options to be passed to compiler by cinterop tool.
                compilerOpts(&quot;-Ipath/to/headers&quot;)

                // Directories for header search (an analogue of the -I&lt;path&gt; compiler option).
                includeDirs.allHeaders(&quot;path1&quot;, &quot;path2&quot;)

                // A shortcut for includeDirs.allHeaders.
                includeDirs(&quot;include/directory&quot;, &quot;another/directory&quot;)

                // Header files to be included in the bindings.
                header(&quot;path/to/header.h&quot;)
                headers(&quot;path/to/header1.h&quot;, &quot;path/to/header2.h&quot;)
            }

            val anotherInterop by cinterops.creating { /* ... */ }
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_370" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    linuxX64 { // Replace with a target you need.
        compilations.main {
            cinterops {
                myInterop {
                    // Def-file describing the native API.
                    // The default path is src/nativeInterop/cinterop/&lt;interop-name&gt;.def
                    definitionFile = project.file(&quot;def-file.def&quot;)

                    // Package to place the Kotlin API generated.
                    packageName 'org.sample'

                    // Options to be passed to compiler by cinterop tool.
                    compilerOpts '-Ipath/to/headers'

                    // Directories for header search (an analogue of the -I&lt;path&gt; compiler option).
                    includeDirs.allHeaders(&quot;path1&quot;, &quot;path2&quot;)

                    // A shortcut for includeDirs.allHeaders.
                    includeDirs(&quot;include/directory&quot;, &quot;another/directory&quot;)

                    // Header files to be included in the bindings.
                    header(&quot;path/to/header.h&quot;)
                    headers(&quot;path/to/header1.h&quot;, &quot;path/to/header2.h&quot;)
                }

                anotherInterop { /* ... */ }
            }
        }
    }
}
</div></div></div><p id="-e8i94l_336">For more cinterop properties, see <a href="native-definition-file.html#properties" id="-e8i94l_373" data-tooltip="Here's the full list of properties you can use in your definition file to adjust the content of the generated binaries. For more information, see the corresponding sections below.">Definition file</a>.</p></section></section><section class="chapter"><h3 id="android-targets" data-toc="android-targets">Android targets</h3><p id="-e8i94l_374">The Kotlin Multiplatform plugin contains two specific functions for android targets. Two functions help you configure <a href="https://developer.android.com/studio/build/build-variants" id="-e8i94l_379" data-external="true" rel="noopener noreferrer" target="_blank">build variants</a>:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_375"><thead><tr class="ijRowHead" id="-e8i94l_380"><th id="-e8i94l_383"><p><span class="control" id="-e8i94l_385">Name</span></p></th><th id="-e8i94l_384"><p><span class="control" id="-e8i94l_386">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_381"><td id="-e8i94l_387"><p><code class="code" id="-e8i94l_389">publishLibraryVariants()</code></p></td><td id="-e8i94l_388"><p>Specifies build variants to publish. Learn more about <a href="multiplatform-publish-lib.html#publish-an-android-library" id="-e8i94l_390" data-tooltip="To publish an Android library, you need to provide additional configuration.">publishing Android libraries</a>.</p></td></tr><tr id="-e8i94l_382"><td id="-e8i94l_391"><p><code class="code" id="-e8i94l_393">publishAllLibraryVariants()</code></p></td><td id="-e8i94l_392"><p>Publishes all build variants.</p></td></tr></tbody></table></div><div class="code-block" data-lang="kotlin">
kotlin {
    androidTarget {
        publishLibraryVariants(&quot;release&quot;)
    }
}
</div><p id="-e8i94l_377">Learn more about <a href="multiplatform-configure-compilations.html#compilation-for-android" id="-e8i94l_394" data-tooltip="The compilations created for an Android target by default are tied to Android build variants: for each build variant, a Kotlin compilation is created under the same name.">compilation for Android</a>.</p><aside class="prompt" data-type="note" data-title="" id="-e8i94l_378"><p id="-e8i94l_395">The <code class="code" id="-e8i94l_396">androidTarget</code> configuration inside the <code class="code" id="-e8i94l_397">kotlin {}</code> block doesn't replace the build configuration of any Android project. Learn more about writing build scripts for Android projects in <a href="https://developer.android.com/studio/build" id="-e8i94l_398" data-external="true" rel="noopener noreferrer" target="_blank">Android developer documentation</a>.</p></aside></section></section><section class="chapter"><h2 id="source-sets" data-toc="source-sets">Source sets</h2><p id="-e8i94l_399">The <code class="code" id="-e8i94l_404">sourceSets {}</code> block describes source sets of the project. A source set contains Kotlin source files that participate in compilations together, along with their resources, dependencies, and language settings.</p><p id="-e8i94l_400">A multiplatform project contains <a href="#predefined-source-sets" id="-e8i94l_405" data-tooltip="Predefined source sets are set up automatically upon creation of a multiplatform project. Available predefined source sets are the following:">predefined</a> source sets for its targets; developers can also create <a href="#custom-source-sets" id="-e8i94l_406" data-tooltip="Custom source sets are created by the project developers manually. To create a custom source set, add a section with its name inside the sourceSets section. If using Kotlin Gradle DSL, mark custom source sets by creating.">custom</a> source sets for their needs.</p><section class="chapter"><h3 id="predefined-source-sets" data-toc="predefined-source-sets">Predefined source sets</h3><p id="-e8i94l_407">Predefined source sets are set up automatically upon creation of a multiplatform project. Available predefined source sets are the following:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_408"><thead><tr class="ijRowHead" id="-e8i94l_412"><th id="-e8i94l_416"><p><span class="control" id="-e8i94l_418">Name</span></p></th><th id="-e8i94l_417"><p><span class="control" id="-e8i94l_419">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_413"><td id="-e8i94l_420"><p><code class="code" id="-e8i94l_422">commonMain</code></p></td><td id="-e8i94l_421"><p>Code and resources shared between all platforms. Available in all multiplatform projects. Used in all main <a href="#compilations" id="-e8i94l_423" data-tooltip="A target can have one or more compilations, for example, for production or testing. There are predefined compilations that are added automatically upon target creation. You can additionally create custom compilations.">compilations</a> of a project.</p></td></tr><tr id="-e8i94l_414"><td id="-e8i94l_424"><p><code class="code" id="-e8i94l_426">commonTest</code></p></td><td id="-e8i94l_425"><p>Test code and resources shared between all platforms. Available in all multiplatform projects. Used in all test compilations of a project.</p></td></tr><tr id="-e8i94l_415"><td id="-e8i94l_427"><p><span class="emphasis" id="-e8i94l_429">&lt;targetName&gt;&lt;compilationName&gt;</span></p></td><td id="-e8i94l_428"><p>Target-specific sources for a compilation. <span class="emphasis" id="-e8i94l_430">&lt;targetName&gt;</span> is the name of a predefined target and <span class="emphasis" id="-e8i94l_431">&lt;compilationName&gt;</span> is the name of a compilation for this target. Examples: <code class="code" id="-e8i94l_432">jsTest</code>, <code class="code" id="-e8i94l_433">jvmMain</code>.</p></td></tr></tbody></table></div><p id="-e8i94l_409">With Kotlin Gradle DSL, the sections of predefined source sets should be marked <code class="code" id="-e8i94l_434">by getting</code>.</p><div class="tabs" id="-e8i94l_410" data-group="build-script" data-anchors="[-e8i94l_435,-e8i94l_436]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_435" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    sourceSets {
        val commonMain by getting { /* ... */ }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_436" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin { 
    sourceSets { 
        commonMain { /* ... */ } 
    }
}
</div></div></div><p id="-e8i94l_411">Learn more about <a href="multiplatform-discover-project.html#source-sets" id="-e8i94l_439" data-tooltip="A Kotlin source set is a set of source files with its own targets, dependencies, and compiler options. It's the main way to share code in multiplatform projects.">source sets</a>.</p></section><section class="chapter"><h3 id="custom-source-sets" data-toc="custom-source-sets">Custom source sets</h3><p id="-e8i94l_440">Custom source sets are created by the project developers manually. To create a custom source set, add a section with its name inside the <code class="code" id="-e8i94l_443">sourceSets</code> section. If using Kotlin Gradle DSL, mark custom source sets <code class="code" id="-e8i94l_444">by creating</code>.</p><div class="tabs" id="-e8i94l_441" data-group="build-script" data-anchors="[-e8i94l_445,-e8i94l_446]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_445" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin { 
    sourceSets { 
        val myMain by creating { /* ... */ } // create a new source set by the name 'MyMain'
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_446" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin { 
    sourceSets { 
        myMain { /* ... */ } // create or configure a source set by the name 'myMain' 
    }
}
</div></div></div><p id="-e8i94l_442">Note that a newly created source set isn't connected to other ones. To use it in the project's compilations, <a href="multiplatform-hierarchy.html#manual-configuration" id="-e8i94l_449" data-tooltip="You can manually introduce an intermediate source in the source set structure. It will hold the shared code for several targets.">connect it with other source sets</a>.</p></section><section class="chapter"><h3 id="source-set-parameters" data-toc="source-set-parameters">Source set parameters</h3><p id="-e8i94l_450">Configurations of source sets are stored inside the corresponding blocks of <code class="code" id="-e8i94l_453">sourceSets {}</code>. A source set has the following parameters:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_451"><thead><tr class="ijRowHead" id="-e8i94l_454"><th id="-e8i94l_460"><p><span class="control" id="-e8i94l_462">Name</span></p></th><th id="-e8i94l_461"><p><span class="control" id="-e8i94l_463">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_455"><td id="-e8i94l_464"><p><code class="code" id="-e8i94l_466">kotlin.srcDir</code></p></td><td id="-e8i94l_465"><p>Location of Kotlin source files inside the source set directory.</p></td></tr><tr id="-e8i94l_456"><td id="-e8i94l_467"><p><code class="code" id="-e8i94l_469">resources.srcDir</code></p></td><td id="-e8i94l_468"><p>Location of resources inside the source set directory.</p></td></tr><tr id="-e8i94l_457"><td id="-e8i94l_470"><p><code class="code" id="-e8i94l_472">dependsOn</code></p></td><td id="-e8i94l_471"><p><a href="multiplatform-hierarchy.html#manual-configuration" id="-e8i94l_473" data-tooltip="You can manually introduce an intermediate source in the source set structure. It will hold the shared code for several targets.">Connection with another source set</a>.</p></td></tr><tr id="-e8i94l_458"><td id="-e8i94l_474"><p><code class="code" id="-e8i94l_476">dependencies</code></p></td><td id="-e8i94l_475"><p><a href="#dependencies" id="-e8i94l_477" data-tooltip="The dependencies {} block of the source set declaration contains the dependencies of this source set.">Dependencies</a> of the source set.</p></td></tr><tr id="-e8i94l_459"><td id="-e8i94l_478"><p><code class="code" id="-e8i94l_480">languageSettings</code></p></td><td id="-e8i94l_479"><p><a href="#language-settings" id="-e8i94l_481" data-tooltip="The languageSettings {} block of a source set defines certain aspects of project analysis and build. The following language settings are available:">Language settings</a> applied to the source set.</p></td></tr></tbody></table></div><div class="tabs" id="-e8i94l_452" data-group="build-script" data-anchors="[-e8i94l_482,-e8i94l_483]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_482" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin { 
    sourceSets { 
        val commonMain by getting {
            kotlin.srcDir(&quot;src&quot;)
            resources.srcDir(&quot;res&quot;)

            dependencies {
                /* ... */
            }
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_483" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin { 
    sourceSets { 
        commonMain {
            kotlin.srcDir('src')
            resources.srcDir('res')

            dependencies {
                /* ... */
            }
        }
    }
}
</div></div></div></section></section><section class="chapter"><h2 id="compilations" data-toc="compilations">Compilations</h2><p id="-e8i94l_486">A target can have one or more compilations, for example, for production or testing. There are <a href="#predefined-compilations" id="-e8i94l_492" data-tooltip="Predefined compilations are created automatically for each target of a project except for Android targets. Available predefined compilations are the following:">predefined compilations</a> that are added automatically upon target creation. You can additionally create <a href="#custom-compilations" id="-e8i94l_493" data-tooltip="In addition to predefined compilations, you can create your own custom compilations. To create a custom compilation, add a new item into the compilations collection. If using Kotlin Gradle DSL, mark custom compilations by creating.">custom compilations</a>.</p><p id="-e8i94l_487">To refer to all or some particular compilations of a target, use the <code class="code" id="-e8i94l_494">compilations</code> object collection. From <code class="code" id="-e8i94l_495">compilations</code>, you can refer to a compilation by its name.</p><p id="-e8i94l_488">Learn more about <a href="multiplatform-configure-compilations.html" id="-e8i94l_496" data-tooltip="Kotlin multiplatform projects use compilations for producing artifacts. Each target can have one or more compilations, for example, for production and test purposes.">configuring compilations</a>.</p><section class="chapter"><h3 id="predefined-compilations" data-toc="predefined-compilations">Predefined compilations</h3><p id="-e8i94l_497">Predefined compilations are created automatically for each target of a project except for Android targets. Available predefined compilations are the following:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_498"><thead><tr class="ijRowHead" id="-e8i94l_500"><th id="-e8i94l_503"><p><span class="control" id="-e8i94l_505">Name</span></p></th><th id="-e8i94l_504"><p><span class="control" id="-e8i94l_506">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_501"><td id="-e8i94l_507"><p><code class="code" id="-e8i94l_509">main</code></p></td><td id="-e8i94l_508"><p>Compilation for production sources.</p></td></tr><tr id="-e8i94l_502"><td id="-e8i94l_510"><p><code class="code" id="-e8i94l_512">test</code></p></td><td id="-e8i94l_511"><p>Compilation for tests.</p></td></tr></tbody></table></div><div class="tabs" id="-e8i94l_499" data-group="build-script" data-anchors="[-e8i94l_513,-e8i94l_514]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_513" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    jvm {
        val main by compilations.getting {
            output // get the main compilation output
        }

        compilations[&quot;test&quot;].runtimeDependencyFiles // get the test runtime classpath
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_514" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    jvm {
        compilations.main.output // get the main compilation output
        compilations.test.runtimeDependencyFiles // get the test runtime classpath
    }
}
</div></div></div></section><section class="chapter"><h3 id="custom-compilations" data-toc="custom-compilations">Custom compilations</h3><p id="-e8i94l_517">In addition to predefined compilations, you can create your own custom compilations. To create a custom compilation, add a new item into the <code class="code" id="-e8i94l_520">compilations</code> collection. If using Kotlin Gradle DSL, mark custom compilations <code class="code" id="-e8i94l_521">by creating</code>.</p><p id="-e8i94l_518">Learn more about creating a <a href="multiplatform-configure-compilations.html#create-a-custom-compilation" id="-e8i94l_522" data-tooltip="If you need to compile something other than production code and unit tests, for example, integration or performance tests, create a custom compilation.">custom compilation</a>.</p><div class="tabs" id="-e8i94l_519" data-group="build-script" data-anchors="[-e8i94l_523,-e8i94l_524]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_523" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    jvm() {
        compilations {
            val integrationTest by compilations.creating {
                defaultSourceSet {
                    dependencies {
                        /* ... */
                    }
                }

                // Create a test task to run the tests produced by this compilation:
                tasks.register&lt;Test&gt;(&quot;integrationTest&quot;) {
                    /* ... */
                }
            }
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_524" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    jvm() {
        compilations.create('integrationTest') {
            defaultSourceSet {
                dependencies {
                    /* ... */
                }
            }

            // Create a test task to run the tests produced by this compilation:
            tasks.register('jvmIntegrationTest', Test) {
                /* ... */
            }
        }
    }
}
</div></div></div></section><section class="chapter"><h3 id="compilation-parameters" data-toc="compilation-parameters">Compilation parameters</h3><p id="-e8i94l_527">A compilation has the following parameters:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_528"><thead><tr class="ijRowHead" id="-e8i94l_530"><th id="-e8i94l_541"><p><span class="control" id="-e8i94l_543">Name</span></p></th><th id="-e8i94l_542"><p><span class="control" id="-e8i94l_544">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_531"><td id="-e8i94l_545"><p><code class="code" id="-e8i94l_547">defaultSourceSet</code></p></td><td id="-e8i94l_546"><p>The compilation's default source set.</p></td></tr><tr id="-e8i94l_532"><td id="-e8i94l_548"><p><code class="code" id="-e8i94l_550">kotlinSourceSets</code></p></td><td id="-e8i94l_549"><p>Source sets participating in the compilation.</p></td></tr><tr id="-e8i94l_533"><td id="-e8i94l_551"><p><code class="code" id="-e8i94l_553">allKotlinSourceSets</code></p></td><td id="-e8i94l_552"><p>Source sets participating in the compilation and their connections via <code class="code" id="-e8i94l_554">dependsOn()</code>.</p></td></tr><tr id="-e8i94l_534"><td id="-e8i94l_555"><p><code class="code" id="-e8i94l_557">compilerOptions</code></p></td><td id="-e8i94l_556"><p>Compiler options applied to the compilation. For the list of available options, see <a href="gradle-compiler-options.html" id="-e8i94l_558" data-tooltip="Each release of Kotlin includes compilers for the supported targets: JVM, JavaScript, and native binaries for supported platforms.">Compiler options</a>.</p></td></tr><tr id="-e8i94l_535"><td id="-e8i94l_559"><p><code class="code" id="-e8i94l_561">compileKotlinTask</code></p></td><td id="-e8i94l_560"><p>Gradle task for compiling Kotlin sources.</p></td></tr><tr id="-e8i94l_536"><td id="-e8i94l_562"><p><code class="code" id="-e8i94l_564">compileKotlinTaskName</code></p></td><td id="-e8i94l_563"><p>Name of <code class="code" id="-e8i94l_565">compileKotlinTask</code>.</p></td></tr><tr id="-e8i94l_537"><td id="-e8i94l_566"><p><code class="code" id="-e8i94l_568">compileAllTaskName</code></p></td><td id="-e8i94l_567"><p>Name of the Gradle task for compiling all sources of a compilation.</p></td></tr><tr id="-e8i94l_538"><td id="-e8i94l_569"><p><code class="code" id="-e8i94l_571">output</code></p></td><td id="-e8i94l_570"><p>The compilation output.</p></td></tr><tr id="-e8i94l_539"><td id="-e8i94l_572"><p><code class="code" id="-e8i94l_574">compileDependencyFiles</code></p></td><td id="-e8i94l_573"><p>Compile-time dependency files (classpath) of the compilation. For all Kotlin/Native compilations, this automatically includes standard library and platform dependencies.</p></td></tr><tr id="-e8i94l_540"><td id="-e8i94l_575"><p><code class="code" id="-e8i94l_577">runtimeDependencyFiles</code></p></td><td id="-e8i94l_576"><p>Runtime dependency files (classpath) of the compilation.</p></td></tr></tbody></table></div><div class="tabs" id="-e8i94l_529" data-group="build-script" data-anchors="[-e8i94l_578,-e8i94l_579]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_578" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    jvm {
        val main by compilations.getting {
            compileTaskProvider.configure {
                compilerOptions {
                    // Set up the Kotlin compiler options for the 'main' compilation:
                    jvmTarget.set(JvmTarget.JVM_1_8)
                }
            }
        
            compileKotlinTask // get the Kotlin task 'compileKotlinJvm' 
            output // get the main compilation output
        }
        
        compilations[&quot;test&quot;].runtimeDependencyFiles // get the test runtime classpath
    }

    // Configure all compilations of all targets:
    compilerOptions {
        allWarningsAsErrors.set(true)
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_579" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    jvm {
        compilations.main {
            compileTaskProvider.configure {
                compilerOptions {
                    // Setup the Kotlin compiler options for the 'main' compilation:
                    jvmTarget = JvmTarget.JVM_1_8
                }
            }
        }

        compilations.main.compileKotlinTask // get the Kotlin task 'compileKotlinJvm' 
        compilations.main.output // get the main compilation output
        compilations.test.runtimeDependencyFiles // get the test runtime classpath
    }

    // Configure all compilations of all targets:
    compilerOptions {
        allWarningsAsErrors = true
    }
}
</div></div></div></section></section><section class="chapter"><h2 id="compiler-options" data-toc="compiler-options">Compiler options</h2><p id="-e8i94l_582">You can configure compiler options in your projects at three different levels:</p><ul class="list _bullet" id="-e8i94l_583"><li class="list__item" id="-e8i94l_593"><p id="-e8i94l_596"><span class="control" id="-e8i94l_597">Extension level</span>, in the <code class="code" id="-e8i94l_598">kotlin {}</code> block.</p></li><li class="list__item" id="-e8i94l_594"><p id="-e8i94l_599"><span class="control" id="-e8i94l_600">Target level</span>, in a target block.</p></li><li class="list__item" id="-e8i94l_595"><p id="-e8i94l_601"><span class="control" id="-e8i94l_602">Compilation unit level</span>, usually in a specific compilation task.</p></li></ul><figure id="-e8i94l_584"><img alt="Kotlin compiler options levels" src="images/compiler-options-levels.svg" title="Kotlin compiler options levels" width="700" height="440"></figure><p id="-e8i94l_585">Settings at a higher level work as defaults for the level below:</p><ul class="list _bullet" id="-e8i94l_586"><li class="list__item" id="-e8i94l_603"><p id="-e8i94l_605">Compiler options set at the extension level are the default for target-level options, including shared source sets like <code class="code" id="-e8i94l_606">commonMain</code>, <code class="code" id="-e8i94l_607">nativeMain</code>, and <code class="code" id="-e8i94l_608">commonTest</code>.</p></li><li class="list__item" id="-e8i94l_604"><p id="-e8i94l_609">Compiler options set at the target level are the default for options at the compilation unit (task) level, like <code class="code" id="-e8i94l_610">compileKotlinJvm</code> and <code class="code" id="-e8i94l_611">compileTestKotlinJvm</code> tasks.</p></li></ul><p id="-e8i94l_587">Configurations made at a lower level override similar settings at higher levels:</p><ul class="list _bullet" id="-e8i94l_588"><li class="list__item" id="-e8i94l_612"><p id="-e8i94l_614">Task-level compiler options override similar settings at the target or extension level.</p></li><li class="list__item" id="-e8i94l_613"><p id="-e8i94l_615">Target-level compiler options override similar settings at the extension level.</p></li></ul><p id="-e8i94l_589">For the list of possible compiler options, see <a href="gradle-compiler-options.html#all-compiler-options" id="-e8i94l_616" data-tooltip="Here is a complete list of options for the Gradle compiler:">All compiler options</a>.</p><section class="chapter"><h3 id="extension-level" data-toc="extension-level">Extension level</h3><p id="-e8i94l_617">To configure compiler options for all targets in your project, use the <code class="code" id="-e8i94l_619">compilerOptions {}</code> block at the top level:</p><div class="tabs" id="-e8i94l_618" data-group="build-script" data-anchors="[-e8i94l_620,-e8i94l_621]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_620" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    // Configures all compilations of all targets
    compilerOptions {
        allWarningsAsErrors.set(true)
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_621" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    // Configures all compilations of all targets:
    compilerOptions {
        allWarningsAsErrors = true
    }
}
</div></div></div></section><section class="chapter"><h3 id="target-level" data-toc="target-level">Target level</h3><p id="-e8i94l_624">To configure compiler options for a specific target in your project, use the <code class="code" id="-e8i94l_626">compilerOptions {}</code> block inside the target block:</p><div class="tabs" id="-e8i94l_625" data-group="build-script" data-anchors="[-e8i94l_627,-e8i94l_628]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_627" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    jvm {
        // Configures all compilations of the JVM target
        compilerOptions {
            allWarningsAsErrors.set(true)
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_628" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    jvm {
        // Configures all compilations of the JVM target
        compilerOptions {
            allWarningsAsErrors = true
        }
    }
}
</div></div></div></section><section class="chapter"><h3 id="compilation-unit-level" data-toc="compilation-unit-level">Compilation unit level</h3><p id="-e8i94l_631">To configure compiler options for a specific task, use the <code class="code" id="-e8i94l_635">compilerOptions {}</code> block inside the task:</p><div class="tabs" id="-e8i94l_632" data-group="build-script" data-anchors="[-e8i94l_636,-e8i94l_637]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_636" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
task.named&lt;KotlinJvmCompile&gt;(&quot;compileKotlinJvm&quot;) {
    compilerOptions {
        allWarningsAsErrors.set(true)
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_637" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
task.named&lt;KotlinJvmCompile&gt;(&quot;compileKotlinJvm&quot;) {
    compilerOptions {
        allWarningsAsErrors = true
    }
}
</div></div></div><p id="-e8i94l_633">To configure compiler options for a specific compilation, use the <code class="code" id="-e8i94l_640">compilerOptions {}</code> block within the compilation's task provider:</p><div class="tabs" id="-e8i94l_634" data-group="build-script" data-anchors="[-e8i94l_641,-e8i94l_642]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_641" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    jvm {
        compilations.named(KotlinCompilation.MAIN_COMPILATION_NAME) {
            compileTaskProvider.configure {
                // Configures the 'main' compilation:
                compilerOptions {
                    allWarningsAsErrors.set(true)
                }
            }
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_642" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    jvm {
        compilations.named(KotlinCompilation.MAIN_COMPILATION_NAME) {
            compileTaskProvider.configure {
                // Configures the 'main' compilation:
                compilerOptions {
                    allWarningsAsErrors = true
                }
            }
        }
    }
}
</div></div></div></section></section><section class="chapter"><h2 id="dependencies" data-toc="dependencies">Dependencies</h2><p id="-e8i94l_645">The <code class="code" id="-e8i94l_653">dependencies {}</code> block of the source set declaration contains the dependencies of this source set.</p><p id="-e8i94l_646">Learn more about <a href="gradle-configure-project.html" id="-e8i94l_654" data-tooltip="To build a Kotlin project with Gradle, you need to add the Kotlin Gradle plugin to your build script file build.gradle(.kts) and configure the project's dependencies there.">configuring dependencies</a>.</p><p id="-e8i94l_647">There are four types of dependencies:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_648"><thead><tr class="ijRowHead" id="-e8i94l_655"><th id="-e8i94l_660"><p><span class="control" id="-e8i94l_662">Name</span></p></th><th id="-e8i94l_661"><p><span class="control" id="-e8i94l_663">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_656"><td id="-e8i94l_664"><p><code class="code" id="-e8i94l_666">api</code></p></td><td id="-e8i94l_665"><p>Dependencies used in the API of the current module.</p></td></tr><tr id="-e8i94l_657"><td id="-e8i94l_667"><p><code class="code" id="-e8i94l_669">implementation</code></p></td><td id="-e8i94l_668"><p>Dependencies used in the module but not exposed outside it.</p></td></tr><tr id="-e8i94l_658"><td id="-e8i94l_670"><p><code class="code" id="-e8i94l_672">compileOnly</code></p></td><td id="-e8i94l_671"><p>Dependencies used only for compilation of the current module.</p></td></tr><tr id="-e8i94l_659"><td id="-e8i94l_673"><p><code class="code" id="-e8i94l_675">runtimeOnly</code></p></td><td id="-e8i94l_674"><p>Dependencies available at runtime but not visible during compilation of any module.</p></td></tr></tbody></table></div><div class="tabs" id="-e8i94l_649" data-group="build-script" data-anchors="[-e8i94l_676,-e8i94l_677]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_676" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    sourceSets {
        val commonMain by getting {
            dependencies {
                api(&quot;com.example:foo-metadata:1.0&quot;)
            }
        }
        val jvmMain by getting {
            dependencies {
                implementation(&quot;com.example:foo-jvm:1.0&quot;)
            }
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_677" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    sourceSets {
        commonMain {
            dependencies {
                api 'com.example:foo-metadata:1.0'
            }
        }
        jvmMain {
            dependencies {
                implementation 'com.example:foo-jvm:1.0'
            }
        }
    }
}
</div></div></div><p id="-e8i94l_650">Additionally, source sets can depend on each other and form a hierarchy. In this case, the <a href="#source-set-parameters" id="-e8i94l_680" data-tooltip="Configurations of source sets are stored inside the corresponding blocks of sourceSets {}. A source set has the following parameters:"><code class="code" id="-e8i94l_681">dependsOn()</code></a> relation is used.</p><p id="-e8i94l_651">Source set dependencies can also be declared in the top-level <code class="code" id="-e8i94l_682">dependencies {}</code> block of the build script. In this case, their declarations follow the pattern <code class="code" id="-e8i94l_683">&lt;sourceSetName&gt;&lt;DependencyKind&gt;</code>, for example, <code class="code" id="-e8i94l_684">commonMainApi</code>.</p><div class="tabs" id="-e8i94l_652" data-group="build-script" data-anchors="[-e8i94l_685,-e8i94l_686]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_685" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
dependencies {
    &quot;commonMainApi&quot;(&quot;com.example:foo-common:1.0&quot;)
    &quot;jvm6MainApi&quot;(&quot;com.example:foo-jvm6:1.0&quot;)
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_686" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
dependencies {
    commonMainApi 'com.example:foo-common:1.0'
    jvm6MainApi 'com.example:foo-jvm6:1.0'
}
</div></div></div></section><section class="chapter"><h2 id="language-settings" data-toc="language-settings">Language settings</h2><p id="-e8i94l_689">The <code class="code" id="-e8i94l_692">languageSettings {}</code> block of a source set defines certain aspects of project analysis and build. The following language settings are available:</p><div class="table-wrapper"><table class="wide" id="-e8i94l_690"><thead><tr class="ijRowHead" id="-e8i94l_693"><th id="-e8i94l_699"><p><span class="control" id="-e8i94l_701">Name</span></p></th><th id="-e8i94l_700"><p><span class="control" id="-e8i94l_702">Description</span></p></th></tr></thead><tbody><tr id="-e8i94l_694"><td id="-e8i94l_703"><p><code class="code" id="-e8i94l_705">languageVersion</code></p></td><td id="-e8i94l_704"><p>Provides source compatibility with the specified version of Kotlin.</p></td></tr><tr id="-e8i94l_695"><td id="-e8i94l_706"><p><code class="code" id="-e8i94l_708">apiVersion</code></p></td><td id="-e8i94l_707"><p>Allows using declarations only from the specified version of Kotlin bundled libraries.</p></td></tr><tr id="-e8i94l_696"><td id="-e8i94l_709"><p><code class="code" id="-e8i94l_711">enableLanguageFeature</code></p></td><td id="-e8i94l_710"><p>Enables the specified language feature. The available values correspond to the language features that are currently experimental or have been introduced as such at some point.</p></td></tr><tr id="-e8i94l_697"><td id="-e8i94l_712"><p><code class="code" id="-e8i94l_714">optIn</code></p></td><td id="-e8i94l_713"><p>Allows using the specified <a href="opt-in-requirements.html" id="-e8i94l_715" data-tooltip="The Kotlin standard library provides a mechanism for requiring and giving explicit consent to use certain API elements. This mechanism allows library authors to inform users about specific conditions that require opt-in, such as when an API is in an experimental state and is likely…">opt-in annotation</a>.</p></td></tr><tr id="-e8i94l_698"><td id="-e8i94l_716"><p><code class="code" id="-e8i94l_718">progressiveMode</code></p></td><td id="-e8i94l_717"><p>Enables the <a href="whatsnew13.html#progressive-mode" id="-e8i94l_719" data-tooltip="Kotlin cares a lot about stability and backward compatibility of code: Kotlin compatibility policy says that breaking changes (e.g., a change which makes the code that used to compile fine, not compile anymore) can be introduced only in the major releases (1.2, 1.3, etc.).">progressive mode</a>.</p></td></tr></tbody></table></div><div class="tabs" id="-e8i94l_691" data-group="build-script" data-anchors="[-e8i94l_720,-e8i94l_721]"><div class="tabs__content" data-gtm="tab" id="-e8i94l_720" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    sourceSets.all {
        languageSettings.apply {
            languageVersion = &quot;2.1&quot; // possible values: '1.8', '1.9', `2.0`, `2.1`
            apiVersion = &quot;2.1&quot; // possible values: '1.8', '1.9', `2.0`, `2.1`
            enableLanguageFeature(&quot;InlineClasses&quot;) // language feature name
            optIn(&quot;kotlin.ExperimentalUnsignedTypes&quot;) // annotation FQ-name
            progressiveMode = true // false by default
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="-e8i94l_721" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    sourceSets.all {
        languageSettings {
            languageVersion = '2.1' // possible values: '1.8', '1.9', `2.0`, `2.1`
            apiVersion = '2.1' // possible values: '1.8', '1.9', `2.0`, `2.1`
            enableLanguageFeature('InlineClasses') // language feature name
            optIn('kotlin.ExperimentalUnsignedTypes') // annotation FQ-name
            progressiveMode = true // false by default
        }
    }
}
</div></div></div></section><div class="last-modified">21 April 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="multiplatform-publish-lib.html" class="navigation-links__prev">Setting up multiplatform library publication</a><a href="multiplatform-android-layout.html" class="navigation-links__next">Android source set layout</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>