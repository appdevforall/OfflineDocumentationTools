<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-04-23T12:59:59.92716446"><title>Compatibility guide for Kotlin 2.0 | Kotlin</title><script type="application/json" id="virtual-toc-data">[{"id":"basic-terms","level":0,"title":"Basic terms","anchor":"#basic-terms"},{"id":"language","level":0,"title":"Language","anchor":"#language"},{"id":"deprecate-use-of-a-synthetic-setter-on-a-projected-receiver","level":1,"title":"Deprecate use of a synthetic setter on a projected receiver","anchor":"#deprecate-use-of-a-synthetic-setter-on-a-projected-receiver"},{"id":"correct-mangling-when-calling-functions-with-inline-class-parameters-that-are-overloaded-in-a-java-subclass","level":1,"title":"Correct mangling when calling functions with inline class parameters that are overloaded in a Java subclass","anchor":"#correct-mangling-when-calling-functions-with-inline-class-parameters-that-are-overloaded-in-a-java-subclass"},{"id":"correct-type-approximation-algorithm-for-contravariant-captured-types","level":1,"title":"Correct type approximation algorithm for contravariant captured types","anchor":"#correct-type-approximation-algorithm-for-contravariant-captured-types"},{"id":"prohibit-accessing-property-value-before-property-initialization","level":1,"title":"Prohibit accessing property value before property initialization","anchor":"#prohibit-accessing-property-value-before-property-initialization"},{"id":"report-error-when-there-s-ambiguity-in-imported-classes-with-the-same-name","level":1,"title":"Report error when there\u0027s ambiguity in imported classes with the same name","anchor":"#report-error-when-there-s-ambiguity-in-imported-classes-with-the-same-name"},{"id":"generate-kotlin-lambdas-via-invokedynamic-and-lambdametafactory-by-default","level":1,"title":"Generate Kotlin lambdas via invokedynamic and LambdaMetafactory by default","anchor":"#generate-kotlin-lambdas-via-invokedynamic-and-lambdametafactory-by-default"},{"id":"forbid-if-condition-with-one-branch-when-an-expression-is-required","level":1,"title":"Forbid if condition with one branch when an expression is required","anchor":"#forbid-if-condition-with-one-branch-when-an-expression-is-required"},{"id":"prohibit-violation-of-self-upper-bounds-by-passing-a-star-projection-of-a-generic-type","level":1,"title":"Prohibit violation of self upper bounds by passing a star-projection of a generic type","anchor":"#prohibit-violation-of-self-upper-bounds-by-passing-a-star-projection-of-a-generic-type"},{"id":"approximate-anonymous-types-in-private-inline-functions-return-type","level":1,"title":"Approximate anonymous types in private inline functions return type","anchor":"#approximate-anonymous-types-in-private-inline-functions-return-type"},{"id":"change-overload-resolution-behavior-to-prioritize-local-extension-function-calls-over-invoke-conventions-of-local-functional-type-properties","level":1,"title":"Change overload resolution behavior to prioritize local extension function calls over invoke conventions of local functional type properties","anchor":"#change-overload-resolution-behavior-to-prioritize-local-extension-function-calls-over-invoke-conventions-of-local-functional-type-properties"},{"id":"report-error-when-an-inherited-member-conflict-occurs-due-to-a-change-in-a-supertype-from-binary-dependency","level":1,"title":"Report error when an inherited member conflict occurs due to a change in a supertype from binary dependency","anchor":"#report-error-when-an-inherited-member-conflict-occurs-due-to-a-change-in-a-supertype-from-binary-dependency"},{"id":"ignore-unsafevariance-annotations-on-parameters-in-invariant-types","level":1,"title":"Ignore @UnsafeVariance annotations on parameters in invariant types","anchor":"#ignore-unsafevariance-annotations-on-parameters-in-invariant-types"},{"id":"change-type-for-out-of-call-references-to-a-companion-object-s-member","level":1,"title":"Change type for out-of-call references to a companion object\u0027s member","anchor":"#change-type-for-out-of-call-references-to-a-companion-object-s-member"},{"id":"prohibit-exposure-of-anonymous-types-from-private-inline-functions","level":1,"title":"Prohibit exposure of anonymous types from private inline functions","anchor":"#prohibit-exposure-of-anonymous-types-from-private-inline-functions"},{"id":"report-error-for-an-unsound-smart-cast-after-a-while-loop-break","level":1,"title":"Report error for an unsound smart cast after a while-loop break","anchor":"#report-error-for-an-unsound-smart-cast-after-a-while-loop-break"},{"id":"report-error-when-a-variable-of-an-intersection-type-is-assigned-a-value-that-is-not-a-subtype-of-that-intersection-type","level":1,"title":"Report error when a variable of an intersection type is assigned a value that is not a subtype of that intersection type","anchor":"#report-error-when-a-variable-of-an-intersection-type-is-assigned-a-value-that-is-not-a-subtype-of-that-intersection-type"},{"id":"require-opt-in-when-an-interface-constructed-with-a-sam-constructor-contains-a-method-that-requires-an-opt-in","level":1,"title":"Require opt-in when an interface constructed with a SAM constructor contains a method that requires an opt-in","anchor":"#require-opt-in-when-an-interface-constructed-with-a-sam-constructor-contains-a-method-that-requires-an-opt-in"},{"id":"prohibit-upper-bound-violation-in-typealias-constructors","level":1,"title":"Prohibit upper bound violation in typealias constructors","anchor":"#prohibit-upper-bound-violation-in-typealias-constructors"},{"id":"make-the-real-type-of-a-destructuring-variable-consistent-with-the-explicit-type-when-specified","level":1,"title":"Make the real type of a destructuring variable consistent with the explicit type when specified","anchor":"#make-the-real-type-of-a-destructuring-variable-consistent-with-the-explicit-type-when-specified"},{"id":"require-opt-in-when-calling-a-constructor-that-has-parameter-types-with-default-values-that-require-an-opt-in","level":1,"title":"Require opt-in when calling a constructor that has parameter types with default values that require an opt-in","anchor":"#require-opt-in-when-calling-a-constructor-that-has-parameter-types-with-default-values-that-require-an-opt-in"},{"id":"report-ambiguity-between-a-property-and-an-enum-entry-with-the-same-name-at-the-same-scope-level","level":1,"title":"Report ambiguity between a property and an enum entry with the same name at the same scope level","anchor":"#report-ambiguity-between-a-property-and-an-enum-entry-with-the-same-name-at-the-same-scope-level"},{"id":"change-qualifier-resolution-behavior-to-prefer-companion-property-over-enum-entry","level":1,"title":"Change qualifier resolution behavior to prefer companion property over enum entry","anchor":"#change-qualifier-resolution-behavior-to-prefer-companion-property-over-enum-entry"},{"id":"resolve-invoke-call-receiver-type-and-the-invoke-function-type-as-if-written-in-desugared-form","level":1,"title":"Resolve invoke call receiver type and the invoke function type as if written in desugared form","anchor":"#resolve-invoke-call-receiver-type-and-the-invoke-function-type-as-if-written-in-desugared-form"},{"id":"prohibit-exposing-private-class-members-through-non-private-inline-functions","level":1,"title":"Prohibit exposing private class members through non-private inline functions","anchor":"#prohibit-exposing-private-class-members-through-non-private-inline-functions"},{"id":"correct-nullability-of-definitely-non-null-types-in-projected-generic-types","level":1,"title":"Correct nullability of definitely non-null types in projected generic types","anchor":"#correct-nullability-of-definitely-non-null-types-in-projected-generic-types"},{"id":"change-inferred-type-of-prefix-increment-to-match-getter-s-return-type-instead-of-inc-operator-s-return-type","level":1,"title":"Change inferred type of prefix increment to match getter\u0027s return type instead of inc() operator\u0027s return type","anchor":"#change-inferred-type-of-prefix-increment-to-match-getter-s-return-type-instead-of-inc-operator-s-return-type"},{"id":"enforce-bound-checks-when-inheriting-inner-classes-from-generic-inner-classes-declared-in-superclasses","level":1,"title":"Enforce bound checks when inheriting inner classes from generic inner classes declared in superclasses","anchor":"#enforce-bound-checks-when-inheriting-inner-classes-from-generic-inner-classes-declared-in-superclasses"},{"id":"forbid-assigning-callable-references-with-sam-types-when-the-expected-type-is-a-function-type-with-a-function-type-parameter","level":1,"title":"Forbid assigning callable references with SAM types when the expected type is a function type with a function type parameter","anchor":"#forbid-assigning-callable-references-with-sam-types-when-the-expected-type-is-a-function-type-with-a-function-type-parameter"},{"id":"consider-companion-object-scope-for-annotation-resolution-on-companion-objects","level":1,"title":"Consider companion object scope for annotation resolution on companion objects","anchor":"#consider-companion-object-scope-for-annotation-resolution-on-companion-objects"},{"id":"change-evaluation-semantics-for-combination-of-safe-calls-and-convention-operators","level":1,"title":"Change evaluation semantics for combination of safe calls and convention operators","anchor":"#change-evaluation-semantics-for-combination-of-safe-calls-and-convention-operators"},{"id":"require-properties-with-backing-field-and-a-custom-setter-to-be-immediately-initialized","level":1,"title":"Require properties with backing field and a custom setter to be immediately initialized","anchor":"#require-properties-with-backing-field-and-a-custom-setter-to-be-immediately-initialized"},{"id":"prohibit-unit-conversion-on-arbitrary-expressions-in-invoke-operator-convention-call","level":1,"title":"Prohibit Unit conversion on arbitrary expressions in invoke operator convention call","anchor":"#prohibit-unit-conversion-on-arbitrary-expressions-in-invoke-operator-convention-call"},{"id":"forbid-nullable-assignment-to-non-null-java-field-when-the-field-is-accessed-with-a-safe-call","level":1,"title":"Forbid nullable assignment to non-null Java field when the field is accessed with a safe call","anchor":"#forbid-nullable-assignment-to-non-null-java-field-when-the-field-is-accessed-with-a-safe-call"},{"id":"require-star-projected-type-when-overriding-a-java-method-containing-a-raw-type-parameter","level":1,"title":"Require star-projected type when overriding a Java method containing a raw-type parameter","anchor":"#require-star-projected-type-when-overriding-a-java-method-containing-a-raw-type-parameter"},{"id":"change-v-foo-reference-resolution-when-v-has-a-companion","level":1,"title":"Change (V)::foo reference resolution when V has a companion","anchor":"#change-v-foo-reference-resolution-when-v-has-a-companion"},{"id":"forbid-implicit-non-public-api-access-in-effectively-public-inline-functions","level":1,"title":"Forbid implicit non-public API access in effectively public inline functions","anchor":"#forbid-implicit-non-public-api-access-in-effectively-public-inline-functions"},{"id":"prohibit-use-site-get-annotations-on-property-getters","level":1,"title":"Prohibit use-site get annotations on property getters","anchor":"#prohibit-use-site-get-annotations-on-property-getters"},{"id":"prevent-implicit-inference-of-type-parameters-into-upper-bounds-in-builder-inference-lambda-functions","level":1,"title":"Prevent implicit inference of type parameters into upper bounds in builder inference lambda functions","anchor":"#prevent-implicit-inference-of-type-parameters-into-upper-bounds-in-builder-inference-lambda-functions"},{"id":"keep-nullability-when-approximating-local-types-in-public-signatures","level":1,"title":"Keep nullability when approximating local types in public signatures","anchor":"#keep-nullability-when-approximating-local-types-in-public-signatures"},{"id":"remove-special-handling-for-false-and-false-for-the-purposes-of-smart-casting","level":1,"title":"Remove special handling for false \u0026\u0026 ... and false || ... for the purposes of smart-casting","anchor":"#remove-special-handling-for-false-and-false-for-the-purposes-of-smart-casting"},{"id":"forbid-inline-open-functions-in-enums","level":1,"title":"Forbid inline open functions in enums","anchor":"#forbid-inline-open-functions-in-enums"},{"id":"tools","level":0,"title":"Tools","anchor":"#tools"},{"id":"visibility-changes-in-gradle","level":1,"title":"Visibility changes in Gradle","anchor":"#visibility-changes-in-gradle"},{"id":"deprecate-kotlinoptions-dsl","level":1,"title":"Deprecate kotlinOptions DSL","anchor":"#deprecate-kotlinoptions-dsl"},{"id":"deprecate-compileroptions-in-kotlincompilation-dsl","level":1,"title":"Deprecate compilerOptions in KotlinCompilation DSL","anchor":"#deprecate-compileroptions-in-kotlincompilation-dsl"},{"id":"deprecate-old-ways-of-cinteropprocess-handling","level":1,"title":"Deprecate old ways of CInteropProcess handling","anchor":"#deprecate-old-ways-of-cinteropprocess-handling"},{"id":"remove-kotlin-usek2-gradle-property","level":1,"title":"Remove kotlin.useK2 Gradle property","anchor":"#remove-kotlin-usek2-gradle-property"},{"id":"remove-deprecated-platform-plugin-ids","level":1,"title":"Remove deprecated platform plugin IDs","anchor":"#remove-deprecated-platform-plugin-ids"},{"id":"remove-outputfile-javascript-compiler-option","level":1,"title":"Remove outputFile JavaScript compiler option","anchor":"#remove-outputfile-javascript-compiler-option"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="frontend/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="icon" type="image/png" sizes="32x32" href="writerside_32.png"><link rel="icon" type="image/png" sizes="64x64" href="writerside_64.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Compatibility guide for Kotlin 2.0 | Kotlin"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Kotlin Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/compatibility-guide-20.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Compatibility guide for Kotlin 2.0 | Kotlin"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/compatibility-guide-20.html#webpage",
    "url": "writerside-documentation/compatibility-guide-20.html",
    "name": "Compatibility guide for Kotlin 2.0 | Kotlin",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Kotlin Help"
}</script><!-- End Schema.org --></head><body data-id="compatibility-guide-20" data-main-title="Compatibility guide for Kotlin 2.0" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Other resources///Kotlin compatibility guides"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="compatibility-guide-20" id="compatibility-guide-20.md">Compatibility guide for Kotlin 2.0</h1><p id="-56l1hj_2"><span class="emphasis" id="-56l1hj_8"><a href="kotlin-evolution-principles.html" id="-56l1hj_10" data-tooltip="Language design is cast in stone,">Keeping the Language Modern</a></span> and <span class="emphasis" id="-56l1hj_9"><a href="kotlin-evolution-principles.html" id="-56l1hj_11" data-tooltip="Language design is cast in stone,">Comfortable Updates</a></span> are among the fundamental principles in Kotlin Language Design. The former says that constructs which obstruct language evolution should be removed, and the latter says that this removal should be well-communicated beforehand to make code migration as smooth as possible.</p><p id="-56l1hj_3">While most of the language changes were already announced through other channels, like updated changelogs or compiler warnings, this document provides a complete reference for migration from Kotlin 1.9 to Kotlin 2.0.</p><aside class="prompt" data-type="note" data-title="" id="-56l1hj_4"><p id="-56l1hj_12">The Kotlin K2 compiler is introduced as part of Kotlin 2.0. For information on the benefits of the new compiler, changes you might encounter during migration, and how to roll back to the previous compiler, see <a href="k2-compiler-migration-guide.html" id="-56l1hj_13" data-tooltip="As the Kotlin language and ecosystem have continued to evolve, so has the Kotlin compiler. The first step was the introduction of the new JVM and JS IR (Intermediate Representation) backends that share logic, simplifying code generation for targets on different platforms. Now, the…">K2 compiler migration guide</a>.</p></aside><section class="chapter"><h2 id="basic-terms" data-toc="basic-terms">Basic terms</h2><p id="-56l1hj_14">In this document we introduce several kinds of compatibility:</p><ul class="list _bullet" id="-56l1hj_15"><li class="list__item" id="-56l1hj_17"><p id="-56l1hj_20"><span class="emphasis" id="-56l1hj_21">source</span>: source-incompatible change stops code that used to compile fine (without errors or warnings) from compiling anymore</p></li><li class="list__item" id="-56l1hj_18"><p id="-56l1hj_22"><span class="emphasis" id="-56l1hj_23">binary</span>: two binary artifacts are said to be binary-compatible if interchanging them doesn't lead to loading or linkage errors</p></li><li class="list__item" id="-56l1hj_19"><p id="-56l1hj_24"><span class="emphasis" id="-56l1hj_25">behavioral</span>: a change is said to be behavioral-incompatible if the same program demonstrates different behavior before and after applying the change</p></li></ul><p id="-56l1hj_16">Remember that those definitions are given only for pure Kotlin. Compatibility of Kotlin code from the other languages perspective (for example, from Java) is out of the scope of this document.</p></section><section class="chapter"><h2 id="language" data-toc="language">Language</h2><section class="chapter"><h3 id="deprecate-use-of-a-synthetic-setter-on-a-projected-receiver" data-toc="deprecate-use-of-a-synthetic-setter-on-a-projected-receiver">Deprecate use of a synthetic setter on a projected receiver</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_67"><p id="-56l1hj_68"><span class="control" id="-56l1hj_74">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-54309" id="-56l1hj_75" data-external="true" rel="noopener noreferrer" target="_blank">KT-54309</a></p><p id="-56l1hj_69"><span class="control" id="-56l1hj_76">Component</span>: Core language</p><p id="-56l1hj_70"><span class="control" id="-56l1hj_77">Incompatible change type</span>: source</p><p id="-56l1hj_71"><span class="control" id="-56l1hj_78">Short summary</span>: If you use the synthetic setter of a Java class to assign a type that conflicts with the class's projected type, an error is triggered.</p><p id="-56l1hj_72"><span class="control" id="-56l1hj_79">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_73"><li class="list__item" id="-56l1hj_80"><p id="-56l1hj_82">1.8.20: report a warning when a synthetic property setter has a projected parameter type in contravariant position making call-site argument types incompatible</p></li><li class="list__item" id="-56l1hj_81"><p id="-56l1hj_83">2.0.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="correct-mangling-when-calling-functions-with-inline-class-parameters-that-are-overloaded-in-a-java-subclass" data-toc="correct-mangling-when-calling-functions-with-inline-class-parameters-that-are-overloaded-in-a-java-subclass">Correct mangling when calling functions with inline class parameters that are overloaded in a Java subclass</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_84"><p id="-56l1hj_85"><span class="control" id="-56l1hj_90">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-56545" id="-56l1hj_91" data-external="true" rel="noopener noreferrer" target="_blank">KT-56545</a></p><p id="-56l1hj_86"><span class="control" id="-56l1hj_92">Component</span>: Core language</p><p id="-56l1hj_87"><span class="control" id="-56l1hj_93">Incompatible change type</span>: behavioral</p><p id="-56l1hj_88"><span class="control" id="-56l1hj_94">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_89"><li class="list__item" id="-56l1hj_95"><p id="-56l1hj_96">2.0.0: use the correct mangling behavior in function invocations; to revert to the previous behaviour, use the <code class="code" id="-56l1hj_97">-XXLanguage:-MangleCallsToJavaMethodsWithValueClasses</code> compiler option.</p></li></ul></aside></section><section class="chapter"><h3 id="correct-type-approximation-algorithm-for-contravariant-captured-types" data-toc="correct-type-approximation-algorithm-for-contravariant-captured-types">Correct type approximation algorithm for contravariant captured types</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_98"><p id="-56l1hj_99"><span class="control" id="-56l1hj_104">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-49404" id="-56l1hj_105" data-external="true" rel="noopener noreferrer" target="_blank">KT-49404</a></p><p id="-56l1hj_100"><span class="control" id="-56l1hj_106">Component</span>: Core language</p><p id="-56l1hj_101"><span class="control" id="-56l1hj_107">Incompatible change type</span>: source</p><p id="-56l1hj_102"><span class="control" id="-56l1hj_108">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_103"><li class="list__item" id="-56l1hj_109"><p id="-56l1hj_111">1.8.20: report a warning on problematic calls</p></li><li class="list__item" id="-56l1hj_110"><p id="-56l1hj_112">2.0.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-accessing-property-value-before-property-initialization" data-toc="prohibit-accessing-property-value-before-property-initialization">Prohibit accessing property value before property initialization</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_113"><p id="-56l1hj_114"><span class="control" id="-56l1hj_119">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-56408" id="-56l1hj_120" data-external="true" rel="noopener noreferrer" target="_blank">KT-56408</a></p><p id="-56l1hj_115"><span class="control" id="-56l1hj_121">Component</span>: Core language</p><p id="-56l1hj_116"><span class="control" id="-56l1hj_122">Incompatible change type</span>: source</p><p id="-56l1hj_117"><span class="control" id="-56l1hj_123">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_118"><li class="list__item" id="-56l1hj_124"><p id="-56l1hj_125">2.0.0: report an error when a property is accessed before initialization in the affected contexts</p></li></ul></aside></section><section class="chapter"><h3 id="report-error-when-there-s-ambiguity-in-imported-classes-with-the-same-name" data-toc="report-error-when-there-s-ambiguity-in-imported-classes-with-the-same-name">Report error when there's ambiguity in imported classes with the same name</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_126"><p id="-56l1hj_127"><span class="control" id="-56l1hj_132">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-57750" id="-56l1hj_133" data-external="true" rel="noopener noreferrer" target="_blank">KT-57750</a></p><p id="-56l1hj_128"><span class="control" id="-56l1hj_134">Component</span>: Core language</p><p id="-56l1hj_129"><span class="control" id="-56l1hj_135">Incompatible change type</span>: source</p><p id="-56l1hj_130"><span class="control" id="-56l1hj_136">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_131"><li class="list__item" id="-56l1hj_137"><p id="-56l1hj_138">2.0.0: report an error when resolving a class name that is present in several packages imported with a star import</p></li></ul></aside></section><section class="chapter"><h3 id="generate-kotlin-lambdas-via-invokedynamic-and-lambdametafactory-by-default" data-toc="generate-kotlin-lambdas-via-invokedynamic-and-lambdametafactory-by-default">Generate Kotlin lambdas via invokedynamic and LambdaMetafactory by default</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_139"><p id="-56l1hj_140"><span class="control" id="-56l1hj_145">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-45375" id="-56l1hj_146" data-external="true" rel="noopener noreferrer" target="_blank">KT-45375</a></p><p id="-56l1hj_141"><span class="control" id="-56l1hj_147">Component</span>: Core language</p><p id="-56l1hj_142"><span class="control" id="-56l1hj_148">Incompatible change type</span>: behavioral</p><p id="-56l1hj_143"><span class="control" id="-56l1hj_149">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_144"><li class="list__item" id="-56l1hj_150"><p id="-56l1hj_151">2.0.0: implement new behavior; lambdas are generated using <code class="code" id="-56l1hj_152">invokedynamic</code> and <code class="code" id="-56l1hj_153">LambdaMetafactory</code> by default</p></li></ul></aside></section><section class="chapter"><h3 id="forbid-if-condition-with-one-branch-when-an-expression-is-required" data-toc="forbid-if-condition-with-one-branch-when-an-expression-is-required">Forbid if condition with one branch when an expression is required</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_154"><p id="-56l1hj_155"><span class="control" id="-56l1hj_160">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-57871" id="-56l1hj_161" data-external="true" rel="noopener noreferrer" target="_blank">KT-57871</a></p><p id="-56l1hj_156"><span class="control" id="-56l1hj_162">Component</span>: Core language</p><p id="-56l1hj_157"><span class="control" id="-56l1hj_163">Incompatible change type</span>: source</p><p id="-56l1hj_158"><span class="control" id="-56l1hj_164">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_159"><li class="list__item" id="-56l1hj_165"><p id="-56l1hj_166">2.0.0: report an error in case the <code class="code" id="-56l1hj_167">if</code> condition has only one branch</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-violation-of-self-upper-bounds-by-passing-a-star-projection-of-a-generic-type" data-toc="prohibit-violation-of-self-upper-bounds-by-passing-a-star-projection-of-a-generic-type">Prohibit violation of self upper bounds by passing a star-projection of a generic type</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_168"><p id="-56l1hj_169"><span class="control" id="-56l1hj_174">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-61718" id="-56l1hj_175" data-external="true" rel="noopener noreferrer" target="_blank">KT-61718</a></p><p id="-56l1hj_170"><span class="control" id="-56l1hj_176">Component</span>: Core language</p><p id="-56l1hj_171"><span class="control" id="-56l1hj_177">Incompatible change type</span>: source</p><p id="-56l1hj_172"><span class="control" id="-56l1hj_178">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_173"><li class="list__item" id="-56l1hj_179"><p id="-56l1hj_180">2.0.0: report an error when self upper bounds are violated by passing a star-projection of a generic type</p></li></ul></aside></section><section class="chapter"><h3 id="approximate-anonymous-types-in-private-inline-functions-return-type" data-toc="approximate-anonymous-types-in-private-inline-functions-return-type">Approximate anonymous types in private inline functions return type</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_181"><p id="-56l1hj_182"><span class="control" id="-56l1hj_187">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-54862" id="-56l1hj_188" data-external="true" rel="noopener noreferrer" target="_blank">KT-54862</a></p><p id="-56l1hj_183"><span class="control" id="-56l1hj_189">Component</span>: Core language</p><p id="-56l1hj_184"><span class="control" id="-56l1hj_190">Incompatible change type</span>: source</p><p id="-56l1hj_185"><span class="control" id="-56l1hj_191">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_186"><li class="list__item" id="-56l1hj_192"><p id="-56l1hj_194">1.9.0: report a warning on private inline functions if the inferred return type contains an anonymous type</p></li><li class="list__item" id="-56l1hj_193"><p id="-56l1hj_195">2.0.0: approximate return type of such private inline functions to a supertype</p></li></ul></aside></section><section class="chapter"><h3 id="change-overload-resolution-behavior-to-prioritize-local-extension-function-calls-over-invoke-conventions-of-local-functional-type-properties" data-toc="change-overload-resolution-behavior-to-prioritize-local-extension-function-calls-over-invoke-conventions-of-local-functional-type-properties">Change overload resolution behavior to prioritize local extension function calls over invoke conventions of local functional type properties</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_196"><p id="-56l1hj_197"><span class="control" id="-56l1hj_202">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-37592" id="-56l1hj_203" data-external="true" rel="noopener noreferrer" target="_blank">KT-37592</a></p><p id="-56l1hj_198"><span class="control" id="-56l1hj_204">Component</span>: Core language</p><p id="-56l1hj_199"><span class="control" id="-56l1hj_205">Incompatible change type</span>: behavioral</p><p id="-56l1hj_200"><span class="control" id="-56l1hj_206">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_201"><li class="list__item" id="-56l1hj_207"><p id="-56l1hj_208">2.0.0: new overload resolution behavior; function calls are consistently prioritized over invoke conventions</p></li></ul></aside></section><section class="chapter"><h3 id="report-error-when-an-inherited-member-conflict-occurs-due-to-a-change-in-a-supertype-from-binary-dependency" data-toc="report-error-when-an-inherited-member-conflict-occurs-due-to-a-change-in-a-supertype-from-binary-dependency">Report error when an inherited member conflict occurs due to a change in a supertype from binary dependency</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_209"><p id="-56l1hj_210"><span class="control" id="-56l1hj_215">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-51194" id="-56l1hj_216" data-external="true" rel="noopener noreferrer" target="_blank">KT-51194</a></p><p id="-56l1hj_211"><span class="control" id="-56l1hj_217">Component</span>: Core language</p><p id="-56l1hj_212"><span class="control" id="-56l1hj_218">Incompatible change type</span>: source</p><p id="-56l1hj_213"><span class="control" id="-56l1hj_219">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_214"><li class="list__item" id="-56l1hj_220"><p id="-56l1hj_222">1.7.0: report a warning CONFLICTING_INHERITED_MEMBERS_WARNING on declarations where inherited member conflict has occurred in the supertype from binary dependency</p></li><li class="list__item" id="-56l1hj_221"><p id="-56l1hj_223">2.0.0: raise the warning to an error: CONFLICTING_INHERITED_MEMBERS</p></li></ul></aside></section><section class="chapter"><h3 id="ignore-unsafevariance-annotations-on-parameters-in-invariant-types" data-toc="ignore-unsafevariance-annotations-on-parameters-in-invariant-types">Ignore @UnsafeVariance annotations on parameters in invariant types</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_224"><p id="-56l1hj_225"><span class="control" id="-56l1hj_230">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-57609" id="-56l1hj_231" data-external="true" rel="noopener noreferrer" target="_blank">KT-57609</a></p><p id="-56l1hj_226"><span class="control" id="-56l1hj_232">Component</span>: Core language</p><p id="-56l1hj_227"><span class="control" id="-56l1hj_233">Incompatible change type</span>: source</p><p id="-56l1hj_228"><span class="control" id="-56l1hj_234">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_229"><li class="list__item" id="-56l1hj_235"><p id="-56l1hj_236">2.0.0: implement new behavior; the <code class="code" id="-56l1hj_237">@UnsafeVariance</code> annotation is ignored when reporting errors about type mismatch in contravariant parameters</p></li></ul></aside></section><section class="chapter"><h3 id="change-type-for-out-of-call-references-to-a-companion-object-s-member" data-toc="change-type-for-out-of-call-references-to-a-companion-object-s-member">Change type for out-of-call references to a companion object's member</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_238"><p id="-56l1hj_239"><span class="control" id="-56l1hj_244">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-54316" id="-56l1hj_245" data-external="true" rel="noopener noreferrer" target="_blank">KT-54316</a></p><p id="-56l1hj_240"><span class="control" id="-56l1hj_246">Component</span>: Core language</p><p id="-56l1hj_241"><span class="control" id="-56l1hj_247">Incompatible change type</span>: source</p><p id="-56l1hj_242"><span class="control" id="-56l1hj_248">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_243"><li class="list__item" id="-56l1hj_249"><p id="-56l1hj_251">1.8.20: report a warning on a companion object function reference type inferred as an unbound reference</p></li><li class="list__item" id="-56l1hj_250"><p id="-56l1hj_252">2.0.0: change the behavior so that companion object function references are inferred as bound references in all usage contexts</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-exposure-of-anonymous-types-from-private-inline-functions" data-toc="prohibit-exposure-of-anonymous-types-from-private-inline-functions">Prohibit exposure of anonymous types from private inline functions</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_253"><p id="-56l1hj_254"><span class="control" id="-56l1hj_259">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-33917" id="-56l1hj_260" data-external="true" rel="noopener noreferrer" target="_blank">KT-33917</a></p><p id="-56l1hj_255"><span class="control" id="-56l1hj_261">Component</span>: Core language</p><p id="-56l1hj_256"><span class="control" id="-56l1hj_262">Incompatible change type</span>: source</p><p id="-56l1hj_257"><span class="control" id="-56l1hj_263">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_258"><li class="list__item" id="-56l1hj_264"><p id="-56l1hj_266">1.3.0: report a warning on calls to own members of anonymous objects, returned from private inline functions</p></li><li class="list__item" id="-56l1hj_265"><p id="-56l1hj_267">2.0.0: approximate return type of such private inline functions to a supertype and don't resolve calls to anonymous object members</p></li></ul></aside></section><section class="chapter"><h3 id="report-error-for-an-unsound-smart-cast-after-a-while-loop-break" data-toc="report-error-for-an-unsound-smart-cast-after-a-while-loop-break">Report error for an unsound smart cast after a while-loop break</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_268"><p id="-56l1hj_269"><span class="control" id="-56l1hj_274">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-22379" id="-56l1hj_275" data-external="true" rel="noopener noreferrer" target="_blank">KT-22379</a></p><p id="-56l1hj_270"><span class="control" id="-56l1hj_276">Component</span>: Core language</p><p id="-56l1hj_271"><span class="control" id="-56l1hj_277">Incompatible change type</span>: source</p><p id="-56l1hj_272"><span class="control" id="-56l1hj_278">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_273"><li class="list__item" id="-56l1hj_279"><p id="-56l1hj_280">2.0.0: implement new behavior; the old behavior can be restored by switching to language version 1.9</p></li></ul></aside></section><section class="chapter"><h3 id="report-error-when-a-variable-of-an-intersection-type-is-assigned-a-value-that-is-not-a-subtype-of-that-intersection-type" data-toc="report-error-when-a-variable-of-an-intersection-type-is-assigned-a-value-that-is-not-a-subtype-of-that-intersection-type">Report error when a variable of an intersection type is assigned a value that is not a subtype of that intersection type</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_281"><p id="-56l1hj_282"><span class="control" id="-56l1hj_287">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-53752" id="-56l1hj_288" data-external="true" rel="noopener noreferrer" target="_blank">KT-53752</a></p><p id="-56l1hj_283"><span class="control" id="-56l1hj_289">Component</span>: Core language</p><p id="-56l1hj_284"><span class="control" id="-56l1hj_290">Incompatible change type</span>: source</p><p id="-56l1hj_285"><span class="control" id="-56l1hj_291">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_286"><li class="list__item" id="-56l1hj_292"><p id="-56l1hj_293">2.0.0: report an error when a variable having an intersection type is assigned a value that is not a subtype of that intersection type</p></li></ul></aside></section><section class="chapter"><h3 id="require-opt-in-when-an-interface-constructed-with-a-sam-constructor-contains-a-method-that-requires-an-opt-in" data-toc="require-opt-in-when-an-interface-constructed-with-a-sam-constructor-contains-a-method-that-requires-an-opt-in">Require opt-in when an interface constructed with a SAM constructor contains a method that requires an opt-in</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_294"><p id="-56l1hj_295"><span class="control" id="-56l1hj_300">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-52628" id="-56l1hj_301" data-external="true" rel="noopener noreferrer" target="_blank">KT-52628</a></p><p id="-56l1hj_296"><span class="control" id="-56l1hj_302">Component</span>: Core language</p><p id="-56l1hj_297"><span class="control" id="-56l1hj_303">Incompatible change type</span>: source</p><p id="-56l1hj_298"><span class="control" id="-56l1hj_304">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_299"><li class="list__item" id="-56l1hj_305"><p id="-56l1hj_307">1.7.20: report a warning for <code class="code" id="-56l1hj_308">OptIn</code> usages via SAM constructor</p></li><li class="list__item" id="-56l1hj_306"><p id="-56l1hj_309">2.0.0: raise the warning to an error for <code class="code" id="-56l1hj_310">OptIn</code> usages via SAM constructor (or keep reporting the warning if <code class="code" id="-56l1hj_311">OptIn</code> marker severity is a warning)</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-upper-bound-violation-in-typealias-constructors" data-toc="prohibit-upper-bound-violation-in-typealias-constructors">Prohibit upper bound violation in typealias constructors</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_312"><p id="-56l1hj_313"><span class="control" id="-56l1hj_318">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-54066" id="-56l1hj_319" data-external="true" rel="noopener noreferrer" target="_blank">KT-54066</a></p><p id="-56l1hj_314"><span class="control" id="-56l1hj_320">Component</span>: Core language</p><p id="-56l1hj_315"><span class="control" id="-56l1hj_321">Incompatible change type</span>: source</p><p id="-56l1hj_316"><span class="control" id="-56l1hj_322">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_317"><li class="list__item" id="-56l1hj_323"><p id="-56l1hj_325">1.8.0: introduce a warning for cases when the upper bound is violated in typealias constructors</p></li><li class="list__item" id="-56l1hj_324"><p id="-56l1hj_326">2.0.0: raise the warning to an error in the K2 compiler</p></li></ul></aside></section><section class="chapter"><h3 id="make-the-real-type-of-a-destructuring-variable-consistent-with-the-explicit-type-when-specified" data-toc="make-the-real-type-of-a-destructuring-variable-consistent-with-the-explicit-type-when-specified">Make the real type of a destructuring variable consistent with the explicit type when specified</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_327"><p id="-56l1hj_328"><span class="control" id="-56l1hj_333">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-57011" id="-56l1hj_334" data-external="true" rel="noopener noreferrer" target="_blank">KT-57011</a></p><p id="-56l1hj_329"><span class="control" id="-56l1hj_335">Component</span>: Core language</p><p id="-56l1hj_330"><span class="control" id="-56l1hj_336">Incompatible change type</span>: source</p><p id="-56l1hj_331"><span class="control" id="-56l1hj_337">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_332"><li class="list__item" id="-56l1hj_338"><p id="-56l1hj_339">2.0.0: implement new behavior; the real type of destructuring variable is now consistent with the explicit type when specified</p></li></ul></aside></section><section class="chapter"><h3 id="require-opt-in-when-calling-a-constructor-that-has-parameter-types-with-default-values-that-require-an-opt-in" data-toc="require-opt-in-when-calling-a-constructor-that-has-parameter-types-with-default-values-that-require-an-opt-in">Require opt-in when calling a constructor that has parameter types with default values that require an opt-in</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_340"><p id="-56l1hj_341"><span class="control" id="-56l1hj_346">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-55111" id="-56l1hj_347" data-external="true" rel="noopener noreferrer" target="_blank">KT-55111</a></p><p id="-56l1hj_342"><span class="control" id="-56l1hj_348">Component</span>: Core language</p><p id="-56l1hj_343"><span class="control" id="-56l1hj_349">Incompatible change type</span>: source</p><p id="-56l1hj_344"><span class="control" id="-56l1hj_350">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_345"><li class="list__item" id="-56l1hj_351"><p id="-56l1hj_353">1.8.20: report a warning on constructor calls that has parameter types which require opt-in</p></li><li class="list__item" id="-56l1hj_352"><p id="-56l1hj_354">2.0.0: raise the warning to an error (or keep reporting a warning if the <code class="code" id="-56l1hj_355">OptIn</code> marker severity is a warning)</p></li></ul></aside></section><section class="chapter"><h3 id="report-ambiguity-between-a-property-and-an-enum-entry-with-the-same-name-at-the-same-scope-level" data-toc="report-ambiguity-between-a-property-and-an-enum-entry-with-the-same-name-at-the-same-scope-level">Report ambiguity between a property and an enum entry with the same name at the same scope level</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_356"><p id="-56l1hj_357"><span class="control" id="-56l1hj_362">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-52802" id="-56l1hj_363" data-external="true" rel="noopener noreferrer" target="_blank">KT-52802</a></p><p id="-56l1hj_358"><span class="control" id="-56l1hj_364">Component</span>: Core language</p><p id="-56l1hj_359"><span class="control" id="-56l1hj_365">Incompatible change type</span>: source</p><p id="-56l1hj_360"><span class="control" id="-56l1hj_366">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_361"><li class="list__item" id="-56l1hj_367"><p id="-56l1hj_369">1.7.20: report a warning when the compiler resolves to a property instead of an enum entry at the same scope level</p></li><li class="list__item" id="-56l1hj_368"><p id="-56l1hj_370">2.0.0: report ambiguity when the compiler encounters both a property and an enum entry with the same name at the same scope level in the K2 compiler (leaving the warning as is in the old compiler)</p></li></ul></aside></section><section class="chapter"><h3 id="change-qualifier-resolution-behavior-to-prefer-companion-property-over-enum-entry" data-toc="change-qualifier-resolution-behavior-to-prefer-companion-property-over-enum-entry">Change qualifier resolution behavior to prefer companion property over enum entry</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_371"><p id="-56l1hj_372"><span class="control" id="-56l1hj_377">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-47310" id="-56l1hj_378" data-external="true" rel="noopener noreferrer" target="_blank">KT-47310</a></p><p id="-56l1hj_373"><span class="control" id="-56l1hj_379">Component</span>: Core language</p><p id="-56l1hj_374"><span class="control" id="-56l1hj_380">Incompatible change type</span>: source</p><p id="-56l1hj_375"><span class="control" id="-56l1hj_381">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_376"><li class="list__item" id="-56l1hj_382"><p id="-56l1hj_383">2.0.0: implement new resolution behavior; companion property is preferred over enum entry</p></li></ul></aside></section><section class="chapter"><h3 id="resolve-invoke-call-receiver-type-and-the-invoke-function-type-as-if-written-in-desugared-form" data-toc="resolve-invoke-call-receiver-type-and-the-invoke-function-type-as-if-written-in-desugared-form">Resolve invoke call receiver type and the invoke function type as if written in desugared form</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_384"><p id="-56l1hj_385"><span class="control" id="-56l1hj_390">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-58260" id="-56l1hj_391" data-external="true" rel="noopener noreferrer" target="_blank">KT-58260</a></p><p id="-56l1hj_386"><span class="control" id="-56l1hj_392">Component</span>: Core language</p><p id="-56l1hj_387"><span class="control" id="-56l1hj_393">Incompatible change type</span>: source</p><p id="-56l1hj_388"><span class="control" id="-56l1hj_394">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_389"><li class="list__item" id="-56l1hj_395"><p id="-56l1hj_396">2.0.0: resolve invoke call receiver type and the invoke function type independently as if they were written in a desugared form</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-exposing-private-class-members-through-non-private-inline-functions" data-toc="prohibit-exposing-private-class-members-through-non-private-inline-functions">Prohibit exposing private class members through non-private inline functions</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_397"><p id="-56l1hj_398"><span class="control" id="-56l1hj_403">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-55179" id="-56l1hj_404" data-external="true" rel="noopener noreferrer" target="_blank">KT-55179</a></p><p id="-56l1hj_399"><span class="control" id="-56l1hj_405">Component</span>: Core language</p><p id="-56l1hj_400"><span class="control" id="-56l1hj_406">Incompatible change type</span>: source</p><p id="-56l1hj_401"><span class="control" id="-56l1hj_407">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_402"><li class="list__item" id="-56l1hj_408"><p id="-56l1hj_410">1.9.0: report the <code class="code" id="-56l1hj_411">PRIVATE_CLASS_MEMBER_FROM_INLINE_WARNING</code> warning when calling private class companion object member from internal inline functions</p></li><li class="list__item" id="-56l1hj_409"><p id="-56l1hj_412">2.0.0: raise this warning to the <code class="code" id="-56l1hj_413">PRIVATE_CLASS_MEMBER_FROM_INLINE</code> error</p></li></ul></aside></section><section class="chapter"><h3 id="correct-nullability-of-definitely-non-null-types-in-projected-generic-types" data-toc="correct-nullability-of-definitely-non-null-types-in-projected-generic-types">Correct nullability of definitely non-null types in projected generic types</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_414"><p id="-56l1hj_415"><span class="control" id="-56l1hj_420">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-54663" id="-56l1hj_421" data-external="true" rel="noopener noreferrer" target="_blank">KT-54663</a></p><p id="-56l1hj_416"><span class="control" id="-56l1hj_422">Component</span>: Core language</p><p id="-56l1hj_417"><span class="control" id="-56l1hj_423">Incompatible change type</span>: source</p><p id="-56l1hj_418"><span class="control" id="-56l1hj_424">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_419"><li class="list__item" id="-56l1hj_425"><p id="-56l1hj_426">2.0.0: implement new behavior; projected types take into account all in-place not-null types</p></li></ul></aside></section><section class="chapter"><h3 id="change-inferred-type-of-prefix-increment-to-match-getter-s-return-type-instead-of-inc-operator-s-return-type" data-toc="change-inferred-type-of-prefix-increment-to-match-getter-s-return-type-instead-of-inc-operator-s-return-type">Change inferred type of prefix increment to match getter's return type instead of inc() operator's return type</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_427"><p id="-56l1hj_428"><span class="control" id="-56l1hj_433">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-57178" id="-56l1hj_434" data-external="true" rel="noopener noreferrer" target="_blank">KT-57178</a></p><p id="-56l1hj_429"><span class="control" id="-56l1hj_435">Component</span>: Core language</p><p id="-56l1hj_430"><span class="control" id="-56l1hj_436">Incompatible change type</span>: source</p><p id="-56l1hj_431"><span class="control" id="-56l1hj_437">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_432"><li class="list__item" id="-56l1hj_438"><p id="-56l1hj_439">2.0.0: implement new behavior; inferred type of prefix increment is changed to match getter's return type instead of the <code class="code" id="-56l1hj_440">inc()</code> operator's return type</p></li></ul></aside></section><section class="chapter"><h3 id="enforce-bound-checks-when-inheriting-inner-classes-from-generic-inner-classes-declared-in-superclasses" data-toc="enforce-bound-checks-when-inheriting-inner-classes-from-generic-inner-classes-declared-in-superclasses">Enforce bound checks when inheriting inner classes from generic inner classes declared in superclasses</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_441"><p id="-56l1hj_442"><span class="control" id="-56l1hj_447">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-61749" id="-56l1hj_448" data-external="true" rel="noopener noreferrer" target="_blank">KT-61749</a></p><p id="-56l1hj_443"><span class="control" id="-56l1hj_449">Component</span>: Core language</p><p id="-56l1hj_444"><span class="control" id="-56l1hj_450">Incompatible change type</span>: source</p><p id="-56l1hj_445"><span class="control" id="-56l1hj_451">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_446"><li class="list__item" id="-56l1hj_452"><p id="-56l1hj_453">2.0.0: report an error when upper bound of the type parameter of a generic inner superclass is violated</p></li></ul></aside></section><section class="chapter"><h3 id="forbid-assigning-callable-references-with-sam-types-when-the-expected-type-is-a-function-type-with-a-function-type-parameter" data-toc="forbid-assigning-callable-references-with-sam-types-when-the-expected-type-is-a-function-type-with-a-function-type-parameter">Forbid assigning callable references with SAM types when the expected type is a function type with a function type parameter</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_454"><p id="-56l1hj_455"><span class="control" id="-56l1hj_460">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-64342" id="-56l1hj_461" data-external="true" rel="noopener noreferrer" target="_blank">KT-64342</a></p><p id="-56l1hj_456"><span class="control" id="-56l1hj_462">Component</span>: Core language</p><p id="-56l1hj_457"><span class="control" id="-56l1hj_463">Incompatible change type</span>: source</p><p id="-56l1hj_458"><span class="control" id="-56l1hj_464">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_459"><li class="list__item" id="-56l1hj_465"><p id="-56l1hj_466">2.0.0: report a compilation error on callable references with SAM types when the expected type is a function type with a function type parameter</p></li></ul></aside></section><section class="chapter"><h3 id="consider-companion-object-scope-for-annotation-resolution-on-companion-objects" data-toc="consider-companion-object-scope-for-annotation-resolution-on-companion-objects">Consider companion object scope for annotation resolution on companion objects</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_467"><p id="-56l1hj_468"><span class="control" id="-56l1hj_473">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-64299" id="-56l1hj_474" data-external="true" rel="noopener noreferrer" target="_blank">KT-64299</a></p><p id="-56l1hj_469"><span class="control" id="-56l1hj_475">Component</span>: Core language</p><p id="-56l1hj_470"><span class="control" id="-56l1hj_476">Incompatible change type</span>: behavioral</p><p id="-56l1hj_471"><span class="control" id="-56l1hj_477">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_472"><li class="list__item" id="-56l1hj_478"><p id="-56l1hj_479">2.0.0: implement new behavior; the companion object scope is now not ignored during annotation resolution on companion objects</p></li></ul></aside></section><section class="chapter"><h3 id="change-evaluation-semantics-for-combination-of-safe-calls-and-convention-operators" data-toc="change-evaluation-semantics-for-combination-of-safe-calls-and-convention-operators">Change evaluation semantics for combination of safe calls and convention operators</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_480"><p id="-56l1hj_481"><span class="control" id="-56l1hj_486">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-41034" id="-56l1hj_487" data-external="true" rel="noopener noreferrer" target="_blank">KT-41034</a></p><p id="-56l1hj_482"><span class="control" id="-56l1hj_488">Component</span>: Core language</p><p id="-56l1hj_483"><span class="control" id="-56l1hj_489">Incompatible change type</span>: behavioral</p><p id="-56l1hj_484"><span class="control" id="-56l1hj_490">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_485"><li class="list__item" id="-56l1hj_491"><p id="-56l1hj_493">1.4.0: report warnings on each incorrect call</p></li><li class="list__item" id="-56l1hj_492"><p id="-56l1hj_494">2.0.0: implement new resolution behavior</p></li></ul></aside></section><section class="chapter"><h3 id="require-properties-with-backing-field-and-a-custom-setter-to-be-immediately-initialized" data-toc="require-properties-with-backing-field-and-a-custom-setter-to-be-immediately-initialized">Require properties with backing field and a custom setter to be immediately initialized</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_495"><p id="-56l1hj_496"><span class="control" id="-56l1hj_501">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-58589" id="-56l1hj_502" data-external="true" rel="noopener noreferrer" target="_blank">KT-58589</a></p><p id="-56l1hj_497"><span class="control" id="-56l1hj_503">Component</span>: Core language</p><p id="-56l1hj_498"><span class="control" id="-56l1hj_504">Incompatible change type</span>: behavioral</p><p id="-56l1hj_499"><span class="control" id="-56l1hj_505">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_500"><li class="list__item" id="-56l1hj_506"><p id="-56l1hj_508">1.9.20: introduce the <code class="code" id="-56l1hj_509">MUST_BE_INITIALIZED</code> warning for cases where there is no primary constructor</p></li><li class="list__item" id="-56l1hj_507"><p id="-56l1hj_510">2.0.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-unit-conversion-on-arbitrary-expressions-in-invoke-operator-convention-call" data-toc="prohibit-unit-conversion-on-arbitrary-expressions-in-invoke-operator-convention-call">Prohibit Unit conversion on arbitrary expressions in invoke operator convention call</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_511"><p id="-56l1hj_512"><span class="control" id="-56l1hj_517">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-61182" id="-56l1hj_518" data-external="true" rel="noopener noreferrer" target="_blank">KT-61182</a></p><p id="-56l1hj_513"><span class="control" id="-56l1hj_519">Component</span>: Core language</p><p id="-56l1hj_514"><span class="control" id="-56l1hj_520">Incompatible change type</span>: behavioral</p><p id="-56l1hj_515"><span class="control" id="-56l1hj_521">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_516"><li class="list__item" id="-56l1hj_522"><p id="-56l1hj_523">2.0.0: report an error when Unit conversion is applied to an arbitrary expression on variable and invoke resolution; use the <code class="code" id="-56l1hj_524">-XXLanguage:+UnitConversionsOnArbitraryExpressions</code> compiler option to keep the previous behavior with affected expressions.</p></li></ul></aside></section><section class="chapter"><h3 id="forbid-nullable-assignment-to-non-null-java-field-when-the-field-is-accessed-with-a-safe-call" data-toc="forbid-nullable-assignment-to-non-null-java-field-when-the-field-is-accessed-with-a-safe-call">Forbid nullable assignment to non-null Java field when the field is accessed with a safe call</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_525"><p id="-56l1hj_526"><span class="control" id="-56l1hj_531">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-62998" id="-56l1hj_532" data-external="true" rel="noopener noreferrer" target="_blank">KT-62998</a></p><p id="-56l1hj_527"><span class="control" id="-56l1hj_533">Component</span>: Core language</p><p id="-56l1hj_528"><span class="control" id="-56l1hj_534">Incompatible change type</span>: source</p><p id="-56l1hj_529"><span class="control" id="-56l1hj_535">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_530"><li class="list__item" id="-56l1hj_536"><p id="-56l1hj_537">2.0.0: report to an error in case a nullable is assigned to a non-null Java field</p></li></ul></aside></section><section class="chapter"><h3 id="require-star-projected-type-when-overriding-a-java-method-containing-a-raw-type-parameter" data-toc="require-star-projected-type-when-overriding-a-java-method-containing-a-raw-type-parameter">Require star-projected type when overriding a Java method containing a raw-type parameter</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_538"><p id="-56l1hj_539"><span class="control" id="-56l1hj_544">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-57600" id="-56l1hj_545" data-external="true" rel="noopener noreferrer" target="_blank">KT-57600</a></p><p id="-56l1hj_540"><span class="control" id="-56l1hj_546">Component</span>: Core language</p><p id="-56l1hj_541"><span class="control" id="-56l1hj_547">Incompatible change type</span>: source</p><p id="-56l1hj_542"><span class="control" id="-56l1hj_548">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_543"><li class="list__item" id="-56l1hj_549"><p id="-56l1hj_550">2.0.0: implement new behavior; overriding is forbidden for raw type parameters</p></li></ul></aside></section><section class="chapter"><h3 id="change-v-foo-reference-resolution-when-v-has-a-companion" data-toc="change-v-foo-reference-resolution-when-v-has-a-companion">Change (V)::foo reference resolution when V has a companion</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_551"><p id="-56l1hj_552"><span class="control" id="-56l1hj_557">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-47313" id="-56l1hj_558" data-external="true" rel="noopener noreferrer" target="_blank">KT-47313</a></p><p id="-56l1hj_553"><span class="control" id="-56l1hj_559">Component</span>: Core language</p><p id="-56l1hj_554"><span class="control" id="-56l1hj_560">Incompatible change type</span>: behavioral</p><p id="-56l1hj_555"><span class="control" id="-56l1hj_561">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_556"><li class="list__item" id="-56l1hj_562"><p id="-56l1hj_564">1.6.0: report a warning on callable references currently bound to companion object instances</p></li><li class="list__item" id="-56l1hj_563"><p id="-56l1hj_565">2.0.0: implement new behavior; adding parentheses around a type no longer makes it a reference to the type's companion object instance</p></li></ul></aside></section><section class="chapter"><h3 id="forbid-implicit-non-public-api-access-in-effectively-public-inline-functions" data-toc="forbid-implicit-non-public-api-access-in-effectively-public-inline-functions">Forbid implicit non-public API access in effectively public inline functions</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_566"><p id="-56l1hj_567"><span class="control" id="-56l1hj_572">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-54997" id="-56l1hj_573" data-external="true" rel="noopener noreferrer" target="_blank">KT-54997</a></p><p id="-56l1hj_568"><span class="control" id="-56l1hj_574">Component</span>: Core language</p><p id="-56l1hj_569"><span class="control" id="-56l1hj_575">Incompatible change type</span>: source</p><p id="-56l1hj_570"><span class="control" id="-56l1hj_576">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_571"><li class="list__item" id="-56l1hj_577"><p id="-56l1hj_579">1.8.20: report a compilation warning when implicit non-public API is accessed in public inline functions</p></li><li class="list__item" id="-56l1hj_578"><p id="-56l1hj_580">2.0.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="prohibit-use-site-get-annotations-on-property-getters" data-toc="prohibit-use-site-get-annotations-on-property-getters">Prohibit use-site get annotations on property getters</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_581"><p id="-56l1hj_582"><span class="control" id="-56l1hj_587">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-57422" id="-56l1hj_588" data-external="true" rel="noopener noreferrer" target="_blank">KT-57422</a></p><p id="-56l1hj_583"><span class="control" id="-56l1hj_589">Component</span>: Core language</p><p id="-56l1hj_584"><span class="control" id="-56l1hj_590">Incompatible change type</span>: source</p><p id="-56l1hj_585"><span class="control" id="-56l1hj_591">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_586"><li class="list__item" id="-56l1hj_592"><p id="-56l1hj_594">1.9.0: report a warning (an error in the progressive mode) on use-site <code class="code" id="-56l1hj_595">get</code> annotations on getters</p></li><li class="list__item" id="-56l1hj_593"><p id="-56l1hj_596">2.0.0: raise the warning to the <code class="code" id="-56l1hj_597">INAPPLICABLE_TARGET_ON_PROPERTY</code> error; use <code class="code" id="-56l1hj_598">-XXLanguage:-ProhibitUseSiteGetTargetAnnotations</code> to revert to a warning</p></li></ul></aside></section><section class="chapter"><h3 id="prevent-implicit-inference-of-type-parameters-into-upper-bounds-in-builder-inference-lambda-functions" data-toc="prevent-implicit-inference-of-type-parameters-into-upper-bounds-in-builder-inference-lambda-functions">Prevent implicit inference of type parameters into upper bounds in builder inference lambda functions</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_599"><p id="-56l1hj_600"><span class="control" id="-56l1hj_605">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-47986" id="-56l1hj_606" data-external="true" rel="noopener noreferrer" target="_blank">KT-47986</a></p><p id="-56l1hj_601"><span class="control" id="-56l1hj_607">Component</span>: Core language</p><p id="-56l1hj_602"><span class="control" id="-56l1hj_608">Incompatible change type</span>: source</p><p id="-56l1hj_603"><span class="control" id="-56l1hj_609">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_604"><li class="list__item" id="-56l1hj_610"><p id="-56l1hj_612">1.7.20: report a warning (or an error in the progressive mode) when the type parameter for a type argument cannot be inferred into declared upper bounds</p></li><li class="list__item" id="-56l1hj_611"><p id="-56l1hj_613">2.0.0: raise the warning to an error</p></li></ul></aside></section><section class="chapter"><h3 id="keep-nullability-when-approximating-local-types-in-public-signatures" data-toc="keep-nullability-when-approximating-local-types-in-public-signatures">Keep nullability when approximating local types in public signatures</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_614"><p id="-56l1hj_615"><span class="control" id="-56l1hj_620">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-53982" id="-56l1hj_621" data-external="true" rel="noopener noreferrer" target="_blank">KT-53982</a></p><p id="-56l1hj_616"><span class="control" id="-56l1hj_622">Component</span>: Core language</p><p id="-56l1hj_617"><span class="control" id="-56l1hj_623">Incompatible change type</span>: source</p><p id="-56l1hj_618"><span class="control" id="-56l1hj_624">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_619"><li class="list__item" id="-56l1hj_625"><p id="-56l1hj_627">1.8.0: flexible types are approximated by flexible supertypes; report a warning when a declaration is inferred to have a non-nullable type that should be nullable, prompting to specify the type explicitly to avoid NPEs</p></li><li class="list__item" id="-56l1hj_626"><p id="-56l1hj_628">2.0.0: nullable types are approximated by nullable supertypes</p></li></ul></aside></section><section class="chapter"><h3 id="remove-special-handling-for-false-and-false-for-the-purposes-of-smart-casting" data-toc="remove-special-handling-for-false-and-false-for-the-purposes-of-smart-casting">Remove special handling for false &amp;&amp; ... and false || ... for the purposes of smart-casting</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_629"><p id="-56l1hj_630"><span class="control" id="-56l1hj_635">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-65776" id="-56l1hj_636" data-external="true" rel="noopener noreferrer" target="_blank">KT-65776</a></p><p id="-56l1hj_631"><span class="control" id="-56l1hj_637">Component</span>: Core language</p><p id="-56l1hj_632"><span class="control" id="-56l1hj_638">Incompatible change type</span>: source</p><p id="-56l1hj_633"><span class="control" id="-56l1hj_639">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_634"><li class="list__item" id="-56l1hj_640"><p id="-56l1hj_641">2.0.0: implement new behavior; no special handling for <code class="code" id="-56l1hj_642">false &amp;&amp; ...</code> and <code class="code" id="-56l1hj_643">false || ...</code></p></li></ul></aside></section><section class="chapter"><h3 id="forbid-inline-open-functions-in-enums" data-toc="forbid-inline-open-functions-in-enums">Forbid inline open functions in enums</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_644"><p id="-56l1hj_645"><span class="control" id="-56l1hj_650">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-34372" id="-56l1hj_651" data-external="true" rel="noopener noreferrer" target="_blank">KT-34372</a></p><p id="-56l1hj_646"><span class="control" id="-56l1hj_652">Component</span>: Core language</p><p id="-56l1hj_647"><span class="control" id="-56l1hj_653">Incompatible change type</span>: source</p><p id="-56l1hj_648"><span class="control" id="-56l1hj_654">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_649"><li class="list__item" id="-56l1hj_655"><p id="-56l1hj_657">1.8.0: report a warning on inline open functions in enums</p></li><li class="list__item" id="-56l1hj_656"><p id="-56l1hj_658">2.0.0: raise the warning to an error</p></li></ul></aside></section></section><section class="chapter"><h2 id="tools" data-toc="tools">Tools</h2><section class="chapter"><h3 id="visibility-changes-in-gradle" data-toc="visibility-changes-in-gradle">Visibility changes in Gradle</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_666"><p id="-56l1hj_667"><span class="control" id="-56l1hj_674">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-64653" id="-56l1hj_675" data-external="true" rel="noopener noreferrer" target="_blank">KT-64653</a></p><p id="-56l1hj_668"><span class="control" id="-56l1hj_676">Component</span>: Gradle</p><p id="-56l1hj_669"><span class="control" id="-56l1hj_677">Incompatible change type</span>: source</p><p id="-56l1hj_670"><span class="control" id="-56l1hj_678">Short summary</span>: Previously, certain Kotlin DSL functions and properties intended for a specific DSL context would inadvertently leak into other DSL contexts. We've added the <code class="code" id="-56l1hj_679">@KotlinGradlePluginDsl</code> annotation, which prevents the exposure of the Kotlin Gradle plugin DSL functions and properties to levels where they are not intended to be available. The following levels are separated from each other:</p><ul class="list _bullet" id="-56l1hj_671"><li class="list__item" id="-56l1hj_680"><p id="-56l1hj_684">Kotlin extension</p></li><li class="list__item" id="-56l1hj_681"><p id="-56l1hj_685">Kotlin target</p></li><li class="list__item" id="-56l1hj_682"><p id="-56l1hj_686">Kotlin compilation</p></li><li class="list__item" id="-56l1hj_683"><p id="-56l1hj_687">Kotlin compilation task</p></li></ul><p id="-56l1hj_672"><span class="control" id="-56l1hj_688">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_673"><li class="list__item" id="-56l1hj_689"><p id="-56l1hj_690">2.0.0: for most popular cases, the compiler reports warnings with suggestions on how to fix them if your build script is configured incorrectly; otherwise, the compiler reports an error</p></li></ul></aside></section><section class="chapter"><h3 id="deprecate-kotlinoptions-dsl" data-toc="deprecate-kotlinoptions-dsl">Deprecate kotlinOptions DSL</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_691"><p id="-56l1hj_692"><span class="control" id="-56l1hj_698">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-63419" id="-56l1hj_699" data-external="true" rel="noopener noreferrer" target="_blank">KT-63419</a></p><p id="-56l1hj_693"><span class="control" id="-56l1hj_700">Component</span>: Gradle</p><p id="-56l1hj_694"><span class="control" id="-56l1hj_701">Incompatible change type</span>: source</p><p id="-56l1hj_695"><span class="control" id="-56l1hj_702">Short summary</span>: The ability to configure compiler options through the <code class="code" id="-56l1hj_703">kotlinOptions</code> DSL and the related <code class="code" id="-56l1hj_704">KotlinCompile&lt;KotlinOptions&gt;</code> task interface have been deprecated.</p><p id="-56l1hj_696"><span class="control" id="-56l1hj_705">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_697"><li class="list__item" id="-56l1hj_706"><p id="-56l1hj_707">2.0.0: report a warning</p></li></ul></aside></section><section class="chapter"><h3 id="deprecate-compileroptions-in-kotlincompilation-dsl" data-toc="deprecate-compileroptions-in-kotlincompilation-dsl">Deprecate compilerOptions in KotlinCompilation DSL</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_708"><p id="-56l1hj_709"><span class="control" id="-56l1hj_715">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-65568" id="-56l1hj_716" data-external="true" rel="noopener noreferrer" target="_blank">KT-65568</a></p><p id="-56l1hj_710"><span class="control" id="-56l1hj_717">Component</span>: Gradle</p><p id="-56l1hj_711"><span class="control" id="-56l1hj_718">Incompatible change type</span>: source</p><p id="-56l1hj_712"><span class="control" id="-56l1hj_719">Short summary</span>: The ability to configure the <code class="code" id="-56l1hj_720">compilerOptions</code> property in the <code class="code" id="-56l1hj_721">KotlinCompilation</code> DSL has been deprecated.</p><p id="-56l1hj_713"><span class="control" id="-56l1hj_722">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_714"><li class="list__item" id="-56l1hj_723"><p id="-56l1hj_724">2.0.0: report a warning</p></li></ul></aside></section><section class="chapter"><h3 id="deprecate-old-ways-of-cinteropprocess-handling" data-toc="deprecate-old-ways-of-cinteropprocess-handling">Deprecate old ways of CInteropProcess handling</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_725"><p id="-56l1hj_726"><span class="control" id="-56l1hj_734">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-62795" id="-56l1hj_735" data-external="true" rel="noopener noreferrer" target="_blank">KT-62795</a></p><p id="-56l1hj_727"><span class="control" id="-56l1hj_736">Component</span>: Gradle</p><p id="-56l1hj_728"><span class="control" id="-56l1hj_737">Incompatible change type</span>: source</p><p id="-56l1hj_729"><span class="control" id="-56l1hj_738">Short summary</span>: the <code class="code" id="-56l1hj_739">CInteropProcess</code> task and the <code class="code" id="-56l1hj_740">CInteropSettings</code> class now use the <code class="code" id="-56l1hj_741">definitionFile</code> property instead of <code class="code" id="-56l1hj_742">defFile</code> and <code class="code" id="-56l1hj_743">defFileProperty</code>.</p><p id="-56l1hj_730">This eliminates the need to add extra <code class="code" id="-56l1hj_744">dependsOn</code> relations between the <code class="code" id="-56l1hj_745">CInteropProcess</code> task and the task that generates <code class="code" id="-56l1hj_746">defFile</code> when the <code class="code" id="-56l1hj_747">defFile</code> is dynamically generated.</p><p id="-56l1hj_731">In Kotlin/Native projects, Gradle now lazily verifies the presence of the <code class="code" id="-56l1hj_748">definitionFile</code> property after the connected task has run later in the build process.</p><p id="-56l1hj_732"><span class="control" id="-56l1hj_749">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_733"><li class="list__item" id="-56l1hj_750"><p id="-56l1hj_751">2.0.0: <code class="code" id="-56l1hj_752">defFile</code> and <code class="code" id="-56l1hj_753">defFileProperty</code> parameters are deprecated</p></li></ul></aside></section><section class="chapter"><h3 id="remove-kotlin-usek2-gradle-property" data-toc="remove-kotlin-usek2-gradle-property">Remove kotlin.useK2 Gradle property</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_754"><p id="-56l1hj_755"><span class="control" id="-56l1hj_761">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-64379" id="-56l1hj_762" data-external="true" rel="noopener noreferrer" target="_blank">KT-64379</a></p><p id="-56l1hj_756"><span class="control" id="-56l1hj_763">Component</span>: Gradle</p><p id="-56l1hj_757"><span class="control" id="-56l1hj_764">Incompatible change type</span>: behavioral</p><p id="-56l1hj_758"><span class="control" id="-56l1hj_765">Short summary</span>: The <code class="code" id="-56l1hj_766">kotlin.useK2</code> Gradle property has been removed. In Kotlin 1.9.*, it could be used to enable the K2 compiler. In Kotlin 2.0.0 and later, the K2 compiler is enabled by default, so the property has no effect and cannot be used to switch back to the previous compiler.</p><p id="-56l1hj_759"><span class="control" id="-56l1hj_767">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_760"><li class="list__item" id="-56l1hj_768"><p id="-56l1hj_770">1.8.20: the <code class="code" id="-56l1hj_771">kotlin.useK2</code> Gradle property is deprecated</p></li><li class="list__item" id="-56l1hj_769"><p id="-56l1hj_772">2.0.0: the <code class="code" id="-56l1hj_773">kotlin.useK2</code> Gradle property is removed</p></li></ul></aside></section><section class="chapter"><h3 id="remove-deprecated-platform-plugin-ids" data-toc="remove-deprecated-platform-plugin-ids">Remove deprecated platform plugin IDs</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_774"><p id="-56l1hj_775"><span class="control" id="-56l1hj_782">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-65187" id="-56l1hj_783" data-external="true" rel="noopener noreferrer" target="_blank">KT-65187</a></p><p id="-56l1hj_776"><span class="control" id="-56l1hj_784">Component</span>: Gradle</p><p id="-56l1hj_777"><span class="control" id="-56l1hj_785">Incompatible change type</span>: source</p><p id="-56l1hj_778"><span class="control" id="-56l1hj_786">Short summary</span>: support for these platform plugin IDs have been removed:</p><ul class="list _bullet" id="-56l1hj_779"><li class="list__item" id="-56l1hj_787"><p id="-56l1hj_793"><code class="code" id="-56l1hj_794">kotlin-platform-android</code></p></li><li class="list__item" id="-56l1hj_788"><p id="-56l1hj_795"><code class="code" id="-56l1hj_796">kotlin-platform-jvm</code></p></li><li class="list__item" id="-56l1hj_789"><p id="-56l1hj_797"><code class="code" id="-56l1hj_798">kotlin-platform-js</code></p></li><li class="list__item" id="-56l1hj_790"><p id="-56l1hj_799"><code class="code" id="-56l1hj_800">org.jetbrains.kotlin.platform.android</code></p></li><li class="list__item" id="-56l1hj_791"><p id="-56l1hj_801"><code class="code" id="-56l1hj_802">org.jetbrains.kotlin.platform.jvm</code></p></li><li class="list__item" id="-56l1hj_792"><p id="-56l1hj_803"><code class="code" id="-56l1hj_804">org.jetbrains.kotlin.platform.js</code></p></li></ul><p id="-56l1hj_780"><span class="control" id="-56l1hj_805">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_781"><li class="list__item" id="-56l1hj_806"><p id="-56l1hj_808">1.3: the platform plugin IDs are deprecated</p></li><li class="list__item" id="-56l1hj_807"><p id="-56l1hj_809">2.0.0: the platform plugin IDs are no longer supported</p></li></ul></aside></section><section class="chapter"><h3 id="remove-outputfile-javascript-compiler-option" data-toc="remove-outputfile-javascript-compiler-option">Remove outputFile JavaScript compiler option</h3><aside class="prompt" data-type="tip" data-title="" id="-56l1hj_810"><p id="-56l1hj_811"><span class="control" id="-56l1hj_817">Issue</span>: <a href="https://youtrack.jetbrains.com/issue/KT-61116" id="-56l1hj_818" data-external="true" rel="noopener noreferrer" target="_blank">KT-61116</a></p><p id="-56l1hj_812"><span class="control" id="-56l1hj_819">Component</span>: Gradle</p><p id="-56l1hj_813"><span class="control" id="-56l1hj_820">Incompatible change type</span>: source</p><p id="-56l1hj_814"><span class="control" id="-56l1hj_821">Short summary</span>: The <code class="code" id="-56l1hj_822">outputFile</code> JavaScript compiler option has been removed. Instead, you can use the <code class="code" id="-56l1hj_823">destinationDirectory</code> property of the <code class="code" id="-56l1hj_824">Kotlin2JsCompile</code> task to specify the directory where the compiled JavaScript output files are written.</p><p id="-56l1hj_815"><span class="control" id="-56l1hj_825">Deprecation cycle</span>:</p><ul class="list _bullet" id="-56l1hj_816"><li class="list__item" id="-56l1hj_826"><p id="-56l1hj_828">1.9.25: the <code class="code" id="-56l1hj_829">outputFile</code> compiler option is deprecated</p></li><li class="list__item" id="-56l1hj_827"><p id="-56l1hj_830">2.0.0: the <code class="code" id="-56l1hj_831">outputFile</code> compiler option is removed</p></li></ul></aside></section></section><div class="last-modified">21 April 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="compatibility-guide-21.html" class="navigation-links__prev">Compatibility guide for Kotlin 2.1</a><a href="compatibility-guide-19.html" class="navigation-links__next">Compatibility guide for Kotlin 1.9</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="frontend/app.js"></script></body></html>